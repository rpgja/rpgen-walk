var Yu=Object.defineProperty;var Ro=e=>{throw TypeError(e)};var Ju=(e,t,n)=>t in e?Yu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Wt=(e,t,n)=>Ju(e,typeof t!="symbol"?t+"":t,n),Po=(e,t,n)=>t.has(e)||Ro("Cannot "+n);var at=(e,t,n)=>(Po(e,t,"read from private field"),n?n.call(e):t.get(e)),Cn=(e,t,n)=>t.has(e)?Ro("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Tt=(e,t,n,r)=>(Po(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);import"../chunks/Bzak7iHL.js";import{aT as rc,b3 as Qu,be as ed,bf as td,bg as nd,aQ as ic,y as Us,z as tt,A as Bi,G as ra,I as ri,J as jn,K as ac,N as hn,U as rd,M as Ws,bh as sc,D as Zr,aB as oc,k as _,a0 as id,B as ad,H as sd,C as Do,F as Kr,al as od,aO as ld,bi as ia,bj as aa,ak as No,T as cd,ai as Fo,aG as lc,L as Hs,bk as ud,bl as Aa,Q as cc,at as $s,bm as dd,ay as fd,bn as hd,aF as vd,bo as pd,a2 as js,bp as gd,E as uc,bq as md,aN as bd,br as yd,O as dc,i as pi,P as qs,l as wd,bs as _d,bt as xd,bu as kd,bv as Gs,a8 as Ed,R as Ne,bw as fc,ae as hc,bx as Cd,by as Sd,p as be,bz as Td,s as Pe,a as Y,q as ye,v as q,b as G,x as H,c as ge,f as de,af as ue,bA as Ad,b8 as ht,g as Me,V as te,d as fe,ad as pe,t as Ae,a1 as ft,u as Id,ac as vc,aZ as Od,aX as Ld,bB as sa,ag as rr,n as lt,bC as Kn,bD as Xn}from"../chunks/6GlHgJsA.js";import{b as Bo,c as Rd,w as wn,s as it,g as Bt,d as pc,o as Pd}from"../chunks/BNQ8jEUf.js";import{p as j,r as Fe,s as $e,a as He,d as Qe,e as tn,i as Re,b as Ct,c as pt,m as Dd}from"../chunks/s47Yc2Hl.js";import{a as qe,s as Ve,b as ot,c as as,r as Ge,d as Xt,i as ss,e as os,f as zt}from"../chunks/Mwg6rRhB.js";import{b as gc}from"../chunks/Nv8HB1zc.js";import{p as Ht}from"../chunks/dV0LjxSi.js";const Nd=[];function Un(e,t=!1,n=!1){return Pi(e,new Map,"",Nd,null,n)}function Pi(e,t,n,r,i=null,s=!1){if(typeof e=="object"&&e!==null){var a=t.get(e);if(a!==void 0)return a;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(rc(e)){var o=Array(e.length);t.set(e,o),i!==null&&t.set(i,o);for(var l=0;l<e.length;l+=1){var u=e[l];l in e&&(o[l]=Pi(u,t,n,r,null,s))}return o}if(Qu(e)===ed){o={},t.set(e,o),i!==null&&t.set(i,o);for(var d in e)o[d]=Pi(e[d],t,n,r,null,s);return o}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function"&&!s)return Pi(e.toJSON(),t,n,r,e)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return e}}function Di(e,t,n){tt&&Bi();var r=e,i=rd,s,a,o=null,l=td()?nd:ic;function u(){s&&Ws(s),o!==null&&(o.lastChild.remove(),r.before(o),o=null),s=a}Us(()=>{if(l(i,i=t())){var d=r,v=ac();v&&(o=document.createDocumentFragment(),o.append(d=ra())),a=ri(()=>n(d)),v?jn.add_callback(u):u()}}),tt&&(r=hn)}function gt(e,t){return t}function Fd(e,t,n){for(var r=e.items,i=[],s=t.length,a=0;a<s;a++)hd(t[a].e,i,!0);var o=s>0&&i.length===0&&n!==null;if(o){var l=n.parentNode;vd(l),l.append(n),r.clear(),qt(e,t[0].prev,t[s-1].next)}pd(i,()=>{for(var u=0;u<s;u++){var d=t[u];o||(r.delete(d.k),qt(e,d.prev,d.next)),$s(d.e,!o)}})}function mt(e,t,n,r,i,s=null){var a=e,o={flags:t,items:new Map,first:null},l=(t&sc)!==0;if(l){var u=e;a=tt?Zr(oc(u)):u.appendChild(ra())}tt&&Bi();var d=null,v=!1,g=new Map,c=id(()=>{var h=n();return rc(h)?h:h==null?[]:lc(h)}),p,f;function m(){Bd(f,p,o,g,a,i,t,r,n),s!==null&&(p.length===0?d?Hs(d):d=ri(()=>s(a)):d!==null&&Ws(d,()=>{d=null}))}Us(()=>{f??(f=js),p=_(c);var h=p.length;if(v&&h===0)return;v=h===0;let y=!1;if(tt){var x=ad(a)===sd;x!==(h===0)&&(a=Do(),Zr(a),Kr(!1),y=!0)}if(tt){for(var S=null,k,A=0;A<h;A++){if(hn.nodeType===od&&hn.data===ld){a=hn,y=!0,Kr(!1);break}var I=p[A],R=r(I,A);k=ls(hn,o,S,null,I,R,A,i,t,n),o.items.set(R,k),S=k}h>0&&Zr(Do())}if(tt)h===0&&s&&(d=ri(()=>s(a)));else if(ac()){var O=new Set,B=jn;for(A=0;A<h;A+=1){I=p[A],R=r(I,A);var N=o.items.get(R)??g.get(R);N?(t&(ia|aa))!==0&&mc(N,I,A,t):(k=ls(null,o,null,null,I,R,A,i,t,n,!0),g.set(R,k)),O.add(R)}for(const[E,L]of o.items)O.has(E)||B.skipped_effects.add(L.e);B.add_callback(m)}else m();y&&Kr(!0),_(c)}),tt&&(a=hn)}function Bd(e,t,n,r,i,s,a,o,l){var $,ne,M,F;var u=(a&dd)!==0,d=(a&(ia|aa))!==0,v=t.length,g=n.items,c=n.first,p=c,f,m=null,h,y=[],x=[],S,k,A,I;if(u)for(I=0;I<v;I+=1)S=t[I],k=o(S,I),A=g.get(k),A!==void 0&&(($=A.a)==null||$.measure(),(h??(h=new Set)).add(A));for(I=0;I<v;I+=1){if(S=t[I],k=o(S,I),A=g.get(k),A===void 0){var R=r.get(k);if(R!==void 0){r.delete(k),g.set(k,R);var O=m?m.next:p;qt(n,m,R),qt(n,R,O),Ia(R,O,i),m=R}else{var B=p?p.e.nodes_start:i;m=ls(B,n,m,m===null?n.first:m.next,S,k,I,s,a,l)}g.set(k,m),y=[],x=[],p=m.next;continue}if(d&&mc(A,S,I,a),(A.e.f&Aa)!==0&&(Hs(A.e),u&&((ne=A.a)==null||ne.unfix(),(h??(h=new Set)).delete(A))),A!==p){if(f!==void 0&&f.has(A)){if(y.length<x.length){var N=x[0],E;m=N.prev;var L=y[0],b=y[y.length-1];for(E=0;E<y.length;E+=1)Ia(y[E],N,i);for(E=0;E<x.length;E+=1)f.delete(x[E]);qt(n,L.prev,b.next),qt(n,m,L),qt(n,b,N),p=N,m=b,I-=1,y=[],x=[]}else f.delete(A),Ia(A,p,i),qt(n,A.prev,A.next),qt(n,A,m===null?n.first:m.next),qt(n,m,A),m=A;continue}for(y=[],x=[];p!==null&&p.k!==k;)(p.e.f&Aa)===0&&(f??(f=new Set)).add(p),x.push(p),p=p.next;if(p===null)continue;A=p}y.push(A),m=A,p=A.next}if(p!==null||f!==void 0){for(var P=f===void 0?[]:lc(f);p!==null;)(p.e.f&Aa)===0&&P.push(p),p=p.next;var U=P.length;if(U>0){var V=(a&sc)!==0&&v===0?i:null;if(u){for(I=0;I<U;I+=1)(M=P[I].a)==null||M.measure();for(I=0;I<U;I+=1)(F=P[I].a)==null||F.fix()}Fd(n,P,V)}}u&&cc(()=>{var oe;if(h!==void 0)for(A of h)(oe=A.a)==null||oe.apply()}),e.first=n.first&&n.first.e,e.last=m&&m.e;for(var J of r.values())$s(J.e);r.clear()}function mc(e,t,n,r){(r&ia)!==0&&No(e.v,t),(r&aa)!==0?No(e.i,n):e.i=n}function ls(e,t,n,r,i,s,a,o,l,u,d){var v=(l&ia)!==0,g=(l&ud)===0,c=v?g?cd(i,!1,!1):Fo(i):i,p=(l&aa)===0?a:Fo(a),f={i:p,v:c,k:s,a:null,e:null,prev:n,next:r};try{if(e===null){var m=document.createDocumentFragment();m.append(e=ra())}return f.e=ri(()=>o(e,c,p,u),tt),f.e.prev=n&&n.e,f.e.next=r&&r.e,n===null?d||(t.first=f):(n.next=f,n.e.next=f.e),r!==null&&(r.prev=f,r.e.prev=f.e),f}finally{}}function Ia(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,i=t?t.e.nodes_start:n,s=e.e.nodes_start;s!==null&&s!==r;){var a=fd(s);i.before(s),s=a}}function qt(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function zd(e,t,n,r,i,s){let a=tt;tt&&Bi();var o,l,u=null;tt&&hn.nodeType===gd&&(u=hn,Bi());var d=tt?hn:e,v;Us(()=>{const g=t()||null;var c=md;g!==o&&(v&&(g===null?Ws(v,()=>{v=null,l=null}):g===l?Hs(v):($s(v),Bo(!1))),g&&g!==l&&(v=ri(()=>{if(u=tt?u:document.createElementNS(c,g),bd(u,u),r){tt&&yd(g)&&u.append(document.createComment(""));var p=tt?oc(u):u.appendChild(ra());tt&&(p===null?Kr(!1):Zr(p)),r(u,p)}js.nodes_end=u,d.before(u)})),o=g,o&&(l=o),Bo(!0))},uc),a&&(Kr(!0),Zr(d))}function Md(e,t,n){dc(()=>{var r=pi(()=>t(e,n==null?void 0:n())||{});if(n&&(r!=null&&r.update)){var i=!1,s={};qs(()=>{var a=n();wd(a),i&&ic(s,a)&&(s=a,r.update(a))}),i=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}const Vd=()=>performance.now(),vn={tick:e=>requestAnimationFrame(e),now:()=>Vd(),tasks:new Set};function bc(){const e=vn.now();vn.tasks.forEach(t=>{t.c(e)||(vn.tasks.delete(t),t.f())}),vn.tasks.size!==0&&vn.tick(bc)}function Ud(e){let t;return vn.tasks.size===0&&vn.tick(bc),{promise:new Promise(n=>{vn.tasks.add(t={c:e,f:n})}),abort(){vn.tasks.delete(t)}}}function Ci(e,t){Gs(()=>{e.dispatchEvent(new CustomEvent(t))})}function Wd(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function zo(e){const t={},n=e.split(";");for(const r of n){const[i,s]=r.split(":");if(!i||s===void 0)break;const a=Wd(i.trim());t[a]=s.trim()}return t}const Hd=e=>e;function $d(e,t,n,r){var i=(e&kd)!==0,s="both",a,o=t.inert,l=t.style.overflow,u,d;function v(){return Gs(()=>a??(a=n()(t,(r==null?void 0:r())??{},{direction:s})))}var g={is_global:i,in(){t.inert=o,Ci(t,"introstart"),u=cs(t,v(),d,1,()=>{Ci(t,"introend"),u==null||u.abort(),u=a=void 0,t.style.overflow=l})},out(m){t.inert=!0,Ci(t,"outrostart"),d=cs(t,v(),u,0,()=>{Ci(t,"outroend"),m==null||m()})},stop:()=>{u==null||u.abort(),d==null||d.abort()}},c=js;if((c.transitions??(c.transitions=[])).push(g),Rd){var p=i;if(!p){for(var f=c.parent;f&&(f.f&uc)!==0;)for(;(f=f.parent)&&(f.f&_d)===0;);p=!f||(f.f&xd)!==0}p&&dc(()=>{pi(()=>g.in())})}}function cs(e,t,n,r,i){var s=r===1;if(Ed(t)){var a,o=!1;return cc(()=>{if(!o){var m=t({direction:s?"in":"out"});a=cs(e,m,n,r,i)}}),{abort:()=>{o=!0,a==null||a.abort()},deactivate:()=>a.deactivate(),reset:()=>a.reset(),t:()=>a.t()}}if(n==null||n.deactivate(),!(t!=null&&t.duration))return i(),{abort:Ne,deactivate:Ne,reset:Ne,t:()=>r};const{delay:l=0,css:u,tick:d,easing:v=Hd}=t;var g=[];if(s&&n===void 0&&(d&&d(0,1),u)){var c=zo(u(0,1));g.push(c,c)}var p=()=>1-r,f=e.animate(g,{duration:l,fill:"forwards"});return f.onfinish=()=>{f.cancel();var m=(n==null?void 0:n.t())??1-r;n==null||n.abort();var h=r-m,y=t.duration*Math.abs(h),x=[];if(y>0){var S=!1;if(u)for(var k=Math.ceil(y/16.666666666666668),A=0;A<=k;A+=1){var I=m+h*v(A/k),R=zo(u(I,1-I));x.push(R),S||(S=R.overflow==="hidden")}S&&(e.style.overflow="hidden"),p=()=>{var O=f.currentTime;return m+h*v(O/y)},d&&Ud(()=>{if(f.playState!=="running")return!1;var O=p();return d(O,1-O),!0})}f=e.animate(x,{duration:y,fill:"forwards"}),f.onfinish=()=>{p=()=>r,d==null||d(r,1-r),i()}},{abort:()=>{f&&(f.cancel(),f.effect=null,f.onfinish=Ne)},deactivate:()=>{i=Ne},reset:()=>{r===0&&(d==null||d(1,0))},t:()=>p()}}function pn(e,t,n=t){var r=new WeakSet;fc(e,"input",async i=>{var s=i?e.defaultValue:e.value;if(s=Oa(e)?La(s):s,n(s),jn!==null&&r.add(jn),await hc(),s!==(s=t())){var a=e.selectionStart,o=e.selectionEnd;e.value=s??"",o!==null&&(e.selectionStart=a,e.selectionEnd=Math.min(o,e.value.length))}}),(tt&&e.defaultValue!==e.value||pi(t)==null&&e.value)&&(n(Oa(e)?La(e.value):e.value),jn!==null&&r.add(jn)),qs(()=>{var i=t();if(e===document.activeElement){var s=Cd??jn;if(r.has(s))return}Oa(e)&&i===La(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function ii(e,t,n=t){fc(e,"change",r=>{var i=r?e.defaultChecked:e.checked;n(i)}),(tt&&e.defaultChecked!==e.checked||pi(t)==null)&&n(e.checked),qs(()=>{var r=t();e.checked=!!r})}function Oa(e){var t=e.type;return t==="number"||t==="range"}function La(e){return e===""?null:+e}function Mo(e,t){Sd(window,["resize"],()=>Gs(()=>t(window[e])))}const yc=typeof window<"u",Vo=e=>yc?localStorage.getItem(e):null,Uo=(e,t)=>{yc&&(t===null?localStorage.removeItem(e):localStorage.setItem(e,t))};var In,fi;class gi{constructor(t,n){Cn(this,In);Cn(this,fi);Tt(this,In,t),Tt(this,fi,n)}get value(){return Vo(at(this,In))}set value(t){var n;this.value!==t&&(Uo(at(this,In),t),(n=at(this,fi))==null||n.call(this))}get json(){try{const t=Vo(at(this,In));return t?JSON.parse(t):null}finally{this.value=null}}set json(t){t===null&&Uo(at(this,In),null),this.value=JSON.stringify(t)}}In=new WeakMap,fi=new WeakMap;const Wo=new gi("tool"),wc=new gi("color"),_c=new gi("standard"),xc=new gi("fps"),kc=new gi("preview");let Zs=!1,ir,ar,Dt,oa,At;const Gt=(e,t)=>e+t*Dt,Ec=e=>[e%Dt,Math.floor(e/Dt)],Ni=(e,t,n,r)=>{Zs=!0,ir=e,ar=t;const i=Cc(r);oa=i.length,Dt=n,At=i,ai.clear();for(const[s,a]of i.entries())ai.set(a,s*Dt);Qn.clear(),Mt.clear(),si.clear()},ai=new Map,Qn=new Map,Mt=new Map,si=new Map,ke={w:{key:"w",label:"後"},a:{key:"a",label:"左"},s:{key:"s",label:"前"},d:{key:"d",label:"右"},q:{key:"q",label:"左後"},e:{key:"e",label:"右後"},z:{key:"z",label:"左前"},c:{key:"c",label:"右前"}},oi=e=>e.map(t=>t.key).join(""),Cc=e=>e.split("").map(t=>t in ke?ke[t]:{key:t,label:""}),Ks={label:"RPGEN",w:16,h:16,frames:2,ways:[ke.w,ke.d,ke.s,ke.a]},Sc={label:"RPGツクール2000",w:24,h:32,frames:3,ways:[ke.w,ke.d,ke.s,ke.a]},Tc={label:"RPGツクールXP",w:32,h:48,frames:4,ways:[ke.s,ke.a,ke.d,ke.w]},Ac={label:"RPGツクールVX",w:32,h:32,frames:3,ways:[ke.s,ke.a,ke.d,ke.w]},Ic={label:"RPGツクールMV",w:48,h:48,frames:3,ways:[ke.s,ke.a,ke.d,ke.w]},la=[Ks,Sc,Tc,Ac,Ic],Sn=la.find(e=>e.label===_c.value)??Ks,zn=Object.freeze(Object.defineProperty({__proto__:null,RPGEN:Ks,RPGMaker2000:Sc,RPGMakerMV:Ic,RPGMakerVX:Ac,RPGMakerXP:Tc,canvasByI:Mt,dataURLByI:si,defaultStandard:Sn,get frames(){return Dt},get height(){return ar},iByWay:ai,init:Ni,layersByI:Qn,get ready(){return Zs},standards:la,strToWays:Cc,toI:Gt,toXY:Ec,way:ke,get ways(){return oa},get waysOrder(){return At},waysToStr:oi,get width(){return ir}},Symbol.toStringTag,{value:"Module"}));var ln;function Oc(e){return{lang:(e==null?void 0:e.lang)??(ln==null?void 0:ln.lang),message:e==null?void 0:e.message,abortEarly:(e==null?void 0:e.abortEarly)??(ln==null?void 0:ln.abortEarly),abortPipeEarly:(e==null?void 0:e.abortPipeEarly)??(ln==null?void 0:ln.abortPipeEarly)}}var Ra;function jd(e){return Ra==null?void 0:Ra.get(e)}var Pa;function qd(e){return Pa==null?void 0:Pa.get(e)}var Da;function Gd(e,t){var n;return(n=Da==null?void 0:Da.get(e))==null?void 0:n.get(t)}function li(e){var n,r;const t=typeof e;return t==="string"?`"${e}"`:t==="number"||t==="bigint"||t==="boolean"?`${e}`:t==="object"||t==="function"?(e&&((r=(n=Object.getPrototypeOf(e))==null?void 0:n.constructor)==null?void 0:r.name))??"null":t}function kt(e,t,n,r,i){const s=i&&"input"in i?i.input:n.value,a=(i==null?void 0:i.expected)??e.expects??null,o=(i==null?void 0:i.received)??li(s),l={kind:e.kind,type:e.type,input:s,expected:a,received:o,message:`Invalid ${t}: ${a?`Expected ${a} but r`:"R"}eceived ${o}`,requirement:e.requirement,path:i==null?void 0:i.path,issues:i==null?void 0:i.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},u=e.kind==="schema",d=(i==null?void 0:i.message)??e.message??Gd(e.reference,l.lang)??(u?qd(l.lang):null)??r.message??jd(l.lang);d!==void 0&&(l.message=typeof d=="function"?d(l):d),u&&(n.typed=!1),n.issues?n.issues.push(l):n.issues=[l]}function mi(e){return{version:1,vendor:"valibot",validate(t){return e["~run"]({value:t},Oc())}}}function Zd(e,t){const n=[...new Set(e)];return n.length>1?`(${n.join(` ${t} `)})`:n[0]??"never"}function Lc(e,t){return{kind:"validation",type:"check",reference:Lc,async:!1,expects:null,requirement:e,message:t,"~run"(n,r){return n.typed&&!this.requirement(n.value)&&kt(this,"input",n,r),n}}}function Rr(e){return{kind:"validation",type:"integer",reference:Rr,async:!1,expects:null,requirement:Number.isInteger,message:e,"~run"(t,n){return t.typed&&!this.requirement(t.value)&&kt(this,"integer",t,n),t}}}function Pr(e,t){return{kind:"validation",type:"max_value",reference:Pr,async:!1,expects:`<=${e instanceof Date?e.toJSON():li(e)}`,requirement:e,message:t,"~run"(n,r){return n.typed&&!(n.value<=this.requirement)&&kt(this,"value",n,r,{received:n.value instanceof Date?n.value.toJSON():li(n.value)}),n}}}function Dr(e,t){return{kind:"validation",type:"min_value",reference:Dr,async:!1,expects:`>=${e instanceof Date?e.toJSON():li(e)}`,requirement:e,message:t,"~run"(n,r){return n.typed&&!(n.value>=this.requirement)&&kt(this,"value",n,r,{received:n.value instanceof Date?n.value.toJSON():li(n.value)}),n}}}function Rc(e,t){return{kind:"validation",type:"regex",reference:Rc,async:!1,expects:`${e}`,requirement:e,message:t,"~run"(n,r){return n.typed&&!this.requirement.test(n.value)&&kt(this,"format",n,r),n}}}function Nr(e){return{kind:"transformation",type:"transform",reference:Nr,async:!1,operation:e,"~run"(t){return t.value=this.operation(t.value),t}}}function Pc(){return{kind:"transformation",type:"trim",reference:Pc,async:!1,"~run"(e){return e.value=e.value.trim(),e}}}function Dc(e){return{kind:"validation",type:"url",reference:Dc,async:!1,expects:null,requirement(t){try{return new URL(t),!0}catch{return!1}},message:e,"~run"(t,n){return t.typed&&!this.requirement(t.value)&&kt(this,"URL",t,n),t}}}function Kd(e,t,n){return typeof e.fallback=="function"?e.fallback(t,n):e.fallback}function Xd(e,t,n){return typeof e.default=="function"?e.default(t,n):e.default}function mn(e){return{kind:"schema",type:"number",reference:mn,expects:"number",async:!1,message:e,get"~standard"(){return mi(this)},"~run"(t,n){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:kt(this,"type",t,n),t}}}function Nc(e,t){return{kind:"schema",type:"strict_object",reference:Nc,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return mi(this)},"~run"(n,r){var s;const i=n.value;if(i&&typeof i=="object"){n.typed=!0,n.value={};for(const a in this.entries){const o=this.entries[a];if(a in i||(o.type==="exact_optional"||o.type==="optional"||o.type==="nullish")&&o.default!==void 0){const l=a in i?i[a]:Xd(o),u=o["~run"]({value:l},r);if(u.issues){const d={type:"object",origin:"value",input:i,key:a,value:l};for(const v of u.issues)v.path?v.path.unshift(d):v.path=[d],(s=n.issues)==null||s.push(v);if(n.issues||(n.issues=u.issues),r.abortEarly){n.typed=!1;break}}u.typed||(n.typed=!1),n.value[a]=u.value}else if(o.fallback!==void 0)n.value[a]=Kd(o);else if(o.type!=="exact_optional"&&o.type!=="optional"&&o.type!=="nullish"&&(kt(this,"key",n,r,{input:void 0,expected:`"${a}"`,path:[{type:"object",origin:"key",input:i,key:a,value:i[a]}]}),r.abortEarly))break}if(!n.issues||!r.abortEarly){for(const a in i)if(!(a in this.entries)){kt(this,"key",n,r,{input:a,expected:"never",path:[{type:"object",origin:"key",input:i,key:a,value:i[a]}]});break}}}else kt(this,"type",n,r);return n}}}function Mn(e){return{kind:"schema",type:"string",reference:Mn,expects:"string",async:!1,message:e,get"~standard"(){return mi(this)},"~run"(t,n){return typeof t.value=="string"?t.typed=!0:kt(this,"type",t,n),t}}}function Ho(e){let t;if(e)for(const n of e)t?t.push(...n.issues):t=n.issues;return t}function ca(e,t){return{kind:"schema",type:"union",reference:ca,expects:Zd(e.map(n=>n.expects),"|"),async:!1,options:e,message:t,get"~standard"(){return mi(this)},"~run"(n,r){let i,s,a;for(const o of this.options){const l=o["~run"]({value:n.value},r);if(l.typed)if(l.issues)s?s.push(l):s=[l];else{i=l;break}else a?a.push(l):a=[l]}if(i)return i;if(s){if(s.length===1)return s[0];kt(this,"type",n,r,{issues:Ho(s)}),n.typed=!0}else{if((a==null?void 0:a.length)===1)return a[0];kt(this,"type",n,r,{issues:Ho(a)})}return n}}}function sr(...e){return{...e[0],pipe:e,get"~standard"(){return mi(this)},"~run"(t,n){for(const r of e)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=r["~run"](t,n))}return t}}}function An(e,t,n){const r=e["~run"]({value:t},Oc(n));return{typed:r.typed,success:!r.issues,output:r.value,issues:r.issues}}const Yd=sr(ca([Mn(),mn()]),Nr(e=>Number(e)),mn(),Rr(),Dr(16),Pr(256)),Jd=sr(ca([Mn(),mn()]),Nr(e=>Number(e)),mn(),Rr(),Dr(16),Pr(256)),Qd=sr(ca([Mn(),mn()]),Nr(e=>Number(e)),mn(),Rr(),Dr(1),Pr(8)),ef=sr(Mn(),Pc(),Rc(/^[a-z]+$/),Lc(e=>e.length===new Set(e).size)),Fc=sr(Mn(),Nr(e=>Number(e)),mn(),Rr(),Dr(2),Pr(8)),Bc=sr(Mn(),Nr(e=>Number(e)),mn(),Rr(),Dr(0),Pr(1)),zc=sr(Mn(),Dc());var tf=(e,t,n,r,i,s)=>{const a=(v,g)=>{const c=(g*t+v)*4;return[e[c],e[c+1],e[c+2],e[c+3]]},o=(v,g,c)=>{const p=(g*t+v)*4;[e[p],e[p+1],e[p+2],e[p+3]]=c},l=(v,g)=>v.every((c,p)=>c===g[p]),u=a(r,i);if(l(u,s))return null;const d=[[r,i]];for(;d.length>0;){const v=d.pop();if(!v)break;const[g,c]=v;if(g<0||c<0||g>=t||c>=n)continue;const p=a(g,c);l(p,u)&&(o(g,c,s),d.push([g+1,c],[g-1,c],[g,c+1],[g,c-1]))}return e},wt,ec,nf=(ec=class{constructor(){Cn(this,wt);Tt(this,wt,{value:null,prev:null,next:null})}add(e){const t={value:e,prev:at(this,wt),next:null};at(this,wt).next=t,Tt(this,wt,t)}undo(){const{prev:e}=at(this,wt);return e===null||e.value===null?null:(Tt(this,wt,e),at(this,wt).value)}redo(){const{next:e}=at(this,wt);return e===null||e.value===null?null:(Tt(this,wt,e),at(this,wt).value)}},wt=new WeakMap,ec),gn=null,dn,fn,Xr,us,yt,zi=0,st=[],Cr,hi,tc,or=(tc=class{constructor(e,t){Cn(this,Cr);Cn(this,hi);Tt(this,Cr,e),Tt(this,hi,t??null)}get value(){return at(this,Cr)}set value(e){var t;Tt(this,Cr,e),(t=at(this,hi))==null||t.call(this)}},Cr=new WeakMap,hi=new WeakMap,tc),Rn=new or("#222222"),rf=new or(2),af=new or(16),sf=new or(32),Xs=new or(!1,()=>{gn&&(gn.style.transform=`scaleX(${Xs.value?-1:1})`)}),Mi=()=>Xr,of=(e=1,t=64,n=fn)=>{Xr=Math.floor(Math.floor(n/t)*e),Mc()},ds=0,fs=0,hs=0,vs=0,ps=0,gs=0,$n=null,Mc=()=>{ds=0,fs=0,hs=0,vs=0,ps=0,gs=0,$n=null},_r=()=>{const e=[];for(const t of st)t&&e.push(t);return e},lf=(e,t)=>gn==null?void 0:gn.insertBefore(e,t.nextSibling),Tr=e=>{for(const n of st)n==null||n.canvas.remove();st=e,bs();let t=us.canvas;for(const n of st)n&&(lf(n.canvas,t),t=n.canvas)},Ys=new or(null),Vc=new or(null),cf=(e,t=640,n=360)=>{const r=document.createElement("div");e.innerHTML="",e.append(r),gn=r,dn=Math.floor(t),fn=Math.floor(n),r.innerHTML="",r.style.position="relative",r.style.zIndex="0",r.style.display="inline-block",r.style.width=`${t}px`,r.style.height=`${n}px`,zi=0,us=new Yt(""),yt=new Yt(""),yt.canvas.style.zIndex=String(2**16+3),Ys.value=us,Vc.value=yt,st=[]},Yn=e=>{const{clientX:t,clientY:n}=e,r=yt.canvas.getBoundingClientRect();let i=Math.floor(t-r.left);const s=Math.floor(n-r.top);return Xs.value&&(i=dn-i),[i,s,e.buttons]},uf=e=>{yt.canvas.addEventListener("click",t=>requestAnimationFrame(()=>e(...Yn(t))),{passive:!0}),yt.canvas.addEventListener("contextmenu",t=>t.preventDefault()),yt.canvas.addEventListener("auxclick",t=>{t.preventDefault(),requestAnimationFrame(()=>e(...Yn(t)))})},df=e=>{yt.canvas.addEventListener("pointerdown",t=>{Mc(),yt.canvas.setPointerCapture(t.pointerId),ms=!0,requestAnimationFrame(()=>e(...Yn(t)))},{passive:!0}),yt.canvas.addEventListener("pointermove",t=>{if(ms){for(const n of t.getCoalescedEvents())requestAnimationFrame(()=>e(...Yn(n)));requestAnimationFrame(()=>e(...Yn(t)))}},{passive:!0}),yt.canvas.addEventListener("touchstart",t=>t.preventDefault()),yt.canvas.addEventListener("touchmove",t=>t.preventDefault())},ms=!1,ff=e=>{yt.canvas.addEventListener("pointerup",t=>{yt.canvas.releasePointerCapture(t.pointerId),ms=!1,requestAnimationFrame(()=>e(...Yn(t)))},{passive:!0})},Sr,vi,nc,Yt=(nc=class{constructor(e="",t=""){Wt(this,"canvas");Wt(this,"ctx");Wt(this,"name");Wt(this,"index");Wt(this,"history",new nf);Wt(this,"hash",0);Cn(this,Sr,!0);Cn(this,vi,100);Wt(this,"locked",!1);Wt(this,"used",!1);Wt(this,"uuid");this.name=e,this.uuid=t||crypto.randomUUID();const n=document.createElement("canvas");gn==null||gn.append(n),n.width=dn,n.height=fn,n.style.position="absolute",n.style.zIndex=String(++zi),n.style.left="0",n.style.top="0",this.canvas=n;const r=n.getContext("2d",{willReadFrequently:!0});if(!r)throw new Error("Failed to get 2D rendering context");this.ctx=r,st.push(this),this.index=st.length-1,this.trace()}get meta(){const{name:e,index:t,hash:n,visible:r,opacity:i,locked:s,used:a,uuid:o}=this;return{name:e,index:t,hash:n,visible:r,opacity:i,locked:s,used:a,uuid:o}}set meta(e){this.name=e.name,this.index=e.index,this.hash=e.hash,this.visible=e.visible,this.opacity=e.opacity,this.locked=e.locked,this.used=e.used,this.uuid=e.uuid}delete(){st[this.index]=null,this.canvas.remove()}get prev(){const e=st.slice(0,this.index).findLast(t=>t);return e||null}get next(){const e=st.slice(this.index+1).find(t=>t);return e||null}swap(e){const t=this.index;if(e===t)return;const n=st[e];n&&([st[t],st[e]]=[st[e],st[t]],[this.index,n.index]=[n.index,this.index],[this.canvas.style.zIndex,n.canvas.style.zIndex]=[n.canvas.style.zIndex,this.canvas.style.zIndex])}get visible(){return at(this,Sr)}set visible(e){Tt(this,Sr,e),this.canvas.style.visibility=at(this,Sr)?"visible":"hidden"}get opacity(){return at(this,vi)}set opacity(e){Tt(this,vi,e),this.canvas.style.opacity=`${e}%`}get data(){return this.ctx.getImageData(0,0,dn,fn).data}set data(e){const t=new ImageData(e,dn,fn);this.ctx.putImageData(t,0,0)}modified(){const e=hf(this.data);return this.hash!==e?(this.hash=e,this.used=!0,!0):!1}trace(){this.history.add(this.data)}undo(){if(this.locked)return;const e=this.history.undo();e&&(this.data=e)}redo(){if(this.locked)return;const e=this.history.redo();e&&(this.data=e)}clear(){this.locked||this.ctx.clearRect(0,0,dn,fn)}translateByDot(e,t){if(this.locked)return;const n=Xr;ds+=e,fs+=t;const r=Math.round(ds/n)*n,i=Math.round(fs/n)*n;(r!==hs||i!==vs)&&($n||($n=this.ctx.getImageData(0,0,dn,fn)),this.clear(),this.ctx.putImageData($n,r,i),hs=r,vs=i)}translate(e,t){this.locked||($n||($n=this.ctx.getImageData(0,0,dn,fn)),ps+=e,gs+=t,this.clear(),this.ctx.putImageData($n,Math.floor(ps),Math.floor(gs)))}eraseByDot(e,t){if(this.locked)return;const n=Xr,r=Math.floor(e/n)*n,i=Math.floor(t/n)*n;this.ctx.clearRect(r,i,n,n)}drawByDot(e,t){if(this.locked)return;this.ctx.fillStyle=Rn.value;const n=Xr,r=Math.floor(e/n)*n,i=Math.floor(t/n)*n;this.ctx.fillRect(r,i,n,n)}erase(e,t){this.locked||(this.ctx.globalCompositeOperation="destination-out",this.ctx.beginPath(),this.ctx.arc(e,t,sf.value>>1,0,Math.PI*2),this.ctx.fill(),this.ctx.globalCompositeOperation="source-over")}draw(e,t){if(this.locked)return;this.ctx.fillStyle=Rn.value;const n=af.value,r=n>>1;this.ctx.fillRect(e-r,t-r,n,n)}drawLine(e,t,n,r){this.locked||(this.ctx.strokeStyle=Rn.value,this.ctx.lineWidth=rf.value,this.ctx.lineCap="round",this.ctx.beginPath(),this.ctx.moveTo(e,t),this.ctx.lineTo(n,r),this.ctx.stroke())}},Sr=new WeakMap,vi=new WeakMap,nc),xr=()=>{const e=document.createElement("canvas");e.width=dn,e.height=fn;const t=e.getContext("2d");if(!t)throw new Error("Failed to get 2D rendering context");for(const n of st)!n||!n.visible||(t.globalAlpha=n.opacity/100,t.drawImage(n.canvas,0,0));return e},bs=()=>{zi=2;const e=_r();for(const[t,n]of e.entries())n.index=t,n.canvas.style.zIndex=String(++zi);st=e},hf=e=>{let t=2166136261;for(let n=0;n<e.length;n++)t^=e[n],t=Math.imul(t,16777619);return t>>>0},vf=(e,t,n,r)=>{const i=n-e,s=r-t,a=Math.max(...[i,s].map(Math.abs))||1,o=i/a,l=s/a;return[...new Array(a).keys()].map(u=>[u*o+e,u*l+t].map(Math.round))};const Gn=wn(wc.value??Rn.value),Jn=wn(0),$o=An(Fc,xc.value),Nn=wn($o.success?$o.output:2),jo=An(Bc,kc.value),Vi=wn(jo.success?jo.output:0),er=wn(100),Ar=wn(!1),Zt=wn(!1),Jt=wn("");/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 */const pf={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var gf=Td("<svg><!><!></svg>");function je(e,t){be(t,!0);const n=j(t,"color",3,"currentColor"),r=j(t,"size",3,24),i=j(t,"strokeWidth",3,2),s=j(t,"absoluteStrokeWidth",3,!1),a=j(t,"iconNode",19,()=>[]),o=Fe(t,["$$slots","$$events","$$legacy","name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","children"]);var l=gf();qe(l,v=>({...pf,...o,width:r(),height:r(),stroke:n(),"stroke-width":v,class:["lucide-icon lucide",t.name&&`lucide-${t.name}`,t.class]}),[()=>s()?Number(i())*24/Number(r()):i()]);var u=q(l);mt(u,17,a,gt,(v,g)=>{var c=ue(()=>Ad(_(g),2));let p=()=>_(c)[0],f=()=>_(c)[1];var m=ge(),h=de(m);zd(h,p,!0,(y,x)=>{qe(y,()=>({...f()}))}),Y(v,m)});var d=G(u);Pe(d,()=>t.children??Ne),H(l),Y(e,l),ye()}function ys(e,t){be(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Fe(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 5v14"}],["path",{d:"m19 12-7 7-7-7"}]];je(e,$e({name:"arrow-down"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=ge(),o=de(a);Pe(o,()=>t.children??Ne),Y(i,a)},$$slots:{default:!0}})),ye()}function mf(e,t){be(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Fe(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]];je(e,$e({name:"arrow-left"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=ge(),o=de(a);Pe(o,()=>t.children??Ne),Y(i,a)},$$slots:{default:!0}})),ye()}function bf(e,t){be(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Fe(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M5 12h14"}],["path",{d:"m12 5 7 7-7 7"}]];je(e,$e({name:"arrow-right"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=ge(),o=de(a);Pe(o,()=>t.children??Ne),Y(i,a)},$$slots:{default:!0}})),ye()}function qn(e,t){be(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Fe(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m5 12 7-7 7 7"}],["path",{d:"M12 19V5"}]];je(e,$e({name:"arrow-up"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=ge(),o=de(a);Pe(o,()=>t.children??Ne),Y(i,a)},$$slots:{default:!0}})),ye()}function yf(e,t){be(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Fe(t,["$$slots","$$events","$$legacy"]);const r=[["circle",{cx:"11",cy:"13",r:"9"}],["path",{d:"M14.35 4.65 16.3 2.7a2.41 2.41 0 0 1 3.4 0l1.6 1.6a2.4 2.4 0 0 1 0 3.4l-1.95 1.95"}],["path",{d:"m22 2-1.5 1.5"}]];je(e,$e({name:"bomb"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=ge(),o=de(a);Pe(o,()=>t.children??Ne),Y(i,a)},$$slots:{default:!0}})),ye()}function wf(e,t){be(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Fe(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M20 6 9 17l-5-5"}]];je(e,$e({name:"check"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=ge(),o=de(a);Pe(o,()=>t.children??Ne),Y(i,a)},$$slots:{default:!0}})),ye()}function qo(e,t){be(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Fe(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21"}],["path",{d:"M22 21H7"}],["path",{d:"m5 11 9 9"}]];je(e,$e({name:"eraser"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=ge(),o=de(a);Pe(o,()=>t.children??Ne),Y(i,a)},$$slots:{default:!0}})),ye()}function _f(e,t){be(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Fe(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m15 18-.722-3.25"}],["path",{d:"M2 8a10.645 10.645 0 0 0 20 0"}],["path",{d:"m20 15-1.726-2.05"}],["path",{d:"m4 15 1.726-2.05"}],["path",{d:"m9 18 .722-3.25"}]];je(e,$e({name:"eye-closed"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=ge(),o=de(a);Pe(o,()=>t.children??Ne),Y(i,a)},$$slots:{default:!0}})),ye()}function ws(e,t){be(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Fe(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"}],["circle",{cx:"12",cy:"12",r:"3"}]];je(e,$e({name:"eye"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=ge(),o=de(a);Pe(o,()=>t.children??Ne),Y(i,a)},$$slots:{default:!0}})),ye()}function xf(e,t){be(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Fe(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 17h.01"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3"}]];je(e,$e({name:"file-question"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=ge(),o=de(a);Pe(o,()=>t.children??Ne),Y(i,a)},$$slots:{default:!0}})),ye()}function kf(e,t){be(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Fe(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m3 7 5 5-5 5V7"}],["path",{d:"m21 7-5 5 5 5V7"}],["path",{d:"M12 20v2"}],["path",{d:"M12 14v2"}],["path",{d:"M12 8v2"}],["path",{d:"M12 2v2"}]];je(e,$e({name:"flip-horizontal-2"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=ge(),o=de(a);Pe(o,()=>t.children??Ne),Y(i,a)},$$slots:{default:!0}})),ye()}function Ef(e,t){be(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Fe(t,["$$slots","$$events","$$legacy"]);const r=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 9h18"}],["path",{d:"M3 15h18"}],["path",{d:"M9 3v18"}],["path",{d:"M15 3v18"}]];je(e,$e({name:"grid-3x3"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=ge(),o=de(a);Pe(o,()=>t.children??Ne),Y(i,a)},$$slots:{default:!0}})),ye()}function Go(e,t){be(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Fe(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M13 13.74a2 2 0 0 1-2 0L2.5 8.87a1 1 0 0 1 0-1.74L11 2.26a2 2 0 0 1 2 0l8.5 4.87a1 1 0 0 1 0 1.74z"}],["path",{d:"m20 14.285 1.5.845a1 1 0 0 1 0 1.74L13 21.74a2 2 0 0 1-2 0l-8.5-4.87a1 1 0 0 1 0-1.74l1.5-.845"}]];je(e,$e({name:"layers-2"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=ge(),o=de(a);Pe(o,()=>t.children??Ne),Y(i,a)},$$slots:{default:!0}})),ye()}function Zo(e,t){be(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Fe(t,["$$slots","$$events","$$legacy"]);const r=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}]];je(e,$e({name:"lock"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=ge(),o=de(a);Pe(o,()=>t.children??Ne),Y(i,a)},$$slots:{default:!0}})),ye()}function Cf(e,t){be(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Fe(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"}]];je(e,$e({name:"moon"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=ge(),o=de(a);Pe(o,()=>t.children??Ne),Y(i,a)},$$slots:{default:!0}})),ye()}function Sf(e,t){be(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Fe(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 2v20"}],["path",{d:"m15 19-3 3-3-3"}],["path",{d:"m19 9 3 3-3 3"}],["path",{d:"M2 12h20"}],["path",{d:"m5 9-3 3 3 3"}],["path",{d:"m9 5 3-3 3 3"}]];je(e,$e({name:"move"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=ge(),o=de(a);Pe(o,()=>t.children??Ne),Y(i,a)},$$slots:{default:!0}})),ye()}function Tf(e,t){be(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Fe(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"}],["path",{d:"m5 2 5 5"}],["path",{d:"M2 13h15"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"}]];je(e,$e({name:"paint-bucket"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=ge(),o=de(a);Pe(o,()=>t.children??Ne),Y(i,a)},$$slots:{default:!0}})),ye()}function Af(e,t){be(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Fe(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}]];je(e,$e({name:"pen"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=ge(),o=de(a);Pe(o,()=>t.children??Ne),Y(i,a)},$$slots:{default:!0}})),ye()}function If(e,t){be(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Fe(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m12 9-8.414 8.414A2 2 0 0 0 3 18.828v1.344a2 2 0 0 1-.586 1.414A2 2 0 0 1 3.828 21h1.344a2 2 0 0 0 1.414-.586L15 12"}],["path",{d:"m18 9 .4.4a1 1 0 1 1-3 3l-3.8-3.8a1 1 0 1 1 3-3l.4.4 3.4-3.4a1 1 0 1 1 3 3z"}],["path",{d:"m2 22 .414-.414"}]];je(e,$e({name:"pipette"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=ge(),o=de(a);Pe(o,()=>t.children??Ne),Y(i,a)},$$slots:{default:!0}})),ye()}function Of(e,t){be(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Fe(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];je(e,$e({name:"plus"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=ge(),o=de(a);Pe(o,()=>t.children??Ne),Y(i,a)},$$slots:{default:!0}})),ye()}function Lf(e,t){be(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Fe(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M21 7v6h-6"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7"}]];je(e,$e({name:"redo"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=ge(),o=de(a);Pe(o,()=>t.children??Ne),Y(i,a)},$$slots:{default:!0}})),ye()}function Rf(e,t){be(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Fe(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7"}]];je(e,$e({name:"save"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=ge(),o=de(a);Pe(o,()=>t.children??Ne),Y(i,a)},$$slots:{default:!0}})),ye()}function Pf(e,t){be(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Fe(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"}]];je(e,$e({name:"square-pen"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=ge(),o=de(a);Pe(o,()=>t.children??Ne),Y(i,a)},$$slots:{default:!0}})),ye()}function Df(e,t){be(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Fe(t,["$$slots","$$events","$$legacy"]);const r=[["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M12 2v2"}],["path",{d:"M12 20v2"}],["path",{d:"m4.93 4.93 1.41 1.41"}],["path",{d:"m17.66 17.66 1.41 1.41"}],["path",{d:"M2 12h2"}],["path",{d:"M20 12h2"}],["path",{d:"m6.34 17.66-1.41 1.41"}],["path",{d:"m19.07 4.93-1.41 1.41"}]];je(e,$e({name:"sun"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=ge(),o=de(a);Pe(o,()=>t.children??Ne),Y(i,a)},$$slots:{default:!0}})),ye()}function Ir(e,t){be(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Fe(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17"}]];je(e,$e({name:"trash-2"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=ge(),o=de(a);Pe(o,()=>t.children??Ne),Y(i,a)},$$slots:{default:!0}})),ye()}function Nf(e,t){be(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Fe(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M3 7v6h6"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"}]];je(e,$e({name:"undo"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=ge(),o=de(a);Pe(o,()=>t.children??Ne),Y(i,a)},$$slots:{default:!0}})),ye()}function Fr(e,t){be(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Fe(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];je(e,$e({name:"x"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=ge(),o=de(a);Pe(o,()=>t.children??Ne),Y(i,a)},$$slots:{default:!0}})),ye()}var Ff=()=>{},Bf=fe('<img alt="frame" class="gimp-checkered-background w-full h-full object-cover bg-surface-500"/>'),zf=fe('<div tabindex="0" role="button"><div class="absolute top-1 left-1 bg-primary-600/80 text-white text-xs font-bold rounded-full w-4 h-4 flex items-center justify-center"> </div> <!></div>'),Mf=fe('<div class="flex items-center gap-4"><div class="flex gap-4"></div> <div class="w-6 text-sm font-semibold"><!></div></div>'),Vf=fe('<section class="space-y-4 p-4 max-h-[70vh] overflow-y-auto overflow-x-hidden [scrollbar-gutter:stable]"><!></section>');function Uf(e,t){be(t,!0);const n=()=>Qe(Jn,"$activeIndex",r),[r,i]=tn();let s=j(t,"activeLayer",15,void 0),a=0;Me(()=>{t.initTimestamp&&(He(Jn,0),a=0)}),Me(()=>{if(!t.initTimestamp)return;Qn.set(a,_r());const d=Qn.get(n());d?(Tr(d),s(d[d.length-1])):(Tr([]),s(new Yt("レイヤー #1")))});let o=pe(0);Me(()=>{if(!t.initTimestamp||!t.pointerupTimestamp)return;const d=xr();Mt.set(n(),d);const v=d.toDataURL("image/png");si.set(n(),v),te(o,performance.now(),!0)});var l=Vf(),u=q(l);Di(u,()=>t.initTimestamp,d=>{var v=ge(),g=de(v);{var c=p=>{var f=ge(),m=de(f);mt(m,17,()=>Array(oa),gt,(h,y,x)=>{var S=Mf(),k=q(S);mt(k,21,()=>Array(Dt),gt,(B,N,E)=>{var L=ge(),b=de(L);Di(b,()=>Gt(E,x),P=>{var U=zf();U.__keydown=[Ff],U.__click=()=>{const ne=Gt(E,x);n()!==ne&&(a=n(),He(Jn,ne))};var V=q(U),J=q(V,!0);H(V);var $=G(V,2);Di($,()=>_(o),ne=>{var M=Bf();Ae(F=>Ve(M,"src",F),[()=>si.get(Gt(E,x))??"https://placehold.co/32x32?text=new"]),Y(ne,M)}),H(U),Ae((ne,M)=>{ot(U,1,ne),it(J,M)},[()=>`relative w-16 h-16 rounded-container overflow-hidden cursor-pointer ${n()===Gt(E,x)?"ring-4 ring-primary-500 ring-offset-2":""}`,()=>Gt(E,x)+1]),Y(P,U)}),Y(B,L)}),H(k);var A=G(k,2),I=q(A);{var R=B=>{qn(B,{})},O=B=>{var N=ge(),E=de(N);{var L=P=>{mf(P,{})},b=P=>{var U=ge(),V=de(U);{var J=ne=>{ys(ne,{})},$=ne=>{var M=ge(),F=de(M);{var oe=X=>{bf(X,{})},re=X=>{var Ee=ge(),_e=de(Ee);{var me=ce=>{qn(ce,{class:"rotate-315"})},Ce=ce=>{var xe=ge(),Be=de(xe);{var De=Z=>{qn(Z,{class:"rotate-45"})},w=Z=>{var z=ge(),T=de(z);{var C=K=>{qn(K,{class:"rotate-225"})},D=K=>{var Q=ge(),W=de(Q);{var ie=ae=>{qn(ae,{class:"rotate-135"})},le=ae=>{xf(ae,{})};Re(W,ae=>{At[x]===ke.c?ae(ie):ae(le,!1)},!0)}Y(K,Q)};Re(T,K=>{At[x]===ke.z?K(C):K(D,!1)},!0)}Y(Z,z)};Re(Be,Z=>{At[x]===ke.e?Z(De):Z(w,!1)},!0)}Y(ce,xe)};Re(_e,ce=>{At[x]===ke.q?ce(me):ce(Ce,!1)},!0)}Y(X,Ee)};Re(F,X=>{At[x]===ke.d?X(oe):X(re,!1)},!0)}Y(ne,M)};Re(V,ne=>{At[x]===ke.s?ne(J):ne($,!1)},!0)}Y(P,U)};Re(E,P=>{At[x]===ke.a?P(L):P(b,!1)},!0)}Y(B,N)};Re(I,B=>{At[x]===ke.w?B(R):B(O,!1)})}H(A),H(S),Y(h,S)}),Y(p,f)};Re(g,p=>{Zs&&p(c)})}Y(d,v)}),H(l),Y(e,l),ye(),i()}ht(["keydown","click"]);var Si=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Br(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Na,Ko;function Wf(){if(Ko)return Na;Ko=1;function e(t){var n=t[0],r=t[1]/100,i=t[2]/100,s,a;return i===0?[0,0,0]:(i*=2,r*=i<=1?i:2-i,a=(i+r)/2,s=2*r/(i+r),[n,s*100,a*100])}return Na=e,Na}var Hf=Wf();const $f=Br(Hf);var Fa,Xo;function jf(){if(Xo)return Fa;Xo=1;function e(t){var n=t[0],r=t[1]/100,i=t[2]/100,s,a;return a=(2-r)*i,s=r*i,s/=a<=1?a:2-a,s=s||0,a/=2,[n,s*100,a*100]}return Fa=e,Fa}var qf=jf();const Gf=Br(qf);function Zf(e){var t=e[0],n=e[1],r=e[2],i=Math.max(t,n,r),s=Math.min(t,n,r),a=i-s,o=a&&60*(i===t?(n-r)/a%6:i===n?(r-t)/a+2:(t-n)/a+4);return[o<0?o+360:o,i&&a*100/i,i*100/255]}function Kf(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,i=r*n,s=i*(1-Math.abs(t%2-1)),a=r-i,o=(s+a)*255+.5|0,l=(i+a)*255+.5|0,u=a*255+.5|0,d=t|0;return d===1?[o,l,u]:d===2?[u,l,o]:d===3?[u,o,l]:d===4?[o,u,l]:d===5?[l,u,o]:[l,o,u]}var Ba,Yo;function Xf(){if(Yo)return Ba;Yo=1;function e(t,n,r){return Math.min(Math.max(t,n),r)}return Ba=e,Ba}var za,Jo;function Yf(){if(Jo)return za;Jo=1;var e=Xf();function t(r){var i=Math.round(e(r,0,255)),s=i.toString(16);return s.length==1?"0"+s:s}function n(r){var i=r.length===4?t(r[3]*255):"";return"#"+t(r[0])+t(r[1])+t(r[2])+i}return za=n,za}var Jf=Yf();const Qf=Br(Jf);var Ma,Qo;function eh(){if(Qo)return Ma;Qo=1;function e(n){for(var r="#",i=1;i<n.length;i++){var s=n.charAt(i);r+=s+s}return r}function t(n){(n.length===4||n.length===5)&&(n=e(n));var r=[parseInt(n.substring(1,3),16),parseInt(n.substring(3,5),16),parseInt(n.substring(5,7),16)];if(n.length===9){var i=parseFloat((parseInt(n.substring(7,9),16)/255).toFixed(2));r.push(i)}return r}return Ma=t,Ma}var th=eh();const nh=Br(th);function el(e,t){return e?[Va(e[0])?Uc(e[0]):t[0],Va(e[1])?Ui(e[1]):t[1],Va(e[2])?Ui(e[2]):t[2]]:t}function tl(e){return[Uc(e[0]),Ui(e[1]),Ui(e[2])]}function Uc(e){var t=Math.round(e%360*10)/10;return t<0?t+360:t}function Ui(e){return e<0?0:e>100?100:(e*10+.5|0)/10}function Va(e){return typeof e=="number"&&isFinite(e)}var Yr=typeof globalThis<"u"?globalThis:self,Ua="PointerEvent"in Yr?function(e,t,n){e.addEventListener("pointerdown",function(r){r.button===0&&t(r)!==!1&&this.setPointerCapture(r.pointerId)}),e.addEventListener("pointermove",function(r){this.hasPointerCapture(r.pointerId)&&n(r)})}:"ontouchend"in Yr?function(e,t,n){var r=!1;e.addEventListener("touchstart",function(i){i.touches.length===1&&t(i.touches[0])!==!1&&(r=!0,i.preventDefault())}),e.addEventListener("touchmove",function(i){r&&i.touches.length===1&&(i.preventDefault(),n(i.touches[0]))})}:function(e,t,n){var r=function(s){n(s)},i=function(){removeEventListener("mouseup",i),removeEventListener("mousemove",r)};e.addEventListener("mousedown",function(s){s.button===0&&t(s)!==!1&&(addEventListener("mousemove",r),addEventListener("mouseup",i))})},Wn={hsv:[0,100,100],hsl:[0,100,50],wheelDiameter:200,wheelThickness:20,handleDiameter:16,wheelReflectsSaturation:!0,onChange:function(){}},_s=Yr.DOMMatrix||Yr.WebKitCSSMatrix||Yr.MSCSSMatrix,rh=function(e){for(var t=[e];e=e.parentElement;)t.push(e);for(var n=new _s,r=t.length-1;r>=0;r--){var i=getComputedStyle(t[r]),s=i.transform;if(s&&s!=="none"){var a=i.transformOrigin.split(" ").map(parseFloat);n=n.translate(a[0],a[1]).multiply(new _s(s)).translate(-a[0],-a[1])}}return n.inverse()},Wa=function(e,t){return e===t||e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},ih=(function(){function e(t){var n=this;this.options=t,this.wheelDiameter=this.options.wheelDiameter||Wn.wheelDiameter,this.wheelThickness=this.options.wheelThickness||Wn.wheelThickness,this.handleDiameter=this.options.handleDiameter||Wn.handleDiameter,this.onChange=this.options.onChange||Wn.onChange,this.wheelReflectsSaturation=this.options.wheelReflectsSaturation!==void 0?this.options.wheelReflectsSaturation:Wn.wheelReflectsSaturation,this.rootElement=this.options.appendTo.appendChild(Wr("div","reinvented-color-wheel")),this.hueWheelElement=this.rootElement.appendChild(Wr("canvas","reinvented-color-wheel--hue-wheel")),this.hueWheelContext=this.hueWheelElement.getContext("2d"),this.hueHandleElement=this.rootElement.appendChild(Wr("div","reinvented-color-wheel--hue-handle")),this.svSpaceElement=this.rootElement.appendChild(Wr("canvas","reinvented-color-wheel--sv-space")),this.svSpaceContext=this.svSpaceElement.getContext("2d"),this.svHandleElement=this.rootElement.appendChild(Wr("div","reinvented-color-wheel--sv-handle")),this._redrawHueWheel=function(){n._redrawHueWheelRequested=!1;var u=n.wheelDiameter,d=u/2,v=d-n.wheelThickness/2,g=Math.PI/180,c=n.wheelReflectsSaturation?","+n._hsl[1]+"%,"+n._hsl[2]+"%)":",100%,50%)",p=n.hueWheelContext;p.clearRect(0,0,u,u),p.lineWidth=n.wheelThickness;for(var f=0;f<360;f++)p.beginPath(),p.arc(d,d,v,(f-90.7)*g,(f-89.3)*g),p.strokeStyle="hsl("+f+c,p.stroke()},this.hueWheelContext.imageSmoothingEnabled=!1,this.svSpaceContext.imageSmoothingEnabled=!1,this._hsv=el(t.hsv?t.hsv:t.hsl?e.hsl2hsv(t.hsl):t.rgb?e.rgb2hsv(t.rgb):t.hex?e.rgb2hsv(e.hex2rgb(t.hex)):void 0,Wn.hsv),this._hsl=tl(e.hsv2hsl(this._hsv)),this._rgb=e.hsv2rgb(this._hsv),this._hex=e.rgb2hex(this._rgb);var r=function(u,d){var v=n._inverseTransform.multiply(new _s("matrix(1,0,0,1,"+u+","+d+")"));return{x:v.e,y:v.f}},i=function(u){n._inverseTransform=rh(u);var d=u.getBoundingClientRect();n._center=r(d.left+d.width/2,d.top+d.height/2)},s=function(u){i(n.hueWheelElement);var d=r(u.clientX,u.clientY),v=d.x-n._center.x,g=d.y-n._center.y,c=n.wheelDiameter/2-n.wheelThickness;if(v*v+g*g<c*c)return!1;a(u)},a=function(u){var d=r(u.clientX,u.clientY),v=d.x-n._center.x,g=d.y-n._center.y,c=Math.atan2(g,v);n.hsv=[c*180/Math.PI+90,n.hsv[1],n.hsv[2]]},o=function(u){var d=r(u.clientX,u.clientY),v=100/n.svSpaceElement.width,g=(d.x-n._center.x)*v+50,c=(n._center.y-d.y)*v+50;n.hsv=[n._hsv[0],g,c]},l=function(u){i(n.svSpaceElement),o(u)};Ua(this.hueWheelElement,s,a),Ua(this.svSpaceElement,l,o),Ua(this.svHandleElement,l,o),this.redraw()}return Object.defineProperty(e.prototype,"hsv",{get:function(){return this._hsv},set:function(t){Wa(this._hsv,t)||this._setHSV(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hsl",{get:function(){return this._hsl},set:function(t){Wa(this._hsl,t)||this._setHSV(e.hsl2hsv(t))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rgb",{get:function(){return this._rgb},set:function(t){Wa(this._rgb,t)||this._setHSV(e.rgb2hsv(t))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hex",{get:function(){return this._hex},set:function(t){this._hex!==t&&(this.rgb=e.hex2rgb(t))},enumerable:!1,configurable:!0}),e.prototype.setHSV=function(){this.hsv=arguments},e.prototype.setHSL=function(){this.hsl=arguments},e.prototype.redraw=function(){this.hueWheelElement.width=this.hueWheelElement.height=this.wheelDiameter,this.svSpaceElement.width=this.svSpaceElement.height=(this.wheelDiameter-this.wheelThickness*2)*Math.SQRT1_2;var t=this.hueHandleElement.style,n=this.svHandleElement.style;t.width=t.height=n.width=n.height=this.handleDiameter+"px",t.marginLeft=t.marginTop=n.marginLeft=n.marginTop=-this.handleDiameter/2+"px",this._redrawHueWheel(),this._redrawHueHandle(),this._redrawSvSpace(),this._redrawSvHandle()},e.prototype._setHSV=function(t){var n=this._hsv,r=this._hsv=el(t,n),i=n[0]-r[0],s=n[1]-r[1]||n[2]-r[2];i&&(this._hsl=[r[0],this._hsl[1],this._hsl[2]],this._redrawHueHandle(),this._updateSvBackground()),s&&(this._hsl=tl(e.hsv2hsl(r)),this._redrawSvHandle(),this.wheelReflectsSaturation&&!this._redrawHueWheelRequested&&(requestAnimationFrame(this._redrawHueWheel),this._redrawHueWheelRequested=!0)),(i||s)&&(this._rgb=e.hsv2rgb(r),this._hex=e.rgb2hex(this._rgb),this.onChange(this))},e.prototype._redrawSvSpace=function(){this._updateSvBackground();var t=this.svSpaceElement.width,n=this.svSpaceContext,r=n.createLinearGradient(0,0,t,0),i=n.createLinearGradient(0,0,0,t);r.addColorStop(0,"rgba(255,255,255,1)"),r.addColorStop(1,"rgba(255,255,255,0)"),i.addColorStop(0,"rgba(0,0,0,0)"),i.addColorStop(1,"rgba(0,0,0,1)"),n.fillStyle=r,n.fillRect(0,0,t,t),n.fillStyle=i,n.fillRect(0,0,t,t)},e.prototype._updateSvBackground=function(){this.svSpaceElement.style.backgroundColor="hsl("+this._hsv[0]+",100%,50%)"},e.prototype._redrawHueHandle=function(){var t=this.wheelDiameter/2,n=t-this.wheelThickness/2,r=(this._hsv[0]-90)*Math.PI/180,i=this.hueHandleElement.style;i.left=n*Math.cos(r)+t+"px",i.top=n*Math.sin(r)+t+"px"},e.prototype._redrawSvHandle=function(){var t=this.svSpaceElement.width,n=this.svHandleElement.style,r=(this.wheelDiameter-t)/2,i=this._hsv;n.left=r+t*i[1]/100+"px",n.top=r+t*(1-i[2]/100)+"px"},e.default=e,e.defaultOptions=Wn,e.hsv2hsl=Gf,e.hsl2hsv=$f,e.hsv2rgb=Kf,e.rgb2hsv=Zf,e.rgb2hex=Qf,e.hex2rgb=nh,e})();function Wr(e,t){var n=document.createElement(e);return n.className=t,n}var ah=fe("<center></center>");function sh(e,t){be(t,!0);const n=()=>Qe(Gn,"$color",r),[r,i]=tn(),s=ih;let a=pe(void 0),o=pe(void 0);const l=n();Me(()=>{te(o,new s({appendTo:_(a),hex:l,wheelDiameter:200,wheelThickness:20,handleDiameter:16,wheelReflectsSaturation:!1,onChange:d=>{He(Gn,d.hex)}}),!0)}),Me(()=>{_(o)&&(_(o).hex=n())});var u=ah();Ct(u,d=>te(a,d),()=>_(a)),Y(e,u),ye(),i()}function On(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ha={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var nl;function oh(){return nl||(nl=1,(function(e,t){(function(n){e.exports=n()})(function(){return(function n(r,i,s){function a(u,d){if(!i[u]){if(!r[u]){var v=typeof On=="function"&&On;if(!d&&v)return v(u,!0);if(o)return o(u,!0);var g=new Error("Cannot find module '"+u+"'");throw g.code="MODULE_NOT_FOUND",g}var c=i[u]={exports:{}};r[u][0].call(c.exports,function(p){var f=r[u][1][p];return a(f||p)},c,c.exports,n,r,i,s)}return i[u].exports}for(var o=typeof On=="function"&&On,l=0;l<s.length;l++)a(s[l]);return a})({1:[function(n,r,i){var s=n("./utils"),a=n("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,d,v,g,c,p,f,m=[],h=0,y=l.length,x=y,S=s.getTypeOf(l)!=="string";h<l.length;)x=y-h,v=S?(u=l[h++],d=h<y?l[h++]:0,h<y?l[h++]:0):(u=l.charCodeAt(h++),d=h<y?l.charCodeAt(h++):0,h<y?l.charCodeAt(h++):0),g=u>>2,c=(3&u)<<4|d>>4,p=1<x?(15&d)<<2|v>>6:64,f=2<x?63&v:64,m.push(o.charAt(g)+o.charAt(c)+o.charAt(p)+o.charAt(f));return m.join("")},i.decode=function(l){var u,d,v,g,c,p,f=0,m=0,h="data:";if(l.substr(0,h.length)===h)throw new Error("Invalid base64 input, it looks like a data url.");var y,x=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&x--,l.charAt(l.length-2)===o.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=a.uint8array?new Uint8Array(0|x):new Array(0|x);f<l.length;)u=o.indexOf(l.charAt(f++))<<2|(g=o.indexOf(l.charAt(f++)))>>4,d=(15&g)<<4|(c=o.indexOf(l.charAt(f++)))>>2,v=(3&c)<<6|(p=o.indexOf(l.charAt(f++))),y[m++]=u,c!==64&&(y[m++]=d),p!==64&&(y[m++]=v);return y}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),a=n("./stream/DataWorker"),o=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function u(d,v,g,c,p){this.compressedSize=d,this.uncompressedSize=v,this.crc32=g,this.compression=c,this.compressedContent=p}u.prototype={getContentWorker:function(){var d=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),v=this;return d.on("end",function(){if(this.streamInfo.data_length!==v.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(d,v,g){return d.pipe(new o).pipe(new l("uncompressedSize")).pipe(v.compressWorker(g)).pipe(new l("compressedSize")).withStreamInfo("compression",v)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils"),a=(function(){for(var o,l=[],u=0;u<256;u++){o=u;for(var d=0;d<8;d++)o=1&o?3988292384^o>>>1:o>>>1;l[u]=o}return l})();r.exports=function(o,l){return o!==void 0&&o.length?s.getTypeOf(o)!=="string"?(function(u,d,v,g){var c=a,p=g+v;u^=-1;for(var f=g;f<p;f++)u=u>>>8^c[255&(u^d[f])];return-1^u})(0|l,o,o.length,0):(function(u,d,v,g){var c=a,p=g+v;u^=-1;for(var f=g;f<p;f++)u=u>>>8^c[255&(u^d.charCodeAt(f))];return-1^u})(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=n("pako"),o=n("./utils"),l=n("./stream/GenericWorker"),u=s?"uint8array":"array";function d(v,g){l.call(this,"FlateWorker/"+v),this._pako=null,this._pakoAction=v,this._pakoOptions=g,this.meta={}}i.magic="\b\0",o.inherits(d,l),d.prototype.processChunk=function(v){this.meta=v.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(u,v.data),!1)},d.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var v=this;this._pako.onData=function(g){v.push({data:g,meta:v.meta})}},i.compressWorker=function(v){return new d("Deflate",v)},i.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function s(c,p){var f,m="";for(f=0;f<p;f++)m+=String.fromCharCode(255&c),c>>>=8;return m}function a(c,p,f,m,h,y){var x,S,k=c.file,A=c.compression,I=y!==u.utf8encode,R=o.transformTo("string",y(k.name)),O=o.transformTo("string",u.utf8encode(k.name)),B=k.comment,N=o.transformTo("string",y(B)),E=o.transformTo("string",u.utf8encode(B)),L=O.length!==k.name.length,b=E.length!==B.length,P="",U="",V="",J=k.dir,$=k.date,ne={crc32:0,compressedSize:0,uncompressedSize:0};p&&!f||(ne.crc32=c.crc32,ne.compressedSize=c.compressedSize,ne.uncompressedSize=c.uncompressedSize);var M=0;p&&(M|=8),I||!L&&!b||(M|=2048);var F=0,oe=0;J&&(F|=16),h==="UNIX"?(oe=798,F|=(function(X,Ee){var _e=X;return X||(_e=Ee?16893:33204),(65535&_e)<<16})(k.unixPermissions,J)):(oe=20,F|=(function(X){return 63&(X||0)})(k.dosPermissions)),x=$.getUTCHours(),x<<=6,x|=$.getUTCMinutes(),x<<=5,x|=$.getUTCSeconds()/2,S=$.getUTCFullYear()-1980,S<<=4,S|=$.getUTCMonth()+1,S<<=5,S|=$.getUTCDate(),L&&(U=s(1,1)+s(d(R),4)+O,P+="up"+s(U.length,2)+U),b&&(V=s(1,1)+s(d(N),4)+E,P+="uc"+s(V.length,2)+V);var re="";return re+=`
\0`,re+=s(M,2),re+=A.magic,re+=s(x,2),re+=s(S,2),re+=s(ne.crc32,4),re+=s(ne.compressedSize,4),re+=s(ne.uncompressedSize,4),re+=s(R.length,2),re+=s(P.length,2),{fileRecord:v.LOCAL_FILE_HEADER+re+R+P,dirRecord:v.CENTRAL_FILE_HEADER+s(oe,2)+re+s(N.length,2)+"\0\0\0\0"+s(F,4)+s(m,4)+R+P+N}}var o=n("../utils"),l=n("../stream/GenericWorker"),u=n("../utf8"),d=n("../crc32"),v=n("../signature");function g(c,p,f,m){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=f,this.encodeFileName=m,this.streamFiles=c,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(g,l),g.prototype.push=function(c){var p=c.meta.percent||0,f=this.entriesCount,m=this._sources.length;this.accumulate?this.contentBuffer.push(c):(this.bytesWritten+=c.data.length,l.prototype.push.call(this,{data:c.data,meta:{currentFile:this.currentFile,percent:f?(p+100*(f-m-1))/f:100}}))},g.prototype.openedSource=function(c){this.currentSourceOffset=this.bytesWritten,this.currentFile=c.file.name;var p=this.streamFiles&&!c.file.dir;if(p){var f=a(c,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:f.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(c){this.accumulate=!1;var p=this.streamFiles&&!c.file.dir,f=a(c,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(f.dirRecord),p)this.push({data:(function(m){return v.DATA_DESCRIPTOR+s(m.crc32,4)+s(m.compressedSize,4)+s(m.uncompressedSize,4)})(c),meta:{percent:100}});else for(this.push({data:f.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var c=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var f=this.bytesWritten-c,m=(function(h,y,x,S,k){var A=o.transformTo("string",k(S));return v.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(h,2)+s(h,2)+s(y,4)+s(x,4)+s(A.length,2)+A})(this.dirRecords.length,f,c,this.zipComment,this.encodeFileName);this.push({data:m,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(c){this._sources.push(c);var p=this;return c.on("data",function(f){p.processChunk(f)}),c.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),c.on("error",function(f){p.error(f)}),this},g.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(c){var p=this._sources;if(!l.prototype.error.call(this,c))return!1;for(var f=0;f<p.length;f++)try{p[f].error(c)}catch{}return!0},g.prototype.lock=function(){l.prototype.lock.call(this);for(var c=this._sources,p=0;p<c.length;p++)c[p].lock()},r.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),a=n("./ZipFileWorker");i.generateWorker=function(o,l,u){var d=new a(l.streamFiles,u,l.platform,l.encodeFileName),v=0;try{o.forEach(function(g,c){v++;var p=(function(y,x){var S=y||x,k=s[S];if(!k)throw new Error(S+" is not a valid compression method !");return k})(c.options.compression,l.compression),f=c.options.compressionOptions||l.compressionOptions||{},m=c.dir,h=c.date;c._compressWorker(p,f).withStreamInfo("file",{name:g,dir:m,date:h,comment:c.comment||"",unixPermissions:c.unixPermissions,dosPermissions:c.dosPermissions}).pipe(d)}),d.entriesCount=v}catch(g){d.error(g)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(a,o){return new s().loadAsync(a,o)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),a=n("./external"),o=n("./utf8"),l=n("./zipEntries"),u=n("./stream/Crc32Probe"),d=n("./nodejsUtils");function v(g){return new a.Promise(function(c,p){var f=g.decompressed.getContentWorker().pipe(new u);f.on("error",function(m){p(m)}).on("end",function(){f.streamInfo.crc32!==g.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):c()}).resume()})}r.exports=function(g,c){var p=this;return c=s.extend(c||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),d.isNode&&d.isStream(g)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",g,!0,c.optimizedBinaryString,c.base64).then(function(f){var m=new l(c);return m.load(f),m}).then(function(f){var m=[a.Promise.resolve(f)],h=f.files;if(c.checkCRC32)for(var y=0;y<h.length;y++)m.push(v(h[y]));return a.Promise.all(m)}).then(function(f){for(var m=f.shift(),h=m.files,y=0;y<h.length;y++){var x=h[y],S=x.fileNameStr,k=s.resolve(x.fileNameStr);p.file(k,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:c.createFolders}),x.dir||(p.file(k).unsafeOriginalName=S)}return m.zipComment.length&&(p.comment=m.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),a=n("../stream/GenericWorker");function o(l,u){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}s.inherits(o,a),o.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(d){u.push({data:d,meta:{percent:0}})}).on("error",function(d){u.isPaused?this.generatedError=d:u.error(d)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable;function a(o,l,u){s.call(this,l),this._helper=o;var d=this;o.on("data",function(v,g){d.push(v)||d._helper.pause(),u&&u(g)}).on("error",function(v){d.emit("error",v)}).on("end",function(){d.push(null)})}n("../utils").inherits(a,s),a.prototype._read=function(){this._helper.resume()},r.exports=a},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){function s(k,A,I){var R,O=o.getTypeOf(A),B=o.extend(I||{},d);B.date=B.date||new Date,B.compression!==null&&(B.compression=B.compression.toUpperCase()),typeof B.unixPermissions=="string"&&(B.unixPermissions=parseInt(B.unixPermissions,8)),B.unixPermissions&&16384&B.unixPermissions&&(B.dir=!0),B.dosPermissions&&16&B.dosPermissions&&(B.dir=!0),B.dir&&(k=h(k)),B.createFolders&&(R=m(k))&&y.call(this,R,!0);var N=O==="string"&&B.binary===!1&&B.base64===!1;I&&I.binary!==void 0||(B.binary=!N),(A instanceof v&&A.uncompressedSize===0||B.dir||!A||A.length===0)&&(B.base64=!1,B.binary=!0,A="",B.compression="STORE",O="string");var E=null;E=A instanceof v||A instanceof l?A:p.isNode&&p.isStream(A)?new f(k,A):o.prepareContent(k,A,B.binary,B.optimizedBinaryString,B.base64);var L=new g(k,E,B);this.files[k]=L}var a=n("./utf8"),o=n("./utils"),l=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),d=n("./defaults"),v=n("./compressedObject"),g=n("./zipObject"),c=n("./generate"),p=n("./nodejsUtils"),f=n("./nodejs/NodejsStreamInputAdapter"),m=function(k){k.slice(-1)==="/"&&(k=k.substring(0,k.length-1));var A=k.lastIndexOf("/");return 0<A?k.substring(0,A):""},h=function(k){return k.slice(-1)!=="/"&&(k+="/"),k},y=function(k,A){return A=A!==void 0?A:d.createFolders,k=h(k),this.files[k]||s.call(this,k,null,{dir:!0,createFolders:A}),this.files[k]};function x(k){return Object.prototype.toString.call(k)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(k){var A,I,R;for(A in this.files)R=this.files[A],(I=A.slice(this.root.length,A.length))&&A.slice(0,this.root.length)===this.root&&k(I,R)},filter:function(k){var A=[];return this.forEach(function(I,R){k(I,R)&&A.push(R)}),A},file:function(k,A,I){if(arguments.length!==1)return k=this.root+k,s.call(this,k,A,I),this;if(x(k)){var R=k;return this.filter(function(B,N){return!N.dir&&R.test(B)})}var O=this.files[this.root+k];return O&&!O.dir?O:null},folder:function(k){if(!k)return this;if(x(k))return this.filter(function(O,B){return B.dir&&k.test(O)});var A=this.root+k,I=y.call(this,A),R=this.clone();return R.root=I.name,R},remove:function(k){k=this.root+k;var A=this.files[k];if(A||(k.slice(-1)!=="/"&&(k+="/"),A=this.files[k]),A&&!A.dir)delete this.files[k];else for(var I=this.filter(function(O,B){return B.name.slice(0,k.length)===k}),R=0;R<I.length;R++)delete this.files[I[R].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(k){var A,I={};try{if((I=o.extend(k||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=I.type.toLowerCase(),I.compression=I.compression.toUpperCase(),I.type==="binarystring"&&(I.type="string"),!I.type)throw new Error("No output type specified.");o.checkSupport(I.type),I.platform!=="darwin"&&I.platform!=="freebsd"&&I.platform!=="linux"&&I.platform!=="sunos"||(I.platform="UNIX"),I.platform==="win32"&&(I.platform="DOS");var R=I.comment||this.comment||"";A=c.generateWorker(this,I,R)}catch(O){(A=new l("error")).error(O)}return new u(A,I.type||"string",I.mimeType)},generateAsync:function(k,A){return this.generateInternalStream(k).accumulate(A)},generateNodeStream:function(k,A){return(k=k||{}).type||(k.type="nodebuffer"),this.generateInternalStream(k).toNodejsStream(A)}};r.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader");function a(o){s.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}n("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),u=o.charCodeAt(1),d=o.charCodeAt(2),v=o.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===l&&this.data[g+1]===u&&this.data[g+2]===d&&this.data[g+3]===v)return g-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),u=o.charCodeAt(1),d=o.charCodeAt(2),v=o.charCodeAt(3),g=this.readData(4);return l===g[0]&&u===g[1]&&d===g[2]&&v===g[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,u=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=o,u},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=a},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader");function a(o){s.call(this,o)}n("../utils").inherits(a,s),a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader");function a(o){s.call(this,o)}n("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader");function a(o){s.call(this,o)}n("../utils").inherits(a,s),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),a=n("../support"),o=n("./ArrayReader"),l=n("./StringReader"),u=n("./NodeBufferReader"),d=n("./Uint8ArrayReader");r.exports=function(v){var g=s.getTypeOf(v);return s.checkSupport(g),g!=="string"||a.uint8array?g==="nodebuffer"?new u(v):a.uint8array?new d(s.transformTo("uint8array",v)):new o(s.transformTo("array",v)):new l(v)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),a=n("../utils");function o(l){s.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(o,s),o.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),a=n("../crc32");function o(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(o,s),o.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),a=n("./GenericWorker");function o(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(o,a),o.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}a.prototype.processChunk.call(this,l)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),a=n("./GenericWorker");function o(l){a.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(d){u.dataIsReady=!0,u.data=d,u.max=d&&d.length||0,u.type=s.getTypeOf(d),u.isPaused||u._tickAndRepeat()},function(d){u.error(d)})}s.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(l){o.processChunk(l)}),a.on("end",function(){o.end()}),a.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),a=n("./ConvertWorker"),o=n("./GenericWorker"),l=n("../base64"),u=n("../support"),d=n("../external"),v=null;if(u.nodestream)try{v=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(p,f){return new d.Promise(function(m,h){var y=[],x=p._internalType,S=p._outputType,k=p._mimeType;p.on("data",function(A,I){y.push(A),f&&f(I)}).on("error",function(A){y=[],h(A)}).on("end",function(){try{var A=(function(I,R,O){switch(I){case"blob":return s.newBlob(s.transformTo("arraybuffer",R),O);case"base64":return l.encode(R);default:return s.transformTo(I,R)}})(S,(function(I,R){var O,B=0,N=null,E=0;for(O=0;O<R.length;O++)E+=R[O].length;switch(I){case"string":return R.join("");case"array":return Array.prototype.concat.apply([],R);case"uint8array":for(N=new Uint8Array(E),O=0;O<R.length;O++)N.set(R[O],B),B+=R[O].length;return N;case"nodebuffer":return Buffer.concat(R);default:throw new Error("concat : unsupported type '"+I+"'")}})(x,y),k);m(A)}catch(I){h(I)}y=[]}).resume()})}function c(p,f,m){var h=f;switch(f){case"blob":case"arraybuffer":h="uint8array";break;case"base64":h="string"}try{this._internalType=h,this._outputType=f,this._mimeType=m,s.checkSupport(h),this._worker=p.pipe(new a(h)),p.lock()}catch(y){this._worker=new o("error"),this._worker.error(y)}}c.prototype={accumulate:function(p){return g(this,p)},on:function(p,f){var m=this;return p==="data"?this._worker.on(p,function(h){f.call(m,h.data,h.meta)}):this._worker.on(p,function(){s.delay(f,arguments,m)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new v(this,{objectMode:this._outputType!=="nodebuffer"},p)}},r.exports=c},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(s),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),a=n("./support"),o=n("./nodejsUtils"),l=n("./stream/GenericWorker"),u=new Array(256),d=0;d<256;d++)u[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;u[254]=u[254]=1;function v(){l.call(this,"utf-8 decode"),this.leftOver=null}function g(){l.call(this,"utf-8 encode")}i.utf8encode=function(c){return a.nodebuffer?o.newBufferFrom(c,"utf-8"):(function(p){var f,m,h,y,x,S=p.length,k=0;for(y=0;y<S;y++)(64512&(m=p.charCodeAt(y)))==55296&&y+1<S&&(64512&(h=p.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(h-56320),y++),k+=m<128?1:m<2048?2:m<65536?3:4;for(f=a.uint8array?new Uint8Array(k):new Array(k),y=x=0;x<k;y++)(64512&(m=p.charCodeAt(y)))==55296&&y+1<S&&(64512&(h=p.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(h-56320),y++),m<128?f[x++]=m:(m<2048?f[x++]=192|m>>>6:(m<65536?f[x++]=224|m>>>12:(f[x++]=240|m>>>18,f[x++]=128|m>>>12&63),f[x++]=128|m>>>6&63),f[x++]=128|63&m);return f})(c)},i.utf8decode=function(c){return a.nodebuffer?s.transformTo("nodebuffer",c).toString("utf-8"):(function(p){var f,m,h,y,x=p.length,S=new Array(2*x);for(f=m=0;f<x;)if((h=p[f++])<128)S[m++]=h;else if(4<(y=u[h]))S[m++]=65533,f+=y-1;else{for(h&=y===2?31:y===3?15:7;1<y&&f<x;)h=h<<6|63&p[f++],y--;1<y?S[m++]=65533:h<65536?S[m++]=h:(h-=65536,S[m++]=55296|h>>10&1023,S[m++]=56320|1023&h)}return S.length!==m&&(S.subarray?S=S.subarray(0,m):S.length=m),s.applyFromCharCode(S)})(c=s.transformTo(a.uint8array?"uint8array":"array",c))},s.inherits(v,l),v.prototype.processChunk=function(c){var p=s.transformTo(a.uint8array?"uint8array":"array",c.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var f=p;(p=new Uint8Array(f.length+this.leftOver.length)).set(this.leftOver,0),p.set(f,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var m=(function(y,x){var S;for((x=x||y.length)>y.length&&(x=y.length),S=x-1;0<=S&&(192&y[S])==128;)S--;return S<0||S===0?x:S+u[y[S]]>x?S:x})(p),h=p;m!==p.length&&(a.uint8array?(h=p.subarray(0,m),this.leftOver=p.subarray(m,p.length)):(h=p.slice(0,m),this.leftOver=p.slice(m,p.length))),this.push({data:i.utf8decode(h),meta:c.meta})},v.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=v,s.inherits(g,l),g.prototype.processChunk=function(c){this.push({data:i.utf8encode(c.data),meta:c.meta})},i.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),a=n("./base64"),o=n("./nodejsUtils"),l=n("./external");function u(f){return f}function d(f,m){for(var h=0;h<f.length;++h)m[h]=255&f.charCodeAt(h);return m}n("setimmediate"),i.newBlob=function(f,m){i.checkSupport("blob");try{return new Blob([f],{type:m})}catch{try{var h=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return h.append(f),h.getBlob(m)}catch{throw new Error("Bug : can't construct the Blob.")}}};var v={stringifyByChunk:function(f,m,h){var y=[],x=0,S=f.length;if(S<=h)return String.fromCharCode.apply(null,f);for(;x<S;)m==="array"||m==="nodebuffer"?y.push(String.fromCharCode.apply(null,f.slice(x,Math.min(x+h,S)))):y.push(String.fromCharCode.apply(null,f.subarray(x,Math.min(x+h,S)))),x+=h;return y.join("")},stringifyByChar:function(f){for(var m="",h=0;h<f.length;h++)m+=String.fromCharCode(f[h]);return m},applyCanBeUsed:{uint8array:(function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}})()}};function g(f){var m=65536,h=i.getTypeOf(f),y=!0;if(h==="uint8array"?y=v.applyCanBeUsed.uint8array:h==="nodebuffer"&&(y=v.applyCanBeUsed.nodebuffer),y)for(;1<m;)try{return v.stringifyByChunk(f,h,m)}catch{m=Math.floor(m/2)}return v.stringifyByChar(f)}function c(f,m){for(var h=0;h<f.length;h++)m[h]=f[h];return m}i.applyFromCharCode=g;var p={};p.string={string:u,array:function(f){return d(f,new Array(f.length))},arraybuffer:function(f){return p.string.uint8array(f).buffer},uint8array:function(f){return d(f,new Uint8Array(f.length))},nodebuffer:function(f){return d(f,o.allocBuffer(f.length))}},p.array={string:g,array:u,arraybuffer:function(f){return new Uint8Array(f).buffer},uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return o.newBufferFrom(f)}},p.arraybuffer={string:function(f){return g(new Uint8Array(f))},array:function(f){return c(new Uint8Array(f),new Array(f.byteLength))},arraybuffer:u,uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return o.newBufferFrom(new Uint8Array(f))}},p.uint8array={string:g,array:function(f){return c(f,new Array(f.length))},arraybuffer:function(f){return f.buffer},uint8array:u,nodebuffer:function(f){return o.newBufferFrom(f)}},p.nodebuffer={string:g,array:function(f){return c(f,new Array(f.length))},arraybuffer:function(f){return p.nodebuffer.uint8array(f).buffer},uint8array:function(f){return c(f,new Uint8Array(f.length))},nodebuffer:u},i.transformTo=function(f,m){if(m=m||"",!f)return m;i.checkSupport(f);var h=i.getTypeOf(m);return p[h][f](m)},i.resolve=function(f){for(var m=f.split("/"),h=[],y=0;y<m.length;y++){var x=m[y];x==="."||x===""&&y!==0&&y!==m.length-1||(x===".."?h.pop():h.push(x))}return h.join("/")},i.getTypeOf=function(f){return typeof f=="string"?"string":Object.prototype.toString.call(f)==="[object Array]"?"array":s.nodebuffer&&o.isBuffer(f)?"nodebuffer":s.uint8array&&f instanceof Uint8Array?"uint8array":s.arraybuffer&&f instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(f){if(!s[f.toLowerCase()])throw new Error(f+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(f){var m,h,y="";for(h=0;h<(f||"").length;h++)y+="\\x"+((m=f.charCodeAt(h))<16?"0":"")+m.toString(16).toUpperCase();return y},i.delay=function(f,m,h){setImmediate(function(){f.apply(h||null,m||[])})},i.inherits=function(f,m){function h(){}h.prototype=m.prototype,f.prototype=new h},i.extend=function(){var f,m,h={};for(f=0;f<arguments.length;f++)for(m in arguments[f])Object.prototype.hasOwnProperty.call(arguments[f],m)&&h[m]===void 0&&(h[m]=arguments[f][m]);return h},i.prepareContent=function(f,m,h,y,x){return l.Promise.resolve(m).then(function(S){return s.blob&&(S instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S))!==-1)&&typeof FileReader<"u"?new l.Promise(function(k,A){var I=new FileReader;I.onload=function(R){k(R.target.result)},I.onerror=function(R){A(R.target.error)},I.readAsArrayBuffer(S)}):S}).then(function(S){var k=i.getTypeOf(S);return k?(k==="arraybuffer"?S=i.transformTo("uint8array",S):k==="string"&&(x?S=a.decode(S):h&&y!==!0&&(S=(function(A){return d(A,s.uint8array?new Uint8Array(A.length):new Array(A.length))})(S))),S):l.Promise.reject(new Error("Can't read the data of '"+f+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var s=n("./reader/readerFor"),a=n("./utils"),o=n("./signature"),l=n("./zipEntry"),u=n("./support");function d(v){this.files=[],this.loadOptions=v}d.prototype={checkSignature:function(v){if(!this.reader.readAndCheckSignature(v)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(g)+", expected "+a.pretty(v)+")")}},isSignature:function(v,g){var c=this.reader.index;this.reader.setIndex(v);var p=this.reader.readString(4)===g;return this.reader.setIndex(c),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var v=this.reader.readData(this.zipCommentLength),g=u.uint8array?"uint8array":"array",c=a.transformTo(g,v);this.zipComment=this.loadOptions.decodeFileName(c)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var v,g,c,p=this.zip64EndOfCentralSize-44;0<p;)v=this.reader.readInt(2),g=this.reader.readInt(4),c=this.reader.readData(g),this.zip64ExtensibleData[v]={id:v,length:g,value:c}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var v,g;for(v=0;v<this.files.length;v++)g=this.files[v],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var v;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(v=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(v);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var v=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(v<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(v);var g=v;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(v=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(v),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var c=this.centralDirOffset+this.centralDirSize;this.zip64&&(c+=20,c+=12+this.zip64EndOfCentralSize);var p=g-c;if(0<p)this.isSignature(g,o.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(v){this.reader=s(v)},load:function(v){this.prepareReader(v),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),a=n("./utils"),o=n("./compressedObject"),l=n("./crc32"),u=n("./utf8"),d=n("./compressions"),v=n("./support");function g(c,p){this.options=c,this.loadOptions=p}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(c){var p,f;if(c.skip(22),this.fileNameLength=c.readInt(2),f=c.readInt(2),this.fileName=c.readData(this.fileNameLength),c.skip(f),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=(function(m){for(var h in d)if(Object.prototype.hasOwnProperty.call(d,h)&&d[h].magic===m)return d[h];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,p,c.readData(this.compressedSize))},readCentralPart:function(c){this.versionMadeBy=c.readInt(2),c.skip(2),this.bitFlag=c.readInt(2),this.compressionMethod=c.readString(2),this.date=c.readDate(),this.crc32=c.readInt(4),this.compressedSize=c.readInt(4),this.uncompressedSize=c.readInt(4);var p=c.readInt(2);if(this.extraFieldsLength=c.readInt(2),this.fileCommentLength=c.readInt(2),this.diskNumberStart=c.readInt(2),this.internalFileAttributes=c.readInt(2),this.externalFileAttributes=c.readInt(4),this.localHeaderOffset=c.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");c.skip(p),this.readExtraFields(c),this.parseZIP64ExtraField(c),this.fileComment=c.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var c=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),c==0&&(this.dosPermissions=63&this.externalFileAttributes),c==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var c=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=c.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=c.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=c.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=c.readInt(4))}},readExtraFields:function(c){var p,f,m,h=c.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});c.index+4<h;)p=c.readInt(2),f=c.readInt(2),m=c.readData(f),this.extraFields[p]={id:p,length:f,value:m};c.setIndex(h)},handleUTF8:function(){var c=v.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var f=a.transformTo(c,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(f)}var m=this.findExtraFieldUnicodeComment();if(m!==null)this.fileCommentStr=m;else{var h=a.transformTo(c,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(h)}}},findExtraFieldUnicodePath:function(){var c=this.extraFields[28789];if(c){var p=s(c.value);return p.readInt(1)!==1||l(this.fileName)!==p.readInt(4)?null:u.utf8decode(p.readData(c.length-5))}return null},findExtraFieldUnicodeComment:function(){var c=this.extraFields[25461];if(c){var p=s(c.value);return p.readInt(1)!==1||l(this.fileComment)!==p.readInt(4)?null:u.utf8decode(p.readData(c.length-5))}return null}},r.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function s(p,f,m){this.name=p,this.dir=m.dir,this.date=m.date,this.comment=m.comment,this.unixPermissions=m.unixPermissions,this.dosPermissions=m.dosPermissions,this._data=f,this._dataBinary=m.binary,this.options={compression:m.compression,compressionOptions:m.compressionOptions}}var a=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),l=n("./utf8"),u=n("./compressedObject"),d=n("./stream/GenericWorker");s.prototype={internalStream:function(p){var f=null,m="string";try{if(!p)throw new Error("No output type specified.");var h=(m=p.toLowerCase())==="string"||m==="text";m!=="binarystring"&&m!=="text"||(m="string"),f=this._decompressWorker();var y=!this._dataBinary;y&&!h&&(f=f.pipe(new l.Utf8EncodeWorker)),!y&&h&&(f=f.pipe(new l.Utf8DecodeWorker))}catch(x){(f=new d("error")).error(x)}return new a(f,m,"")},async:function(p,f){return this.internalStream(p).accumulate(f)},nodeStream:function(p,f){return this.internalStream(p||"nodebuffer").toNodejsStream(f)},_compressWorker:function(p,f){if(this._data instanceof u&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var m=this._decompressWorker();return this._dataBinary||(m=m.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(m,p,f)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof d?this._data:new o(this._data)}};for(var v=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},c=0;c<v.length;c++)s.prototype[v[c]]=g;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var a,o,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var u=0,d=new l(p),v=s.document.createTextNode("");d.observe(v,{characterData:!0}),a=function(){v.data=u=++u%2}}else if(s.setImmediate||s.MessageChannel===void 0)a="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var f=s.document.createElement("script");f.onreadystatechange=function(){p(),f.onreadystatechange=null,f.parentNode.removeChild(f),f=null},s.document.documentElement.appendChild(f)}:function(){setTimeout(p,0)};else{var g=new s.MessageChannel;g.port1.onmessage=p,a=function(){g.port2.postMessage(0)}}var c=[];function p(){var f,m;o=!0;for(var h=c.length;h;){for(m=c,c=[],f=-1;++f<h;)m[f]();h=c.length}o=!1}r.exports=function(f){c.push(f)!==1||o||a()}}).call(this,typeof Si<"u"?Si:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function a(){}var o={},l=["REJECTED"],u=["FULFILLED"],d=["PENDING"];function v(h){if(typeof h!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,h!==a&&f(this,h)}function g(h,y,x){this.promise=h,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function c(h,y,x){s(function(){var S;try{S=y(x)}catch(k){return o.reject(h,k)}S===h?o.reject(h,new TypeError("Cannot resolve promise with itself")):o.resolve(h,S)})}function p(h){var y=h&&h.then;if(h&&(typeof h=="object"||typeof h=="function")&&typeof y=="function")return function(){y.apply(h,arguments)}}function f(h,y){var x=!1;function S(I){x||(x=!0,o.reject(h,I))}function k(I){x||(x=!0,o.resolve(h,I))}var A=m(function(){y(k,S)});A.status==="error"&&S(A.value)}function m(h,y){var x={};try{x.value=h(y),x.status="success"}catch(S){x.status="error",x.value=S}return x}(r.exports=v).prototype.finally=function(h){if(typeof h!="function")return this;var y=this.constructor;return this.then(function(x){return y.resolve(h()).then(function(){return x})},function(x){return y.resolve(h()).then(function(){throw x})})},v.prototype.catch=function(h){return this.then(null,h)},v.prototype.then=function(h,y){if(typeof h!="function"&&this.state===u||typeof y!="function"&&this.state===l)return this;var x=new this.constructor(a);return this.state!==d?c(x,this.state===u?h:y,this.outcome):this.queue.push(new g(x,h,y)),x},g.prototype.callFulfilled=function(h){o.resolve(this.promise,h)},g.prototype.otherCallFulfilled=function(h){c(this.promise,this.onFulfilled,h)},g.prototype.callRejected=function(h){o.reject(this.promise,h)},g.prototype.otherCallRejected=function(h){c(this.promise,this.onRejected,h)},o.resolve=function(h,y){var x=m(p,y);if(x.status==="error")return o.reject(h,x.value);var S=x.value;if(S)f(h,S);else{h.state=u,h.outcome=y;for(var k=-1,A=h.queue.length;++k<A;)h.queue[k].callFulfilled(y)}return h},o.reject=function(h,y){h.state=l,h.outcome=y;for(var x=-1,S=h.queue.length;++x<S;)h.queue[x].callRejected(y);return h},v.resolve=function(h){return h instanceof this?h:o.resolve(new this(a),h)},v.reject=function(h){var y=new this(a);return o.reject(y,h)},v.all=function(h){var y=this;if(Object.prototype.toString.call(h)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=h.length,S=!1;if(!x)return this.resolve([]);for(var k=new Array(x),A=0,I=-1,R=new this(a);++I<x;)O(h[I],I);return R;function O(B,N){y.resolve(B).then(function(E){k[N]=E,++A!==x||S||(S=!0,o.resolve(R,k))},function(E){S||(S=!0,o.reject(R,E))})}},v.race=function(h){var y=this;if(Object.prototype.toString.call(h)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=h.length,S=!1;if(!x)return this.resolve([]);for(var k=-1,A=new this(a);++k<x;)I=h[k],y.resolve(I).then(function(R){S||(S=!0,o.resolve(A,R))},function(R){S||(S=!0,o.reject(A,R))});var I;return A}},{immediate:36}],38:[function(n,r,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),a=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/messages"),u=n("./zlib/zstream"),d=Object.prototype.toString,v=0,g=-1,c=0,p=8;function f(h){if(!(this instanceof f))return new f(h);this.options=a.assign({level:g,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:""},h||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var x=s.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(x!==v)throw new Error(l[x]);if(y.header&&s.deflateSetHeader(this.strm,y.header),y.dictionary){var S;if(S=typeof y.dictionary=="string"?o.string2buf(y.dictionary):d.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(x=s.deflateSetDictionary(this.strm,S))!==v)throw new Error(l[x]);this._dict_set=!0}}function m(h,y){var x=new f(y);if(x.push(h,!0),x.err)throw x.msg||l[x.err];return x.result}f.prototype.push=function(h,y){var x,S,k=this.strm,A=this.options.chunkSize;if(this.ended)return!1;S=y===~~y?y:y===!0?4:0,typeof h=="string"?k.input=o.string2buf(h):d.call(h)==="[object ArrayBuffer]"?k.input=new Uint8Array(h):k.input=h,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new a.Buf8(A),k.next_out=0,k.avail_out=A),(x=s.deflate(k,S))!==1&&x!==v)return this.onEnd(x),!(this.ended=!0);k.avail_out!==0&&(k.avail_in!==0||S!==4&&S!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(k.output,k.next_out))):this.onData(a.shrinkBuf(k.output,k.next_out)))}while((0<k.avail_in||k.avail_out===0)&&x!==1);return S===4?(x=s.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===v):S!==2||(this.onEnd(v),!(k.avail_out=0))},f.prototype.onData=function(h){this.chunks.push(h)},f.prototype.onEnd=function(h){h===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=h,this.msg=this.strm.msg},i.Deflate=f,i.deflate=m,i.deflateRaw=function(h,y){return(y=y||{}).raw=!0,m(h,y)},i.gzip=function(h,y){return(y=y||{}).gzip=!0,m(h,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),a=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/constants"),u=n("./zlib/messages"),d=n("./zlib/zstream"),v=n("./zlib/gzheader"),g=Object.prototype.toString;function c(f){if(!(this instanceof c))return new c(f);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},f||{});var m=this.options;m.raw&&0<=m.windowBits&&m.windowBits<16&&(m.windowBits=-m.windowBits,m.windowBits===0&&(m.windowBits=-15)),!(0<=m.windowBits&&m.windowBits<16)||f&&f.windowBits||(m.windowBits+=32),15<m.windowBits&&m.windowBits<48&&(15&m.windowBits)==0&&(m.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var h=s.inflateInit2(this.strm,m.windowBits);if(h!==l.Z_OK)throw new Error(u[h]);this.header=new v,s.inflateGetHeader(this.strm,this.header)}function p(f,m){var h=new c(m);if(h.push(f,!0),h.err)throw h.msg||u[h.err];return h.result}c.prototype.push=function(f,m){var h,y,x,S,k,A,I=this.strm,R=this.options.chunkSize,O=this.options.dictionary,B=!1;if(this.ended)return!1;y=m===~~m?m:m===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof f=="string"?I.input=o.binstring2buf(f):g.call(f)==="[object ArrayBuffer]"?I.input=new Uint8Array(f):I.input=f,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new a.Buf8(R),I.next_out=0,I.avail_out=R),(h=s.inflate(I,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&O&&(A=typeof O=="string"?o.string2buf(O):g.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,h=s.inflateSetDictionary(this.strm,A)),h===l.Z_BUF_ERROR&&B===!0&&(h=l.Z_OK,B=!1),h!==l.Z_STREAM_END&&h!==l.Z_OK)return this.onEnd(h),!(this.ended=!0);I.next_out&&(I.avail_out!==0&&h!==l.Z_STREAM_END&&(I.avail_in!==0||y!==l.Z_FINISH&&y!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=o.utf8border(I.output,I.next_out),S=I.next_out-x,k=o.buf2string(I.output,x),I.next_out=S,I.avail_out=R-S,S&&a.arraySet(I.output,I.output,x,S,0),this.onData(k)):this.onData(a.shrinkBuf(I.output,I.next_out)))),I.avail_in===0&&I.avail_out===0&&(B=!0)}while((0<I.avail_in||I.avail_out===0)&&h!==l.Z_STREAM_END);return h===l.Z_STREAM_END&&(y=l.Z_FINISH),y===l.Z_FINISH?(h=s.inflateEnd(this.strm),this.onEnd(h),this.ended=!0,h===l.Z_OK):y!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(I.avail_out=0))},c.prototype.onData=function(f){this.chunks.push(f)},c.prototype.onEnd=function(f){f===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},i.Inflate=c,i.inflate=p,i.inflateRaw=function(f,m){return(m=m||{}).raw=!0,p(f,m)},i.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var d=u.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var v in d)d.hasOwnProperty(v)&&(l[v]=d[v])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var a={arraySet:function(l,u,d,v,g){if(u.subarray&&l.subarray)l.set(u.subarray(d,d+v),g);else for(var c=0;c<v;c++)l[g+c]=u[d+c]},flattenChunks:function(l){var u,d,v,g,c,p;for(u=v=0,d=l.length;u<d;u++)v+=l[u].length;for(p=new Uint8Array(v),u=g=0,d=l.length;u<d;u++)c=l[u],p.set(c,g),g+=c.length;return p}},o={arraySet:function(l,u,d,v,g){for(var c=0;c<v;c++)l[g+c]=u[d+c]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new s.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function d(v,g){if(g<65537&&(v.subarray&&o||!v.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(v,g));for(var c="",p=0;p<g;p++)c+=String.fromCharCode(v[p]);return c}l[254]=l[254]=1,i.string2buf=function(v){var g,c,p,f,m,h=v.length,y=0;for(f=0;f<h;f++)(64512&(c=v.charCodeAt(f)))==55296&&f+1<h&&(64512&(p=v.charCodeAt(f+1)))==56320&&(c=65536+(c-55296<<10)+(p-56320),f++),y+=c<128?1:c<2048?2:c<65536?3:4;for(g=new s.Buf8(y),f=m=0;m<y;f++)(64512&(c=v.charCodeAt(f)))==55296&&f+1<h&&(64512&(p=v.charCodeAt(f+1)))==56320&&(c=65536+(c-55296<<10)+(p-56320),f++),c<128?g[m++]=c:(c<2048?g[m++]=192|c>>>6:(c<65536?g[m++]=224|c>>>12:(g[m++]=240|c>>>18,g[m++]=128|c>>>12&63),g[m++]=128|c>>>6&63),g[m++]=128|63&c);return g},i.buf2binstring=function(v){return d(v,v.length)},i.binstring2buf=function(v){for(var g=new s.Buf8(v.length),c=0,p=g.length;c<p;c++)g[c]=v.charCodeAt(c);return g},i.buf2string=function(v,g){var c,p,f,m,h=g||v.length,y=new Array(2*h);for(c=p=0;c<h;)if((f=v[c++])<128)y[p++]=f;else if(4<(m=l[f]))y[p++]=65533,c+=m-1;else{for(f&=m===2?31:m===3?15:7;1<m&&c<h;)f=f<<6|63&v[c++],m--;1<m?y[p++]=65533:f<65536?y[p++]=f:(f-=65536,y[p++]=55296|f>>10&1023,y[p++]=56320|1023&f)}return d(y,p)},i.utf8border=function(v,g){var c;for((g=g||v.length)>v.length&&(g=v.length),c=g-1;0<=c&&(192&v[c])==128;)c--;return c<0||c===0?g:c+l[v[c]]>g?c:g}},{"./common":41}],43:[function(n,r,i){r.exports=function(s,a,o,l){for(var u=65535&s|0,d=s>>>16&65535|0,v=0;o!==0;){for(o-=v=2e3<o?2e3:o;d=d+(u=u+a[l++]|0)|0,--v;);u%=65521,d%=65521}return u|d<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var s=(function(){for(var a,o=[],l=0;l<256;l++){a=l;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;o[l]=a}return o})();r.exports=function(a,o,l,u){var d=s,v=u+l;a^=-1;for(var g=u;g<v;g++)a=a>>>8^d[255&(a^o[g])];return-1^a}},{}],46:[function(n,r,i){var s,a=n("../utils/common"),o=n("./trees"),l=n("./adler32"),u=n("./crc32"),d=n("./messages"),v=0,g=4,c=0,p=-2,f=-1,m=4,h=2,y=8,x=9,S=286,k=30,A=19,I=2*S+1,R=15,O=3,B=258,N=B+O+1,E=42,L=113,b=1,P=2,U=3,V=4;function J(w,Z){return w.msg=d[Z],Z}function $(w){return(w<<1)-(4<w?9:0)}function ne(w){for(var Z=w.length;0<=--Z;)w[Z]=0}function M(w){var Z=w.state,z=Z.pending;z>w.avail_out&&(z=w.avail_out),z!==0&&(a.arraySet(w.output,Z.pending_buf,Z.pending_out,z,w.next_out),w.next_out+=z,Z.pending_out+=z,w.total_out+=z,w.avail_out-=z,Z.pending-=z,Z.pending===0&&(Z.pending_out=0))}function F(w,Z){o._tr_flush_block(w,0<=w.block_start?w.block_start:-1,w.strstart-w.block_start,Z),w.block_start=w.strstart,M(w.strm)}function oe(w,Z){w.pending_buf[w.pending++]=Z}function re(w,Z){w.pending_buf[w.pending++]=Z>>>8&255,w.pending_buf[w.pending++]=255&Z}function X(w,Z){var z,T,C=w.max_chain_length,D=w.strstart,K=w.prev_length,Q=w.nice_match,W=w.strstart>w.w_size-N?w.strstart-(w.w_size-N):0,ie=w.window,le=w.w_mask,ae=w.prev,ve=w.strstart+B,Ue=ie[D+K-1],Ie=ie[D+K];w.prev_length>=w.good_match&&(C>>=2),Q>w.lookahead&&(Q=w.lookahead);do if(ie[(z=Z)+K]===Ie&&ie[z+K-1]===Ue&&ie[z]===ie[D]&&ie[++z]===ie[D+1]){D+=2,z++;do;while(ie[++D]===ie[++z]&&ie[++D]===ie[++z]&&ie[++D]===ie[++z]&&ie[++D]===ie[++z]&&ie[++D]===ie[++z]&&ie[++D]===ie[++z]&&ie[++D]===ie[++z]&&ie[++D]===ie[++z]&&D<ve);if(T=B-(ve-D),D=ve-B,K<T){if(w.match_start=Z,Q<=(K=T))break;Ue=ie[D+K-1],Ie=ie[D+K]}}while((Z=ae[Z&le])>W&&--C!=0);return K<=w.lookahead?K:w.lookahead}function Ee(w){var Z,z,T,C,D,K,Q,W,ie,le,ae=w.w_size;do{if(C=w.window_size-w.lookahead-w.strstart,w.strstart>=ae+(ae-N)){for(a.arraySet(w.window,w.window,ae,ae,0),w.match_start-=ae,w.strstart-=ae,w.block_start-=ae,Z=z=w.hash_size;T=w.head[--Z],w.head[Z]=ae<=T?T-ae:0,--z;);for(Z=z=ae;T=w.prev[--Z],w.prev[Z]=ae<=T?T-ae:0,--z;);C+=ae}if(w.strm.avail_in===0)break;if(K=w.strm,Q=w.window,W=w.strstart+w.lookahead,ie=C,le=void 0,le=K.avail_in,ie<le&&(le=ie),z=le===0?0:(K.avail_in-=le,a.arraySet(Q,K.input,K.next_in,le,W),K.state.wrap===1?K.adler=l(K.adler,Q,le,W):K.state.wrap===2&&(K.adler=u(K.adler,Q,le,W)),K.next_in+=le,K.total_in+=le,le),w.lookahead+=z,w.lookahead+w.insert>=O)for(D=w.strstart-w.insert,w.ins_h=w.window[D],w.ins_h=(w.ins_h<<w.hash_shift^w.window[D+1])&w.hash_mask;w.insert&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[D+O-1])&w.hash_mask,w.prev[D&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=D,D++,w.insert--,!(w.lookahead+w.insert<O)););}while(w.lookahead<N&&w.strm.avail_in!==0)}function _e(w,Z){for(var z,T;;){if(w.lookahead<N){if(Ee(w),w.lookahead<N&&Z===v)return b;if(w.lookahead===0)break}if(z=0,w.lookahead>=O&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+O-1])&w.hash_mask,z=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),z!==0&&w.strstart-z<=w.w_size-N&&(w.match_length=X(w,z)),w.match_length>=O)if(T=o._tr_tally(w,w.strstart-w.match_start,w.match_length-O),w.lookahead-=w.match_length,w.match_length<=w.max_lazy_match&&w.lookahead>=O){for(w.match_length--;w.strstart++,w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+O-1])&w.hash_mask,z=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart,--w.match_length!=0;);w.strstart++}else w.strstart+=w.match_length,w.match_length=0,w.ins_h=w.window[w.strstart],w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+1])&w.hash_mask;else T=o._tr_tally(w,0,w.window[w.strstart]),w.lookahead--,w.strstart++;if(T&&(F(w,!1),w.strm.avail_out===0))return b}return w.insert=w.strstart<O-1?w.strstart:O-1,Z===g?(F(w,!0),w.strm.avail_out===0?U:V):w.last_lit&&(F(w,!1),w.strm.avail_out===0)?b:P}function me(w,Z){for(var z,T,C;;){if(w.lookahead<N){if(Ee(w),w.lookahead<N&&Z===v)return b;if(w.lookahead===0)break}if(z=0,w.lookahead>=O&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+O-1])&w.hash_mask,z=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),w.prev_length=w.match_length,w.prev_match=w.match_start,w.match_length=O-1,z!==0&&w.prev_length<w.max_lazy_match&&w.strstart-z<=w.w_size-N&&(w.match_length=X(w,z),w.match_length<=5&&(w.strategy===1||w.match_length===O&&4096<w.strstart-w.match_start)&&(w.match_length=O-1)),w.prev_length>=O&&w.match_length<=w.prev_length){for(C=w.strstart+w.lookahead-O,T=o._tr_tally(w,w.strstart-1-w.prev_match,w.prev_length-O),w.lookahead-=w.prev_length-1,w.prev_length-=2;++w.strstart<=C&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+O-1])&w.hash_mask,z=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),--w.prev_length!=0;);if(w.match_available=0,w.match_length=O-1,w.strstart++,T&&(F(w,!1),w.strm.avail_out===0))return b}else if(w.match_available){if((T=o._tr_tally(w,0,w.window[w.strstart-1]))&&F(w,!1),w.strstart++,w.lookahead--,w.strm.avail_out===0)return b}else w.match_available=1,w.strstart++,w.lookahead--}return w.match_available&&(T=o._tr_tally(w,0,w.window[w.strstart-1]),w.match_available=0),w.insert=w.strstart<O-1?w.strstart:O-1,Z===g?(F(w,!0),w.strm.avail_out===0?U:V):w.last_lit&&(F(w,!1),w.strm.avail_out===0)?b:P}function Ce(w,Z,z,T,C){this.good_length=w,this.max_lazy=Z,this.nice_length=z,this.max_chain=T,this.func=C}function ce(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*I),this.dyn_dtree=new a.Buf16(2*(2*k+1)),this.bl_tree=new a.Buf16(2*(2*A+1)),ne(this.dyn_ltree),ne(this.dyn_dtree),ne(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(R+1),this.heap=new a.Buf16(2*S+1),ne(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*S+1),ne(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function xe(w){var Z;return w&&w.state?(w.total_in=w.total_out=0,w.data_type=h,(Z=w.state).pending=0,Z.pending_out=0,Z.wrap<0&&(Z.wrap=-Z.wrap),Z.status=Z.wrap?E:L,w.adler=Z.wrap===2?0:1,Z.last_flush=v,o._tr_init(Z),c):J(w,p)}function Be(w){var Z=xe(w);return Z===c&&(function(z){z.window_size=2*z.w_size,ne(z.head),z.max_lazy_match=s[z.level].max_lazy,z.good_match=s[z.level].good_length,z.nice_match=s[z.level].nice_length,z.max_chain_length=s[z.level].max_chain,z.strstart=0,z.block_start=0,z.lookahead=0,z.insert=0,z.match_length=z.prev_length=O-1,z.match_available=0,z.ins_h=0})(w.state),Z}function De(w,Z,z,T,C,D){if(!w)return p;var K=1;if(Z===f&&(Z=6),T<0?(K=0,T=-T):15<T&&(K=2,T-=16),C<1||x<C||z!==y||T<8||15<T||Z<0||9<Z||D<0||m<D)return J(w,p);T===8&&(T=9);var Q=new ce;return(w.state=Q).strm=w,Q.wrap=K,Q.gzhead=null,Q.w_bits=T,Q.w_size=1<<Q.w_bits,Q.w_mask=Q.w_size-1,Q.hash_bits=C+7,Q.hash_size=1<<Q.hash_bits,Q.hash_mask=Q.hash_size-1,Q.hash_shift=~~((Q.hash_bits+O-1)/O),Q.window=new a.Buf8(2*Q.w_size),Q.head=new a.Buf16(Q.hash_size),Q.prev=new a.Buf16(Q.w_size),Q.lit_bufsize=1<<C+6,Q.pending_buf_size=4*Q.lit_bufsize,Q.pending_buf=new a.Buf8(Q.pending_buf_size),Q.d_buf=1*Q.lit_bufsize,Q.l_buf=3*Q.lit_bufsize,Q.level=Z,Q.strategy=D,Q.method=z,Be(w)}s=[new Ce(0,0,0,0,function(w,Z){var z=65535;for(z>w.pending_buf_size-5&&(z=w.pending_buf_size-5);;){if(w.lookahead<=1){if(Ee(w),w.lookahead===0&&Z===v)return b;if(w.lookahead===0)break}w.strstart+=w.lookahead,w.lookahead=0;var T=w.block_start+z;if((w.strstart===0||w.strstart>=T)&&(w.lookahead=w.strstart-T,w.strstart=T,F(w,!1),w.strm.avail_out===0)||w.strstart-w.block_start>=w.w_size-N&&(F(w,!1),w.strm.avail_out===0))return b}return w.insert=0,Z===g?(F(w,!0),w.strm.avail_out===0?U:V):(w.strstart>w.block_start&&(F(w,!1),w.strm.avail_out),b)}),new Ce(4,4,8,4,_e),new Ce(4,5,16,8,_e),new Ce(4,6,32,32,_e),new Ce(4,4,16,16,me),new Ce(8,16,32,32,me),new Ce(8,16,128,128,me),new Ce(8,32,128,256,me),new Ce(32,128,258,1024,me),new Ce(32,258,258,4096,me)],i.deflateInit=function(w,Z){return De(w,Z,y,15,8,0)},i.deflateInit2=De,i.deflateReset=Be,i.deflateResetKeep=xe,i.deflateSetHeader=function(w,Z){return w&&w.state?w.state.wrap!==2?p:(w.state.gzhead=Z,c):p},i.deflate=function(w,Z){var z,T,C,D;if(!w||!w.state||5<Z||Z<0)return w?J(w,p):p;if(T=w.state,!w.output||!w.input&&w.avail_in!==0||T.status===666&&Z!==g)return J(w,w.avail_out===0?-5:p);if(T.strm=w,z=T.last_flush,T.last_flush=Z,T.status===E)if(T.wrap===2)w.adler=0,oe(T,31),oe(T,139),oe(T,8),T.gzhead?(oe(T,(T.gzhead.text?1:0)+(T.gzhead.hcrc?2:0)+(T.gzhead.extra?4:0)+(T.gzhead.name?8:0)+(T.gzhead.comment?16:0)),oe(T,255&T.gzhead.time),oe(T,T.gzhead.time>>8&255),oe(T,T.gzhead.time>>16&255),oe(T,T.gzhead.time>>24&255),oe(T,T.level===9?2:2<=T.strategy||T.level<2?4:0),oe(T,255&T.gzhead.os),T.gzhead.extra&&T.gzhead.extra.length&&(oe(T,255&T.gzhead.extra.length),oe(T,T.gzhead.extra.length>>8&255)),T.gzhead.hcrc&&(w.adler=u(w.adler,T.pending_buf,T.pending,0)),T.gzindex=0,T.status=69):(oe(T,0),oe(T,0),oe(T,0),oe(T,0),oe(T,0),oe(T,T.level===9?2:2<=T.strategy||T.level<2?4:0),oe(T,3),T.status=L);else{var K=y+(T.w_bits-8<<4)<<8;K|=(2<=T.strategy||T.level<2?0:T.level<6?1:T.level===6?2:3)<<6,T.strstart!==0&&(K|=32),K+=31-K%31,T.status=L,re(T,K),T.strstart!==0&&(re(T,w.adler>>>16),re(T,65535&w.adler)),w.adler=1}if(T.status===69)if(T.gzhead.extra){for(C=T.pending;T.gzindex<(65535&T.gzhead.extra.length)&&(T.pending!==T.pending_buf_size||(T.gzhead.hcrc&&T.pending>C&&(w.adler=u(w.adler,T.pending_buf,T.pending-C,C)),M(w),C=T.pending,T.pending!==T.pending_buf_size));)oe(T,255&T.gzhead.extra[T.gzindex]),T.gzindex++;T.gzhead.hcrc&&T.pending>C&&(w.adler=u(w.adler,T.pending_buf,T.pending-C,C)),T.gzindex===T.gzhead.extra.length&&(T.gzindex=0,T.status=73)}else T.status=73;if(T.status===73)if(T.gzhead.name){C=T.pending;do{if(T.pending===T.pending_buf_size&&(T.gzhead.hcrc&&T.pending>C&&(w.adler=u(w.adler,T.pending_buf,T.pending-C,C)),M(w),C=T.pending,T.pending===T.pending_buf_size)){D=1;break}D=T.gzindex<T.gzhead.name.length?255&T.gzhead.name.charCodeAt(T.gzindex++):0,oe(T,D)}while(D!==0);T.gzhead.hcrc&&T.pending>C&&(w.adler=u(w.adler,T.pending_buf,T.pending-C,C)),D===0&&(T.gzindex=0,T.status=91)}else T.status=91;if(T.status===91)if(T.gzhead.comment){C=T.pending;do{if(T.pending===T.pending_buf_size&&(T.gzhead.hcrc&&T.pending>C&&(w.adler=u(w.adler,T.pending_buf,T.pending-C,C)),M(w),C=T.pending,T.pending===T.pending_buf_size)){D=1;break}D=T.gzindex<T.gzhead.comment.length?255&T.gzhead.comment.charCodeAt(T.gzindex++):0,oe(T,D)}while(D!==0);T.gzhead.hcrc&&T.pending>C&&(w.adler=u(w.adler,T.pending_buf,T.pending-C,C)),D===0&&(T.status=103)}else T.status=103;if(T.status===103&&(T.gzhead.hcrc?(T.pending+2>T.pending_buf_size&&M(w),T.pending+2<=T.pending_buf_size&&(oe(T,255&w.adler),oe(T,w.adler>>8&255),w.adler=0,T.status=L)):T.status=L),T.pending!==0){if(M(w),w.avail_out===0)return T.last_flush=-1,c}else if(w.avail_in===0&&$(Z)<=$(z)&&Z!==g)return J(w,-5);if(T.status===666&&w.avail_in!==0)return J(w,-5);if(w.avail_in!==0||T.lookahead!==0||Z!==v&&T.status!==666){var Q=T.strategy===2?(function(W,ie){for(var le;;){if(W.lookahead===0&&(Ee(W),W.lookahead===0)){if(ie===v)return b;break}if(W.match_length=0,le=o._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++,le&&(F(W,!1),W.strm.avail_out===0))return b}return W.insert=0,ie===g?(F(W,!0),W.strm.avail_out===0?U:V):W.last_lit&&(F(W,!1),W.strm.avail_out===0)?b:P})(T,Z):T.strategy===3?(function(W,ie){for(var le,ae,ve,Ue,Ie=W.window;;){if(W.lookahead<=B){if(Ee(W),W.lookahead<=B&&ie===v)return b;if(W.lookahead===0)break}if(W.match_length=0,W.lookahead>=O&&0<W.strstart&&(ae=Ie[ve=W.strstart-1])===Ie[++ve]&&ae===Ie[++ve]&&ae===Ie[++ve]){Ue=W.strstart+B;do;while(ae===Ie[++ve]&&ae===Ie[++ve]&&ae===Ie[++ve]&&ae===Ie[++ve]&&ae===Ie[++ve]&&ae===Ie[++ve]&&ae===Ie[++ve]&&ae===Ie[++ve]&&ve<Ue);W.match_length=B-(Ue-ve),W.match_length>W.lookahead&&(W.match_length=W.lookahead)}if(W.match_length>=O?(le=o._tr_tally(W,1,W.match_length-O),W.lookahead-=W.match_length,W.strstart+=W.match_length,W.match_length=0):(le=o._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++),le&&(F(W,!1),W.strm.avail_out===0))return b}return W.insert=0,ie===g?(F(W,!0),W.strm.avail_out===0?U:V):W.last_lit&&(F(W,!1),W.strm.avail_out===0)?b:P})(T,Z):s[T.level].func(T,Z);if(Q!==U&&Q!==V||(T.status=666),Q===b||Q===U)return w.avail_out===0&&(T.last_flush=-1),c;if(Q===P&&(Z===1?o._tr_align(T):Z!==5&&(o._tr_stored_block(T,0,0,!1),Z===3&&(ne(T.head),T.lookahead===0&&(T.strstart=0,T.block_start=0,T.insert=0))),M(w),w.avail_out===0))return T.last_flush=-1,c}return Z!==g?c:T.wrap<=0?1:(T.wrap===2?(oe(T,255&w.adler),oe(T,w.adler>>8&255),oe(T,w.adler>>16&255),oe(T,w.adler>>24&255),oe(T,255&w.total_in),oe(T,w.total_in>>8&255),oe(T,w.total_in>>16&255),oe(T,w.total_in>>24&255)):(re(T,w.adler>>>16),re(T,65535&w.adler)),M(w),0<T.wrap&&(T.wrap=-T.wrap),T.pending!==0?c:1)},i.deflateEnd=function(w){var Z;return w&&w.state?(Z=w.state.status)!==E&&Z!==69&&Z!==73&&Z!==91&&Z!==103&&Z!==L&&Z!==666?J(w,p):(w.state=null,Z===L?J(w,-3):c):p},i.deflateSetDictionary=function(w,Z){var z,T,C,D,K,Q,W,ie,le=Z.length;if(!w||!w.state||(D=(z=w.state).wrap)===2||D===1&&z.status!==E||z.lookahead)return p;for(D===1&&(w.adler=l(w.adler,Z,le,0)),z.wrap=0,le>=z.w_size&&(D===0&&(ne(z.head),z.strstart=0,z.block_start=0,z.insert=0),ie=new a.Buf8(z.w_size),a.arraySet(ie,Z,le-z.w_size,z.w_size,0),Z=ie,le=z.w_size),K=w.avail_in,Q=w.next_in,W=w.input,w.avail_in=le,w.next_in=0,w.input=Z,Ee(z);z.lookahead>=O;){for(T=z.strstart,C=z.lookahead-(O-1);z.ins_h=(z.ins_h<<z.hash_shift^z.window[T+O-1])&z.hash_mask,z.prev[T&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=T,T++,--C;);z.strstart=T,z.lookahead=O-1,Ee(z)}return z.strstart+=z.lookahead,z.block_start=z.strstart,z.insert=z.lookahead,z.lookahead=0,z.match_length=z.prev_length=O-1,z.match_available=0,w.next_in=Q,w.input=W,w.avail_in=K,z.wrap=D,c},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(s,a){var o,l,u,d,v,g,c,p,f,m,h,y,x,S,k,A,I,R,O,B,N,E,L,b,P;o=s.state,l=s.next_in,b=s.input,u=l+(s.avail_in-5),d=s.next_out,P=s.output,v=d-(a-s.avail_out),g=d+(s.avail_out-257),c=o.dmax,p=o.wsize,f=o.whave,m=o.wnext,h=o.window,y=o.hold,x=o.bits,S=o.lencode,k=o.distcode,A=(1<<o.lenbits)-1,I=(1<<o.distbits)-1;e:do{x<15&&(y+=b[l++]<<x,x+=8,y+=b[l++]<<x,x+=8),R=S[y&A];t:for(;;){if(y>>>=O=R>>>24,x-=O,(O=R>>>16&255)===0)P[d++]=65535&R;else{if(!(16&O)){if((64&O)==0){R=S[(65535&R)+(y&(1<<O)-1)];continue t}if(32&O){o.mode=12;break e}s.msg="invalid literal/length code",o.mode=30;break e}B=65535&R,(O&=15)&&(x<O&&(y+=b[l++]<<x,x+=8),B+=y&(1<<O)-1,y>>>=O,x-=O),x<15&&(y+=b[l++]<<x,x+=8,y+=b[l++]<<x,x+=8),R=k[y&I];n:for(;;){if(y>>>=O=R>>>24,x-=O,!(16&(O=R>>>16&255))){if((64&O)==0){R=k[(65535&R)+(y&(1<<O)-1)];continue n}s.msg="invalid distance code",o.mode=30;break e}if(N=65535&R,x<(O&=15)&&(y+=b[l++]<<x,(x+=8)<O&&(y+=b[l++]<<x,x+=8)),c<(N+=y&(1<<O)-1)){s.msg="invalid distance too far back",o.mode=30;break e}if(y>>>=O,x-=O,(O=d-v)<N){if(f<(O=N-O)&&o.sane){s.msg="invalid distance too far back",o.mode=30;break e}if(L=h,(E=0)===m){if(E+=p-O,O<B){for(B-=O;P[d++]=h[E++],--O;);E=d-N,L=P}}else if(m<O){if(E+=p+m-O,(O-=m)<B){for(B-=O;P[d++]=h[E++],--O;);if(E=0,m<B){for(B-=O=m;P[d++]=h[E++],--O;);E=d-N,L=P}}}else if(E+=m-O,O<B){for(B-=O;P[d++]=h[E++],--O;);E=d-N,L=P}for(;2<B;)P[d++]=L[E++],P[d++]=L[E++],P[d++]=L[E++],B-=3;B&&(P[d++]=L[E++],1<B&&(P[d++]=L[E++]))}else{for(E=d-N;P[d++]=P[E++],P[d++]=P[E++],P[d++]=P[E++],2<(B-=3););B&&(P[d++]=P[E++],1<B&&(P[d++]=P[E++]))}break}}break}}while(l<u&&d<g);l-=B=x>>3,y&=(1<<(x-=B<<3))-1,s.next_in=l,s.next_out=d,s.avail_in=l<u?u-l+5:5-(l-u),s.avail_out=d<g?g-d+257:257-(d-g),o.hold=y,o.bits=x}},{}],49:[function(n,r,i){var s=n("../utils/common"),a=n("./adler32"),o=n("./crc32"),l=n("./inffast"),u=n("./inftrees"),d=1,v=2,g=0,c=-2,p=1,f=852,m=592;function h(E){return(E>>>24&255)+(E>>>8&65280)+((65280&E)<<8)+((255&E)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(E){var L;return E&&E.state?(L=E.state,E.total_in=E.total_out=L.total=0,E.msg="",L.wrap&&(E.adler=1&L.wrap),L.mode=p,L.last=0,L.havedict=0,L.dmax=32768,L.head=null,L.hold=0,L.bits=0,L.lencode=L.lendyn=new s.Buf32(f),L.distcode=L.distdyn=new s.Buf32(m),L.sane=1,L.back=-1,g):c}function S(E){var L;return E&&E.state?((L=E.state).wsize=0,L.whave=0,L.wnext=0,x(E)):c}function k(E,L){var b,P;return E&&E.state?(P=E.state,L<0?(b=0,L=-L):(b=1+(L>>4),L<48&&(L&=15)),L&&(L<8||15<L)?c:(P.window!==null&&P.wbits!==L&&(P.window=null),P.wrap=b,P.wbits=L,S(E))):c}function A(E,L){var b,P;return E?(P=new y,(E.state=P).window=null,(b=k(E,L))!==g&&(E.state=null),b):c}var I,R,O=!0;function B(E){if(O){var L;for(I=new s.Buf32(512),R=new s.Buf32(32),L=0;L<144;)E.lens[L++]=8;for(;L<256;)E.lens[L++]=9;for(;L<280;)E.lens[L++]=7;for(;L<288;)E.lens[L++]=8;for(u(d,E.lens,0,288,I,0,E.work,{bits:9}),L=0;L<32;)E.lens[L++]=5;u(v,E.lens,0,32,R,0,E.work,{bits:5}),O=!1}E.lencode=I,E.lenbits=9,E.distcode=R,E.distbits=5}function N(E,L,b,P){var U,V=E.state;return V.window===null&&(V.wsize=1<<V.wbits,V.wnext=0,V.whave=0,V.window=new s.Buf8(V.wsize)),P>=V.wsize?(s.arraySet(V.window,L,b-V.wsize,V.wsize,0),V.wnext=0,V.whave=V.wsize):(P<(U=V.wsize-V.wnext)&&(U=P),s.arraySet(V.window,L,b-P,U,V.wnext),(P-=U)?(s.arraySet(V.window,L,b-P,P,0),V.wnext=P,V.whave=V.wsize):(V.wnext+=U,V.wnext===V.wsize&&(V.wnext=0),V.whave<V.wsize&&(V.whave+=U))),0}i.inflateReset=S,i.inflateReset2=k,i.inflateResetKeep=x,i.inflateInit=function(E){return A(E,15)},i.inflateInit2=A,i.inflate=function(E,L){var b,P,U,V,J,$,ne,M,F,oe,re,X,Ee,_e,me,Ce,ce,xe,Be,De,w,Z,z,T,C=0,D=new s.Buf8(4),K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!E||!E.state||!E.output||!E.input&&E.avail_in!==0)return c;(b=E.state).mode===12&&(b.mode=13),J=E.next_out,U=E.output,ne=E.avail_out,V=E.next_in,P=E.input,$=E.avail_in,M=b.hold,F=b.bits,oe=$,re=ne,Z=g;e:for(;;)switch(b.mode){case p:if(b.wrap===0){b.mode=13;break}for(;F<16;){if($===0)break e;$--,M+=P[V++]<<F,F+=8}if(2&b.wrap&&M===35615){D[b.check=0]=255&M,D[1]=M>>>8&255,b.check=o(b.check,D,2,0),F=M=0,b.mode=2;break}if(b.flags=0,b.head&&(b.head.done=!1),!(1&b.wrap)||(((255&M)<<8)+(M>>8))%31){E.msg="incorrect header check",b.mode=30;break}if((15&M)!=8){E.msg="unknown compression method",b.mode=30;break}if(F-=4,w=8+(15&(M>>>=4)),b.wbits===0)b.wbits=w;else if(w>b.wbits){E.msg="invalid window size",b.mode=30;break}b.dmax=1<<w,E.adler=b.check=1,b.mode=512&M?10:12,F=M=0;break;case 2:for(;F<16;){if($===0)break e;$--,M+=P[V++]<<F,F+=8}if(b.flags=M,(255&b.flags)!=8){E.msg="unknown compression method",b.mode=30;break}if(57344&b.flags){E.msg="unknown header flags set",b.mode=30;break}b.head&&(b.head.text=M>>8&1),512&b.flags&&(D[0]=255&M,D[1]=M>>>8&255,b.check=o(b.check,D,2,0)),F=M=0,b.mode=3;case 3:for(;F<32;){if($===0)break e;$--,M+=P[V++]<<F,F+=8}b.head&&(b.head.time=M),512&b.flags&&(D[0]=255&M,D[1]=M>>>8&255,D[2]=M>>>16&255,D[3]=M>>>24&255,b.check=o(b.check,D,4,0)),F=M=0,b.mode=4;case 4:for(;F<16;){if($===0)break e;$--,M+=P[V++]<<F,F+=8}b.head&&(b.head.xflags=255&M,b.head.os=M>>8),512&b.flags&&(D[0]=255&M,D[1]=M>>>8&255,b.check=o(b.check,D,2,0)),F=M=0,b.mode=5;case 5:if(1024&b.flags){for(;F<16;){if($===0)break e;$--,M+=P[V++]<<F,F+=8}b.length=M,b.head&&(b.head.extra_len=M),512&b.flags&&(D[0]=255&M,D[1]=M>>>8&255,b.check=o(b.check,D,2,0)),F=M=0}else b.head&&(b.head.extra=null);b.mode=6;case 6:if(1024&b.flags&&($<(X=b.length)&&(X=$),X&&(b.head&&(w=b.head.extra_len-b.length,b.head.extra||(b.head.extra=new Array(b.head.extra_len)),s.arraySet(b.head.extra,P,V,X,w)),512&b.flags&&(b.check=o(b.check,P,X,V)),$-=X,V+=X,b.length-=X),b.length))break e;b.length=0,b.mode=7;case 7:if(2048&b.flags){if($===0)break e;for(X=0;w=P[V+X++],b.head&&w&&b.length<65536&&(b.head.name+=String.fromCharCode(w)),w&&X<$;);if(512&b.flags&&(b.check=o(b.check,P,X,V)),$-=X,V+=X,w)break e}else b.head&&(b.head.name=null);b.length=0,b.mode=8;case 8:if(4096&b.flags){if($===0)break e;for(X=0;w=P[V+X++],b.head&&w&&b.length<65536&&(b.head.comment+=String.fromCharCode(w)),w&&X<$;);if(512&b.flags&&(b.check=o(b.check,P,X,V)),$-=X,V+=X,w)break e}else b.head&&(b.head.comment=null);b.mode=9;case 9:if(512&b.flags){for(;F<16;){if($===0)break e;$--,M+=P[V++]<<F,F+=8}if(M!==(65535&b.check)){E.msg="header crc mismatch",b.mode=30;break}F=M=0}b.head&&(b.head.hcrc=b.flags>>9&1,b.head.done=!0),E.adler=b.check=0,b.mode=12;break;case 10:for(;F<32;){if($===0)break e;$--,M+=P[V++]<<F,F+=8}E.adler=b.check=h(M),F=M=0,b.mode=11;case 11:if(b.havedict===0)return E.next_out=J,E.avail_out=ne,E.next_in=V,E.avail_in=$,b.hold=M,b.bits=F,2;E.adler=b.check=1,b.mode=12;case 12:if(L===5||L===6)break e;case 13:if(b.last){M>>>=7&F,F-=7&F,b.mode=27;break}for(;F<3;){if($===0)break e;$--,M+=P[V++]<<F,F+=8}switch(b.last=1&M,F-=1,3&(M>>>=1)){case 0:b.mode=14;break;case 1:if(B(b),b.mode=20,L!==6)break;M>>>=2,F-=2;break e;case 2:b.mode=17;break;case 3:E.msg="invalid block type",b.mode=30}M>>>=2,F-=2;break;case 14:for(M>>>=7&F,F-=7&F;F<32;){if($===0)break e;$--,M+=P[V++]<<F,F+=8}if((65535&M)!=(M>>>16^65535)){E.msg="invalid stored block lengths",b.mode=30;break}if(b.length=65535&M,F=M=0,b.mode=15,L===6)break e;case 15:b.mode=16;case 16:if(X=b.length){if($<X&&(X=$),ne<X&&(X=ne),X===0)break e;s.arraySet(U,P,V,X,J),$-=X,V+=X,ne-=X,J+=X,b.length-=X;break}b.mode=12;break;case 17:for(;F<14;){if($===0)break e;$--,M+=P[V++]<<F,F+=8}if(b.nlen=257+(31&M),M>>>=5,F-=5,b.ndist=1+(31&M),M>>>=5,F-=5,b.ncode=4+(15&M),M>>>=4,F-=4,286<b.nlen||30<b.ndist){E.msg="too many length or distance symbols",b.mode=30;break}b.have=0,b.mode=18;case 18:for(;b.have<b.ncode;){for(;F<3;){if($===0)break e;$--,M+=P[V++]<<F,F+=8}b.lens[K[b.have++]]=7&M,M>>>=3,F-=3}for(;b.have<19;)b.lens[K[b.have++]]=0;if(b.lencode=b.lendyn,b.lenbits=7,z={bits:b.lenbits},Z=u(0,b.lens,0,19,b.lencode,0,b.work,z),b.lenbits=z.bits,Z){E.msg="invalid code lengths set",b.mode=30;break}b.have=0,b.mode=19;case 19:for(;b.have<b.nlen+b.ndist;){for(;Ce=(C=b.lencode[M&(1<<b.lenbits)-1])>>>16&255,ce=65535&C,!((me=C>>>24)<=F);){if($===0)break e;$--,M+=P[V++]<<F,F+=8}if(ce<16)M>>>=me,F-=me,b.lens[b.have++]=ce;else{if(ce===16){for(T=me+2;F<T;){if($===0)break e;$--,M+=P[V++]<<F,F+=8}if(M>>>=me,F-=me,b.have===0){E.msg="invalid bit length repeat",b.mode=30;break}w=b.lens[b.have-1],X=3+(3&M),M>>>=2,F-=2}else if(ce===17){for(T=me+3;F<T;){if($===0)break e;$--,M+=P[V++]<<F,F+=8}F-=me,w=0,X=3+(7&(M>>>=me)),M>>>=3,F-=3}else{for(T=me+7;F<T;){if($===0)break e;$--,M+=P[V++]<<F,F+=8}F-=me,w=0,X=11+(127&(M>>>=me)),M>>>=7,F-=7}if(b.have+X>b.nlen+b.ndist){E.msg="invalid bit length repeat",b.mode=30;break}for(;X--;)b.lens[b.have++]=w}}if(b.mode===30)break;if(b.lens[256]===0){E.msg="invalid code -- missing end-of-block",b.mode=30;break}if(b.lenbits=9,z={bits:b.lenbits},Z=u(d,b.lens,0,b.nlen,b.lencode,0,b.work,z),b.lenbits=z.bits,Z){E.msg="invalid literal/lengths set",b.mode=30;break}if(b.distbits=6,b.distcode=b.distdyn,z={bits:b.distbits},Z=u(v,b.lens,b.nlen,b.ndist,b.distcode,0,b.work,z),b.distbits=z.bits,Z){E.msg="invalid distances set",b.mode=30;break}if(b.mode=20,L===6)break e;case 20:b.mode=21;case 21:if(6<=$&&258<=ne){E.next_out=J,E.avail_out=ne,E.next_in=V,E.avail_in=$,b.hold=M,b.bits=F,l(E,re),J=E.next_out,U=E.output,ne=E.avail_out,V=E.next_in,P=E.input,$=E.avail_in,M=b.hold,F=b.bits,b.mode===12&&(b.back=-1);break}for(b.back=0;Ce=(C=b.lencode[M&(1<<b.lenbits)-1])>>>16&255,ce=65535&C,!((me=C>>>24)<=F);){if($===0)break e;$--,M+=P[V++]<<F,F+=8}if(Ce&&(240&Ce)==0){for(xe=me,Be=Ce,De=ce;Ce=(C=b.lencode[De+((M&(1<<xe+Be)-1)>>xe)])>>>16&255,ce=65535&C,!(xe+(me=C>>>24)<=F);){if($===0)break e;$--,M+=P[V++]<<F,F+=8}M>>>=xe,F-=xe,b.back+=xe}if(M>>>=me,F-=me,b.back+=me,b.length=ce,Ce===0){b.mode=26;break}if(32&Ce){b.back=-1,b.mode=12;break}if(64&Ce){E.msg="invalid literal/length code",b.mode=30;break}b.extra=15&Ce,b.mode=22;case 22:if(b.extra){for(T=b.extra;F<T;){if($===0)break e;$--,M+=P[V++]<<F,F+=8}b.length+=M&(1<<b.extra)-1,M>>>=b.extra,F-=b.extra,b.back+=b.extra}b.was=b.length,b.mode=23;case 23:for(;Ce=(C=b.distcode[M&(1<<b.distbits)-1])>>>16&255,ce=65535&C,!((me=C>>>24)<=F);){if($===0)break e;$--,M+=P[V++]<<F,F+=8}if((240&Ce)==0){for(xe=me,Be=Ce,De=ce;Ce=(C=b.distcode[De+((M&(1<<xe+Be)-1)>>xe)])>>>16&255,ce=65535&C,!(xe+(me=C>>>24)<=F);){if($===0)break e;$--,M+=P[V++]<<F,F+=8}M>>>=xe,F-=xe,b.back+=xe}if(M>>>=me,F-=me,b.back+=me,64&Ce){E.msg="invalid distance code",b.mode=30;break}b.offset=ce,b.extra=15&Ce,b.mode=24;case 24:if(b.extra){for(T=b.extra;F<T;){if($===0)break e;$--,M+=P[V++]<<F,F+=8}b.offset+=M&(1<<b.extra)-1,M>>>=b.extra,F-=b.extra,b.back+=b.extra}if(b.offset>b.dmax){E.msg="invalid distance too far back",b.mode=30;break}b.mode=25;case 25:if(ne===0)break e;if(X=re-ne,b.offset>X){if((X=b.offset-X)>b.whave&&b.sane){E.msg="invalid distance too far back",b.mode=30;break}Ee=X>b.wnext?(X-=b.wnext,b.wsize-X):b.wnext-X,X>b.length&&(X=b.length),_e=b.window}else _e=U,Ee=J-b.offset,X=b.length;for(ne<X&&(X=ne),ne-=X,b.length-=X;U[J++]=_e[Ee++],--X;);b.length===0&&(b.mode=21);break;case 26:if(ne===0)break e;U[J++]=b.length,ne--,b.mode=21;break;case 27:if(b.wrap){for(;F<32;){if($===0)break e;$--,M|=P[V++]<<F,F+=8}if(re-=ne,E.total_out+=re,b.total+=re,re&&(E.adler=b.check=b.flags?o(b.check,U,re,J-re):a(b.check,U,re,J-re)),re=ne,(b.flags?M:h(M))!==b.check){E.msg="incorrect data check",b.mode=30;break}F=M=0}b.mode=28;case 28:if(b.wrap&&b.flags){for(;F<32;){if($===0)break e;$--,M+=P[V++]<<F,F+=8}if(M!==(4294967295&b.total)){E.msg="incorrect length check",b.mode=30;break}F=M=0}b.mode=29;case 29:Z=1;break e;case 30:Z=-3;break e;case 31:return-4;case 32:default:return c}return E.next_out=J,E.avail_out=ne,E.next_in=V,E.avail_in=$,b.hold=M,b.bits=F,(b.wsize||re!==E.avail_out&&b.mode<30&&(b.mode<27||L!==4))&&N(E,E.output,E.next_out,re-E.avail_out)?(b.mode=31,-4):(oe-=E.avail_in,re-=E.avail_out,E.total_in+=oe,E.total_out+=re,b.total+=re,b.wrap&&re&&(E.adler=b.check=b.flags?o(b.check,U,re,E.next_out-re):a(b.check,U,re,E.next_out-re)),E.data_type=b.bits+(b.last?64:0)+(b.mode===12?128:0)+(b.mode===20||b.mode===15?256:0),(oe==0&&re===0||L===4)&&Z===g&&(Z=-5),Z)},i.inflateEnd=function(E){if(!E||!E.state)return c;var L=E.state;return L.window&&(L.window=null),E.state=null,g},i.inflateGetHeader=function(E,L){var b;return E&&E.state?(2&(b=E.state).wrap)==0?c:((b.head=L).done=!1,g):c},i.inflateSetDictionary=function(E,L){var b,P=L.length;return E&&E.state?(b=E.state).wrap!==0&&b.mode!==11?c:b.mode===11&&a(1,L,P,0)!==b.check?-3:N(E,L,P,P)?(b.mode=31,-4):(b.havedict=1,g):c},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(d,v,g,c,p,f,m,h){var y,x,S,k,A,I,R,O,B,N=h.bits,E=0,L=0,b=0,P=0,U=0,V=0,J=0,$=0,ne=0,M=0,F=null,oe=0,re=new s.Buf16(16),X=new s.Buf16(16),Ee=null,_e=0;for(E=0;E<=15;E++)re[E]=0;for(L=0;L<c;L++)re[v[g+L]]++;for(U=N,P=15;1<=P&&re[P]===0;P--);if(P<U&&(U=P),P===0)return p[f++]=20971520,p[f++]=20971520,h.bits=1,0;for(b=1;b<P&&re[b]===0;b++);for(U<b&&(U=b),E=$=1;E<=15;E++)if($<<=1,($-=re[E])<0)return-1;if(0<$&&(d===0||P!==1))return-1;for(X[1]=0,E=1;E<15;E++)X[E+1]=X[E]+re[E];for(L=0;L<c;L++)v[g+L]!==0&&(m[X[v[g+L]]++]=L);if(I=d===0?(F=Ee=m,19):d===1?(F=a,oe-=257,Ee=o,_e-=257,256):(F=l,Ee=u,-1),E=b,A=f,J=L=M=0,S=-1,k=(ne=1<<(V=U))-1,d===1&&852<ne||d===2&&592<ne)return 1;for(;;){for(R=E-J,B=m[L]<I?(O=0,m[L]):m[L]>I?(O=Ee[_e+m[L]],F[oe+m[L]]):(O=96,0),y=1<<E-J,b=x=1<<V;p[A+(M>>J)+(x-=y)]=R<<24|O<<16|B|0,x!==0;);for(y=1<<E-1;M&y;)y>>=1;if(y!==0?(M&=y-1,M+=y):M=0,L++,--re[E]==0){if(E===P)break;E=v[g+m[L]]}if(U<E&&(M&k)!==S){for(J===0&&(J=U),A+=b,$=1<<(V=E-J);V+J<P&&!(($-=re[V+J])<=0);)V++,$<<=1;if(ne+=1<<V,d===1&&852<ne||d===2&&592<ne)return 1;p[S=M&k]=U<<24|V<<16|A-f|0}}return M!==0&&(p[A+M]=E-J<<24|64<<16|0),h.bits=U,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),a=0,o=1;function l(C){for(var D=C.length;0<=--D;)C[D]=0}var u=0,d=29,v=256,g=v+1+d,c=30,p=19,f=2*g+1,m=15,h=16,y=7,x=256,S=16,k=17,A=18,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],R=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],N=new Array(2*(g+2));l(N);var E=new Array(2*c);l(E);var L=new Array(512);l(L);var b=new Array(256);l(b);var P=new Array(d);l(P);var U,V,J,$=new Array(c);function ne(C,D,K,Q,W){this.static_tree=C,this.extra_bits=D,this.extra_base=K,this.elems=Q,this.max_length=W,this.has_stree=C&&C.length}function M(C,D){this.dyn_tree=C,this.max_code=0,this.stat_desc=D}function F(C){return C<256?L[C]:L[256+(C>>>7)]}function oe(C,D){C.pending_buf[C.pending++]=255&D,C.pending_buf[C.pending++]=D>>>8&255}function re(C,D,K){C.bi_valid>h-K?(C.bi_buf|=D<<C.bi_valid&65535,oe(C,C.bi_buf),C.bi_buf=D>>h-C.bi_valid,C.bi_valid+=K-h):(C.bi_buf|=D<<C.bi_valid&65535,C.bi_valid+=K)}function X(C,D,K){re(C,K[2*D],K[2*D+1])}function Ee(C,D){for(var K=0;K|=1&C,C>>>=1,K<<=1,0<--D;);return K>>>1}function _e(C,D,K){var Q,W,ie=new Array(m+1),le=0;for(Q=1;Q<=m;Q++)ie[Q]=le=le+K[Q-1]<<1;for(W=0;W<=D;W++){var ae=C[2*W+1];ae!==0&&(C[2*W]=Ee(ie[ae]++,ae))}}function me(C){var D;for(D=0;D<g;D++)C.dyn_ltree[2*D]=0;for(D=0;D<c;D++)C.dyn_dtree[2*D]=0;for(D=0;D<p;D++)C.bl_tree[2*D]=0;C.dyn_ltree[2*x]=1,C.opt_len=C.static_len=0,C.last_lit=C.matches=0}function Ce(C){8<C.bi_valid?oe(C,C.bi_buf):0<C.bi_valid&&(C.pending_buf[C.pending++]=C.bi_buf),C.bi_buf=0,C.bi_valid=0}function ce(C,D,K,Q){var W=2*D,ie=2*K;return C[W]<C[ie]||C[W]===C[ie]&&Q[D]<=Q[K]}function xe(C,D,K){for(var Q=C.heap[K],W=K<<1;W<=C.heap_len&&(W<C.heap_len&&ce(D,C.heap[W+1],C.heap[W],C.depth)&&W++,!ce(D,Q,C.heap[W],C.depth));)C.heap[K]=C.heap[W],K=W,W<<=1;C.heap[K]=Q}function Be(C,D,K){var Q,W,ie,le,ae=0;if(C.last_lit!==0)for(;Q=C.pending_buf[C.d_buf+2*ae]<<8|C.pending_buf[C.d_buf+2*ae+1],W=C.pending_buf[C.l_buf+ae],ae++,Q===0?X(C,W,D):(X(C,(ie=b[W])+v+1,D),(le=I[ie])!==0&&re(C,W-=P[ie],le),X(C,ie=F(--Q),K),(le=R[ie])!==0&&re(C,Q-=$[ie],le)),ae<C.last_lit;);X(C,x,D)}function De(C,D){var K,Q,W,ie=D.dyn_tree,le=D.stat_desc.static_tree,ae=D.stat_desc.has_stree,ve=D.stat_desc.elems,Ue=-1;for(C.heap_len=0,C.heap_max=f,K=0;K<ve;K++)ie[2*K]!==0?(C.heap[++C.heap_len]=Ue=K,C.depth[K]=0):ie[2*K+1]=0;for(;C.heap_len<2;)ie[2*(W=C.heap[++C.heap_len]=Ue<2?++Ue:0)]=1,C.depth[W]=0,C.opt_len--,ae&&(C.static_len-=le[2*W+1]);for(D.max_code=Ue,K=C.heap_len>>1;1<=K;K--)xe(C,ie,K);for(W=ve;K=C.heap[1],C.heap[1]=C.heap[C.heap_len--],xe(C,ie,1),Q=C.heap[1],C.heap[--C.heap_max]=K,C.heap[--C.heap_max]=Q,ie[2*W]=ie[2*K]+ie[2*Q],C.depth[W]=(C.depth[K]>=C.depth[Q]?C.depth[K]:C.depth[Q])+1,ie[2*K+1]=ie[2*Q+1]=W,C.heap[1]=W++,xe(C,ie,1),2<=C.heap_len;);C.heap[--C.heap_max]=C.heap[1],(function(Ie,nt){var rn,dt,We,Oe,Ye,et,Ke=nt.dyn_tree,bt=nt.max_code,Je=nt.stat_desc.static_tree,an=nt.stat_desc.has_stree,Ur=nt.stat_desc.extra_bits,St=nt.stat_desc.extra_base,_n=nt.stat_desc.max_length,xn=0;for(Oe=0;Oe<=m;Oe++)Ie.bl_count[Oe]=0;for(Ke[2*Ie.heap[Ie.heap_max]+1]=0,rn=Ie.heap_max+1;rn<f;rn++)_n<(Oe=Ke[2*Ke[2*(dt=Ie.heap[rn])+1]+1]+1)&&(Oe=_n,xn++),Ke[2*dt+1]=Oe,bt<dt||(Ie.bl_count[Oe]++,Ye=0,St<=dt&&(Ye=Ur[dt-St]),et=Ke[2*dt],Ie.opt_len+=et*(Oe+Ye),an&&(Ie.static_len+=et*(Je[2*dt+1]+Ye)));if(xn!==0){do{for(Oe=_n-1;Ie.bl_count[Oe]===0;)Oe--;Ie.bl_count[Oe]--,Ie.bl_count[Oe+1]+=2,Ie.bl_count[_n]--,xn-=2}while(0<xn);for(Oe=_n;Oe!==0;Oe--)for(dt=Ie.bl_count[Oe];dt!==0;)bt<(We=Ie.heap[--rn])||(Ke[2*We+1]!==Oe&&(Ie.opt_len+=(Oe-Ke[2*We+1])*Ke[2*We],Ke[2*We+1]=Oe),dt--)}})(C,D),_e(ie,Ue,C.bl_count)}function w(C,D,K){var Q,W,ie=-1,le=D[1],ae=0,ve=7,Ue=4;for(le===0&&(ve=138,Ue=3),D[2*(K+1)+1]=65535,Q=0;Q<=K;Q++)W=le,le=D[2*(Q+1)+1],++ae<ve&&W===le||(ae<Ue?C.bl_tree[2*W]+=ae:W!==0?(W!==ie&&C.bl_tree[2*W]++,C.bl_tree[2*S]++):ae<=10?C.bl_tree[2*k]++:C.bl_tree[2*A]++,ie=W,Ue=(ae=0)===le?(ve=138,3):W===le?(ve=6,3):(ve=7,4))}function Z(C,D,K){var Q,W,ie=-1,le=D[1],ae=0,ve=7,Ue=4;for(le===0&&(ve=138,Ue=3),Q=0;Q<=K;Q++)if(W=le,le=D[2*(Q+1)+1],!(++ae<ve&&W===le)){if(ae<Ue)for(;X(C,W,C.bl_tree),--ae!=0;);else W!==0?(W!==ie&&(X(C,W,C.bl_tree),ae--),X(C,S,C.bl_tree),re(C,ae-3,2)):ae<=10?(X(C,k,C.bl_tree),re(C,ae-3,3)):(X(C,A,C.bl_tree),re(C,ae-11,7));ie=W,Ue=(ae=0)===le?(ve=138,3):W===le?(ve=6,3):(ve=7,4)}}l($);var z=!1;function T(C,D,K,Q){re(C,(u<<1)+(Q?1:0),3),(function(W,ie,le,ae){Ce(W),oe(W,le),oe(W,~le),s.arraySet(W.pending_buf,W.window,ie,le,W.pending),W.pending+=le})(C,D,K)}i._tr_init=function(C){z||((function(){var D,K,Q,W,ie,le=new Array(m+1);for(W=Q=0;W<d-1;W++)for(P[W]=Q,D=0;D<1<<I[W];D++)b[Q++]=W;for(b[Q-1]=W,W=ie=0;W<16;W++)for($[W]=ie,D=0;D<1<<R[W];D++)L[ie++]=W;for(ie>>=7;W<c;W++)for($[W]=ie<<7,D=0;D<1<<R[W]-7;D++)L[256+ie++]=W;for(K=0;K<=m;K++)le[K]=0;for(D=0;D<=143;)N[2*D+1]=8,D++,le[8]++;for(;D<=255;)N[2*D+1]=9,D++,le[9]++;for(;D<=279;)N[2*D+1]=7,D++,le[7]++;for(;D<=287;)N[2*D+1]=8,D++,le[8]++;for(_e(N,g+1,le),D=0;D<c;D++)E[2*D+1]=5,E[2*D]=Ee(D,5);U=new ne(N,I,v+1,g,m),V=new ne(E,R,0,c,m),J=new ne(new Array(0),O,0,p,y)})(),z=!0),C.l_desc=new M(C.dyn_ltree,U),C.d_desc=new M(C.dyn_dtree,V),C.bl_desc=new M(C.bl_tree,J),C.bi_buf=0,C.bi_valid=0,me(C)},i._tr_stored_block=T,i._tr_flush_block=function(C,D,K,Q){var W,ie,le=0;0<C.level?(C.strm.data_type===2&&(C.strm.data_type=(function(ae){var ve,Ue=4093624447;for(ve=0;ve<=31;ve++,Ue>>>=1)if(1&Ue&&ae.dyn_ltree[2*ve]!==0)return a;if(ae.dyn_ltree[18]!==0||ae.dyn_ltree[20]!==0||ae.dyn_ltree[26]!==0)return o;for(ve=32;ve<v;ve++)if(ae.dyn_ltree[2*ve]!==0)return o;return a})(C)),De(C,C.l_desc),De(C,C.d_desc),le=(function(ae){var ve;for(w(ae,ae.dyn_ltree,ae.l_desc.max_code),w(ae,ae.dyn_dtree,ae.d_desc.max_code),De(ae,ae.bl_desc),ve=p-1;3<=ve&&ae.bl_tree[2*B[ve]+1]===0;ve--);return ae.opt_len+=3*(ve+1)+5+5+4,ve})(C),W=C.opt_len+3+7>>>3,(ie=C.static_len+3+7>>>3)<=W&&(W=ie)):W=ie=K+5,K+4<=W&&D!==-1?T(C,D,K,Q):C.strategy===4||ie===W?(re(C,2+(Q?1:0),3),Be(C,N,E)):(re(C,4+(Q?1:0),3),(function(ae,ve,Ue,Ie){var nt;for(re(ae,ve-257,5),re(ae,Ue-1,5),re(ae,Ie-4,4),nt=0;nt<Ie;nt++)re(ae,ae.bl_tree[2*B[nt]+1],3);Z(ae,ae.dyn_ltree,ve-1),Z(ae,ae.dyn_dtree,Ue-1)})(C,C.l_desc.max_code+1,C.d_desc.max_code+1,le+1),Be(C,C.dyn_ltree,C.dyn_dtree)),me(C),Q&&Ce(C)},i._tr_tally=function(C,D,K){return C.pending_buf[C.d_buf+2*C.last_lit]=D>>>8&255,C.pending_buf[C.d_buf+2*C.last_lit+1]=255&D,C.pending_buf[C.l_buf+C.last_lit]=255&K,C.last_lit++,D===0?C.dyn_ltree[2*K]++:(C.matches++,D--,C.dyn_ltree[2*(b[K]+v+1)]++,C.dyn_dtree[2*F(D)]++),C.last_lit===C.lit_bufsize-1},i._tr_align=function(C){re(C,2,3),X(C,x,N),(function(D){D.bi_valid===16?(oe(D,D.bi_buf),D.bi_buf=0,D.bi_valid=0):8<=D.bi_valid&&(D.pending_buf[D.pending++]=255&D.bi_buf,D.bi_buf>>=8,D.bi_valid-=8)})(C)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(s){(function(a,o){if(!a.setImmediate){var l,u,d,v,g=1,c={},p=!1,f=a.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(a);m=m&&m.setTimeout?m:a,l={}.toString.call(a.process)==="[object process]"?function(S){process.nextTick(function(){y(S)})}:(function(){if(a.postMessage&&!a.importScripts){var S=!0,k=a.onmessage;return a.onmessage=function(){S=!1},a.postMessage("","*"),a.onmessage=k,S}})()?(v="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",x,!1):a.attachEvent("onmessage",x),function(S){a.postMessage(v+S,"*")}):a.MessageChannel?((d=new MessageChannel).port1.onmessage=function(S){y(S.data)},function(S){d.port2.postMessage(S)}):f&&"onreadystatechange"in f.createElement("script")?(u=f.documentElement,function(S){var k=f.createElement("script");k.onreadystatechange=function(){y(S),k.onreadystatechange=null,u.removeChild(k),k=null},u.appendChild(k)}):function(S){setTimeout(y,0,S)},m.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var k=new Array(arguments.length-1),A=0;A<k.length;A++)k[A]=arguments[A+1];var I={callback:S,args:k};return c[g]=I,l(g),g++},m.clearImmediate=h}function h(S){delete c[S]}function y(S){if(p)setTimeout(y,0,S);else{var k=c[S];if(k){p=!0;try{(function(A){var I=A.callback,R=A.args;switch(R.length){case 0:I();break;case 1:I(R[0]);break;case 2:I(R[0],R[1]);break;case 3:I(R[0],R[1],R[2]);break;default:I.apply(o,R)}})(k)}finally{h(S),p=!1}}}}function x(S){S.source===a&&typeof S.data=="string"&&S.data.indexOf(v)===0&&y(+S.data.slice(v.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Si<"u"?Si:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Ha)),Ha.exports}var lh=oh();const Wc=Br(lh),Jr=e=>Uint8Array.from(e,t=>t.charCodeAt(0)),ch=(e,t,n,r=0,i=0)=>{const a=new ArrayBuffer(22+e.length),o=new DataView(a);let l=0;return o.setUint16(l,0,!0),l+=2,o.setUint16(l,2,!0),l+=2,o.setUint16(l,1,!0),l+=2,o.setUint8(l++,t===256?0:t),o.setUint8(l++,n===256?0:n),o.setUint8(l++,0),o.setUint8(l++,0),o.setUint16(l,r,!0),l+=2,o.setUint16(l,i,!0),l+=2,o.setUint32(l,e.length,!0),l+=4,o.setUint32(l,22,!0),new Uint8Array(a,22).set(e),new Uint8Array(a)},uh=(e,t)=>{const n=4+t.reduce((s,a)=>s+a.length,0),r=new Uint8Array(8+n);r.set(Jr("LIST"),0),new DataView(r.buffer).setUint32(4,n,!0),r.set(Jr(e),8);let i=12;for(const s of t)r.set(s,i),i+=s.length;return r},dh=e=>{const t=e.length,n=Math.max(1,Math.round(60/Bt(Nn))),r=new ArrayBuffer(36),i=new DataView(r);i.setUint32(0,36,!0),i.setUint32(4,t,!0),i.setUint32(8,t,!0),i.setUint32(24,n,!0),i.setUint32(32,1,!0);const s=new Uint32Array(t).fill(n),a=Uint32Array.from({length:t},(p,f)=>f),o=(p,f)=>{const m=f instanceof Uint8Array?f:new Uint8Array(f),h=m.length&1?1:0,y=new Uint8Array(8+m.length+h);return y.set(Jr(p),0),new DataView(y.buffer).setUint32(4,m.length,!0),y.set(m,8),y},l=e.map(p=>o("icon",p)),u=uh("fram",l),d=[o("anih",r),o("rate",s.buffer),o("seq ",a.buffer),u],v=d.reduce((p,f)=>p+f.length,4),g=new Uint8Array(8+v);g.set(Jr("RIFF"),0),new DataView(g.buffer).setUint32(4,v,!0),g.set(Jr("ACON"),8);let c=12;for(const p of d)g.set(p,c),c+=p.length;return g},fh=async e=>{const{width:t,height:n,frames:r,ways:i}=e,s=new Wc;for(let a=0;a<i;a++){const o=[];for(let u=0;u<r;u++){const d=e.toI(u,a),v=e.canvasByI.get(d);if(!v)continue;const g=document.createElement("canvas");g.width=t,g.height=n;const c=g.getContext("2d",{willReadFrequently:!0});if(!c)continue;c.imageSmoothingEnabled=!1,c.drawImage(v,0,0,v.width,v.height,0,0,t,n);const f=g.toDataURL("image/png").split(",")[1],m=Uint8Array.from(atob(f),h=>h.charCodeAt(0));o.push(ch(m,t,n))}const l=dh(o);s.file(`cursor_${a+1}.ani`,l)}return s.generateAsync({type:"blob"})},hh=e=>{const t=new DataView(e),n=new TextDecoder;let r=12;const i=[];for(;r+8<=e.byteLength;){const s=n.decode(new Uint8Array(e,r,4)),a=t.getUint32(r+4,!0),o=r+8;if(s==="LIST"&&n.decode(new Uint8Array(e,o,4))==="fram"){let u=o+4;const d=r+8+a;for(;u+8<=d;){const v=n.decode(new Uint8Array(e,u,4)),g=t.getUint32(u+4,!0),c=u+8;if(v==="icon"){const p=new Uint8Array(e,c,g);i.push(new Uint8Array(p))}u+=8+g+g%2}}r+=8+a+a%2}return i},vh=async e=>{const t=hh(e),n=[];for(const o of t){const l=new Blob([o],{type:"image/x-icon"}),u=URL.createObjectURL(l),d=new Image;d.src=u,await d.decode(),n.push(d)}if(n.length===0)throw new Error("No frames in ANI file");const r=n[0].width,i=n[0].height,s=document.createElement("canvas");s.width=r*n.length,s.height=i;const a=s.getContext("2d");if(!a)throw new Error("getContext 2d error");return a.imageSmoothingEnabled=!1,n.forEach((o,l)=>{a.drawImage(o,l*r,0)}),s.toDataURL("image/png")},ph=(e,t)=>Math.floor(Math.random()*Math.abs(t-e+1))+e;var Ln=(e,t=[])=>({parts:(...n)=>{if(gh(t))return Ln(e,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>Ln(e,[...t,...n]),omit:(...n)=>Ln(e,t.filter(r=>!n.includes(r))),rename:n=>Ln(n,t),keys:()=>t,build:()=>[...new Set(t)].reduce((n,r)=>Object.assign(n,{[r]:{selector:[`&[data-scope="${dr(e)}"][data-part="${dr(r)}"]`,`& [data-scope="${dr(e)}"][data-part="${dr(r)}"]`].join(", "),attrs:{"data-scope":dr(e),"data-part":dr(r)}}}),{})}),dr=e=>e.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),gh=e=>e.length===0,rl=e=>Math.max(0,Math.min(1,e)),$a=(...e)=>t=>e.reduce((n,r)=>r(n),t),mr=()=>{},ua=e=>typeof e=="object"&&e!==null,Te=e=>e?"":void 0,Hc=e=>e?"true":void 0,mh=1,bh=9,yh=11,ct=e=>ua(e)&&e.nodeType===mh&&typeof e.nodeName=="string",da=e=>ua(e)&&e.nodeType===bh,wh=e=>ua(e)&&e===e.window,$c=e=>ct(e)?e.localName||"":"#document";function _h(e){return["html","body","#document"].includes($c(e))}var xh=e=>ua(e)&&e.nodeType!==void 0,Or=e=>xh(e)&&e.nodeType===yh&&"host"in e,kh=e=>ct(e)&&e.localName==="input",Eh=e=>ct(e)?e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0:!1;function br(e){if(!e)return!1;const t=e.getRootNode();return kr(t)===e}var Ch=/(textarea|select)/;function Sh(e){if(e==null||!ct(e))return!1;try{return kh(e)&&e.selectionStart!=null||Ch.test(e.localName)||e.isContentEditable||e.getAttribute("contenteditable")==="true"||e.getAttribute("contenteditable")===""}catch{return!1}}function ci(e,t){var r;if(!e||!t||!ct(e)||!ct(t))return!1;const n=(r=t.getRootNode)==null?void 0:r.call(t);if(e===t||e.contains(t))return!0;if(n&&Or(n)){let i=t;for(;i;){if(e===i)return!0;i=i.parentNode||i.host}}return!1}function Nt(e){return da(e)?e:wh(e)?e.document:(e==null?void 0:e.ownerDocument)??document}function Th(e){return Nt(e).documentElement}function ut(e){var t;return Or(e)?ut(e.host):da(e)?e.defaultView??window:ct(e)?((t=e.ownerDocument)==null?void 0:t.defaultView)??window:window}function kr(e){let t=e.activeElement;for(;t!=null&&t.shadowRoot;){const n=t.shadowRoot.activeElement;if(!n||n===t)break;t=n}return t}function Ah(e){if($c(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Or(e)&&e.host||Th(e);return Or(t)?t.host:t}function Js(e){let t;try{if(t=e.getRootNode({composed:!0}),da(t)||Or(t))return t}catch{}return e.ownerDocument??document}var ja=new WeakMap;function Ih(e){return ja.has(e)||ja.set(e,ut(e).getComputedStyle(e)),ja.get(e)}var Qs=new Set(["menu","listbox","dialog","grid","tree","region"]),Oh=e=>Qs.has(e),jc=e=>{var t;return((t=e.getAttribute("aria-controls"))==null?void 0:t.split(" "))||[]};function qc(e,t){const n=new Set,r=Js(e),i=s=>{const a=s.querySelectorAll("[aria-controls]");for(const o of a){if(o.getAttribute("aria-expanded")!=="true")continue;const l=jc(o);for(const u of l){if(!u||n.has(u))continue;n.add(u);const d=r.getElementById(u);if(d){const v=d.getAttribute("role"),g=d.getAttribute("aria-modal")==="true";if(v&&Oh(v)&&!g&&(d===t||d.contains(t)||i(d)))return!0}}}return!1};return i(e)}function Gc(e,t){const n=Js(e),r=new Set,i=s=>{const a=s.querySelectorAll("[aria-controls]");for(const o of a){if(o.getAttribute("aria-expanded")!=="true")continue;const l=jc(o);for(const u of l){if(!u||r.has(u))continue;r.add(u);const d=n.getElementById(u);if(d){const v=d.getAttribute("role"),g=d.getAttribute("aria-modal")==="true";v&&Qs.has(v)&&!g&&(t(d),i(d))}}}};i(e)}function Lh(e){const t=new Set;return Gc(e,n=>{e.contains(n)||t.add(n)}),Array.from(t)}function Rh(e){const t=e.getAttribute("role");return!!(t&&Qs.has(t))}function Ph(e){return e.hasAttribute("aria-controls")&&e.getAttribute("aria-expanded")==="true"}function Dh(e){var t;return Ph(e)?!0:!!((t=e.querySelector)!=null&&t.call(e,'[aria-controls][aria-expanded="true"]'))}function Nh(e){if(!e.id)return!1;const t=Js(e),n=CSS.escape(e.id),r=`[aria-controls~="${n}"][aria-expanded="true"], [aria-controls="${n}"][aria-expanded="true"]`;return!!(t.querySelector(r)&&Rh(e))}var fa=()=>typeof document<"u";function Fh(){const e=navigator.userAgentData;return(e==null?void 0:e.platform)??navigator.platform}function Bh(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(({brand:t,version:n})=>`${t}/${n}`).join(" "):navigator.userAgent}var eo=e=>fa()&&e.test(Fh()),zh=e=>fa()&&e.test(Bh()),Mh=e=>fa()&&e.test(navigator.vendor),il=()=>fa()&&!!navigator.maxTouchPoints,Vh=()=>eo(/^iPhone/i),Uh=()=>eo(/^iPad/i)||va()&&navigator.maxTouchPoints>1,ha=()=>Vh()||Uh(),Wh=()=>va()||ha(),va=()=>eo(/^Mac/i),to=()=>Wh()&&Mh(/apple/i),Hh=()=>zh(/Android/i);function $h(e){var t,n,r;return((t=e.composedPath)==null?void 0:t.call(e))??((r=(n=e.nativeEvent)==null?void 0:n.composedPath)==null?void 0:r.call(n))}function Lt(e){const t=$h(e);return(t==null?void 0:t[0])??e.target}function jh(e){return e.pointerType===""&&e.isTrusted?!0:Hh()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}var Wi=e=>e.button===0,qh=e=>e.button===2||va()&&e.ctrlKey&&e.button===0,Gh=e=>e.ctrlKey||e.altKey||e.metaKey,Zh=e=>"touches"in e&&e.touches.length>0,Kh={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},al={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function Xh(e,t={}){const{dir:n="ltr",orientation:r="horizontal"}=t;let i=e.key;return i=Kh[i]??i,n==="rtl"&&r==="horizontal"&&i in al&&(i=al[i]),i}var Yh=new Set(["PageUp","PageDown"]),Jh=new Set(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"]);function Qh(e){return e.ctrlKey||e.metaKey?.1:Yh.has(e.key)||e.shiftKey&&Jh.has(e.key)?10:1}function Hi(e,t="client"){const n=Zh(e)?e.touches[0]||e.changedTouches[0]:e;return{x:n[`${t}X`],y:n[`${t}Y`]}}var Xe=(e,t,n,r)=>{const i=typeof e=="function"?e():e;return i==null||i.addEventListener(t,n,r),()=>{i==null||i.removeEventListener(t,n,r)}};function Zc(e,t){const{type:n="HTMLInputElement",property:r="value"}=t,i=ut(e)[n].prototype;return Object.getOwnPropertyDescriptor(i,r)??{}}function ev(e){if(e.localName==="input")return"HTMLInputElement";if(e.localName==="textarea")return"HTMLTextAreaElement";if(e.localName==="select")return"HTMLSelectElement"}function Kc(e,t,n="value"){var i;if(!e)return;const r=ev(e);r&&((i=Zc(e,{type:r,property:n}).set)==null||i.call(e,t)),e.setAttribute(n,t)}function Xc(e,t){var r;if(!e)return;(r=Zc(e,{type:"HTMLInputElement",property:"checked"}).set)==null||r.call(e,t),t?e.setAttribute("checked",""):e.removeAttribute("checked")}function tv(e,t){const{value:n,bubbles:r=!0}=t;if(!e)return;const i=ut(e);e instanceof i.HTMLInputElement&&(Kc(e,`${n}`),e.dispatchEvent(new i.Event("input",{bubbles:r})))}function Yc(e,t){const{checked:n,bubbles:r=!0}=t;if(!e)return;const i=ut(e);e instanceof i.HTMLInputElement&&(Xc(e,n),e.dispatchEvent(new i.Event("click",{bubbles:r})))}function nv(e){return rv(e)?e.form:e.closest("form")}function rv(e){return e.matches("textarea, input, select, button")}function iv(e,t){if(!e)return;const n=nv(e),r=i=>{i.defaultPrevented||t()};return n==null||n.addEventListener("reset",r,{passive:!0}),()=>n==null?void 0:n.removeEventListener("reset",r)}function av(e,t){const n=e==null?void 0:e.closest("fieldset");if(!n)return;t(n.disabled);const r=ut(n),i=new r.MutationObserver(()=>t(n.disabled));return i.observe(n,{attributes:!0,attributeFilter:["disabled"]}),()=>i.disconnect()}function no(e,t){if(!e)return;const{onFieldsetDisabledChange:n,onFormReset:r}=t,i=[iv(e,r),av(e,n)];return()=>i.forEach(s=>s==null?void 0:s())}var Jc=e=>ct(e)&&e.tagName==="IFRAME",sv=e=>!Number.isNaN(parseInt(e.getAttribute("tabindex")||"0",10)),ov=e=>parseInt(e.getAttribute("tabindex")||"0",10)<0,ro="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type",Qc=(e,t=!1)=>{if(!e)return[];const n=Array.from(e.querySelectorAll(ro));(t==!0||t=="if-empty"&&n.length===0)&&ct(e)&&Pn(e)&&n.unshift(e);const i=n.filter(Pn);return i.forEach((s,a)=>{if(Jc(s)&&s.contentDocument){const o=s.contentDocument.body;i.splice(a,1,...Qc(o))}}),i};function Pn(e){return!e||e.closest("[inert]")?!1:e.matches(ro)&&Eh(e)}function bi(e,t){if(!e)return[];const n=Array.from(e.querySelectorAll(ro)),r=n.filter(Tn);return t&&Tn(e)&&r.unshift(e),r.forEach((i,s)=>{if(Jc(i)&&i.contentDocument){const a=i.contentDocument.body,o=bi(a);r.splice(s,1,...o)}}),!r.length&&t?n:r}function Tn(e){return e!=null&&e.tabIndex>0?!0:Pn(e)&&!ov(e)}function lv(e,t){const n=bi(e,t),r=n[0]||null,i=n[n.length-1]||null;return[r,i]}function cv(e,t){const n=bi(e),r=(e==null?void 0:e.ownerDocument)||document,i=t??kr(r);if(!i)return null;const s=n.indexOf(i);return n[s+1]||null}function Hr(e){return e.tabIndex<0&&(/^(audio|video|details)$/.test(e.localName)||Sh(e))&&!sv(e)?0:e.tabIndex}function sl(e){const{root:t,getInitialEl:n,filter:r,enabled:i=!0}=e;if(!i)return;let s=null;if(s||(s=typeof n=="function"?n():n),s||(s=t==null?void 0:t.querySelector("[data-autofocus],[autofocus]")),!s){const a=bi(t);s=r?a.filter(r)[0]:a[0]}return s||t||void 0}function uv(e){const t=new Set;function n(r){const i=globalThis.requestAnimationFrame(r);t.add(()=>globalThis.cancelAnimationFrame(i))}return n(()=>n(e)),function(){t.forEach(i=>i())}}function Pt(e){let t;const n=globalThis.requestAnimationFrame(()=>{t=e()});return()=>{globalThis.cancelAnimationFrame(n),t==null||t()}}function xs(e){const t=Ah(e);return _h(t)?Nt(t).body:ct(t)&&hv(t)?t:xs(t)}var dv=/auto|scroll|overlay|hidden|clip/,fv=new Set(["inline","contents"]);function hv(e){const t=ut(e),{overflow:n,overflowX:r,overflowY:i,display:s}=t.getComputedStyle(e);return dv.test(n+i+r)&&!fv.has(s)}function vv(e,t){const{left:n,top:r,width:i,height:s}=t.getBoundingClientRect(),a={x:e.x-n,y:e.y-r},o={x:rl(a.x/i),y:rl(a.y/s)};function l(u={}){const{dir:d="ltr",orientation:v="horizontal",inverted:g}=u,c=typeof g=="object"?g.x:g,p=typeof g=="object"?g.y:g;return v==="horizontal"?d==="rtl"||c?1-o.x:o.x:p?1-o.y:o.y}return{offset:a,percent:o,getPercentValue:l}}var yr="default",ks="",Fi=new WeakMap;function pv(e={}){const{target:t,doc:n}=e,r=n??document,i=r.documentElement;return ha()?(yr==="default"&&(ks=i.style.webkitUserSelect,i.style.webkitUserSelect="none"),yr="disabled"):t&&(Fi.set(t,t.style.userSelect),t.style.userSelect="none"),()=>gv({target:t,doc:r})}function gv(e={}){const{target:t,doc:n}=e,i=(n??document).documentElement;if(ha()){if(yr!=="disabled")return;yr="restoring",setTimeout(()=>{uv(()=>{yr==="restoring"&&(i.style.webkitUserSelect==="none"&&(i.style.webkitUserSelect=ks||""),ks="",yr="default")})},300)}else if(t&&Fi.has(t)){const s=Fi.get(t);t.style.userSelect==="none"&&(t.style.userSelect=s??""),t.getAttribute("style")===""&&t.removeAttribute("style"),Fi.delete(t)}}function mv(e={}){const{defer:t,target:n,...r}=e,i=t?Pt:a=>a(),s=[];return s.push(i(()=>{const a=typeof n=="function"?n():n;s.push(pv({...r,target:a}))})),()=>{s.forEach(a=>a==null?void 0:a())}}function bv(e,t){const{onPointerMove:n,onPointerUp:r}=t,i=o=>{const l=Hi(o),u=Math.sqrt(l.x**2+l.y**2),d=o.pointerType==="touch"?10:5;if(!(u<d)){if(o.pointerType==="mouse"&&o.button===0){s(o);return}n({point:l,event:o})}},s=o=>{const l=Hi(o);r({point:l,event:o})},a=[Xe(e,"pointermove",i,!1),Xe(e,"pointerup",s,!1),Xe(e,"pointercancel",s,!1),Xe(e,"contextmenu",s,!1),mv({doc:e})];return()=>{a.forEach(o=>o())}}function yv(e){const{pointerNode:t,keyboardNode:n=t,onPress:r,onPressStart:i,onPressEnd:s,isValidKey:a=y=>y.key==="Enter"}=e;if(!t)return mr;const o=ut(t);let l=mr,u=mr,d=mr;const v=y=>({point:Hi(y),event:y});function g(y){i==null||i(v(y))}function c(y){s==null||s(v(y))}const f=Xe(t,"pointerdown",y=>{u();const S=Xe(o,"pointerup",A=>{const I=Lt(A);ci(t,I)?r==null||r(v(A)):s==null||s(v(A))},{passive:!r,once:!0}),k=Xe(o,"pointercancel",c,{passive:!s,once:!0});u=$a(S,k),br(n)&&y.pointerType==="mouse"&&y.preventDefault(),g(y)},{passive:!i}),m=Xe(n,"focus",h);l=$a(f,m);function h(){const y=A=>{if(!a(A))return;const I=O=>{if(!a(O))return;const B=new o.PointerEvent("pointerup"),N=v(B);r==null||r(N),s==null||s(N)};u(),u=Xe(n,"keyup",I);const R=new o.PointerEvent("pointerdown");g(R)},x=()=>{const A=new o.PointerEvent("pointercancel");c(A)},S=Xe(n,"keydown",y),k=Xe(n,"blur",x);d=$a(S,k)}return()=>{l(),u(),d()}}function wv(e,t={}){const{triggerElement:n,onFocus:r,onFocusEnter:i}=t,s=(e==null?void 0:e.ownerDocument)||document,a=s.body;function o(l){if(l.key!=="Tab")return;let u=null;const[d,v]=lv(e,!0),g=cv(a,n),c=!d&&!v;l.shiftKey&&br(g)?(i==null||i(),u=v):l.shiftKey&&(br(d)||c)?u=n:!l.shiftKey&&br(n)?(i==null||i(),u=d):!l.shiftKey&&(br(v)||c)&&(u=g),u&&(l.preventDefault(),typeof r=="function"?r(u):u.focus())}return Xe(s,"keydown",o,!0)}function _v(e,t){const{defer:n,triggerElement:r,...i}=t,s=n?Pt:o=>o(),a=[];return a.push(s(()=>{const o=typeof e=="function"?e():e,l=typeof r=="function"?r():r;a.push(wv(o,{triggerElement:l,...i}))})),()=>{a.forEach(o=>o==null?void 0:o())}}function eu(e,t){return Array.from((e==null?void 0:e.querySelectorAll(t))??[])}function tu(e,t){const{onEntry:n,measure:r,box:i="border-box"}=t,s=(Array.isArray(e)?e:[e]).filter(ct),a=ut(s[0]),o=u=>{const d=s.map(v=>r(v));n({rects:d,entries:u})};o([]);const l=new a.ResizeObserver(o);return s.forEach(u=>l.observe(u,{box:i})),()=>l.disconnect()}function Es(e,t){if(!e)return mr;const n=Object.keys(t).reduce((r,i)=>(r[i]=e.style.getPropertyValue(i),r),{});return Object.assign(e.style,t),()=>{Object.assign(e.style,n),e.style.length===0&&e.removeAttribute("style")}}function xv(e,t,n){if(!e)return mr;const r=e.style.getPropertyValue(t);return e.style.setProperty(t,n),()=>{e.style.setProperty(t,r),e.style.length===0&&e.removeAttribute("style")}}var nu={border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"};function kv(e,t,n){const{signal:r}=t;return[new Promise((a,o)=>{const l=setTimeout(()=>{o(new Error(`Timeout of ${n}ms exceeded`))},n);r.addEventListener("abort",()=>{clearTimeout(l),o(new Error("Promise aborted"))}),e.then(u=>{r.aborted||(clearTimeout(l),a(u))}).catch(u=>{r.aborted||(clearTimeout(l),o(u))})}),()=>t.abort()]}function Ev(e,t){const{timeout:n,rootNode:r}=t,i=ut(r),s=Nt(r),a=new i.AbortController;return kv(new Promise(o=>{const l=e();if(l){o(l);return}const u=new i.MutationObserver(()=>{const d=e();d&&d.isConnected&&(u.disconnect(),o(d))});u.observe(s.body,{childList:!0,subtree:!0})}),a,n)}function Cv(e){return e==null?[]:Array.isArray(e)?e:[e]}var Sv=e=>e[0],Tv=e=>e[e.length-1],ol=e=>(e==null?void 0:e.constructor.name)==="Array",Av=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!yi(e[n],t[n]))return!1;return!0},yi=(e,t)=>{if(Object.is(e,t))return!0;if(e==null&&t!=null||e!=null&&t==null)return!1;if(typeof(e==null?void 0:e.isEqual)=="function"&&typeof(t==null?void 0:t.isEqual)=="function")return e.isEqual(t);if(typeof e=="function"&&typeof t=="function")return e.toString()===t.toString();if(ol(e)&&ol(t))return Av(Array.from(e),Array.from(t));if(typeof e!="object"||typeof t!="object")return!1;const n=Object.keys(t??Object.create(null)),r=n.length;for(let i=0;i<r;i++)if(!Reflect.has(e,n[i]))return!1;for(let i=0;i<r;i++){const s=n[i];if(!yi(e[s],t[s]))return!1}return!0},Iv=e=>e!=null&&typeof e=="object",Qr=e=>typeof e=="string",Zn=e=>typeof e=="function",Ov=e=>e==null,Lv=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),Rv=e=>Object.prototype.toString.call(e),ru=Function.prototype.toString,Pv=ru.call(Object),Dv=e=>{if(!Iv(e)||Rv(e)!="[object Object]"||Bv(e))return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const n=Lv(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&ru.call(n)==Pv},Nv=e=>typeof e=="object"&&e!==null&&"$$typeof"in e&&"props"in e,Fv=e=>typeof e=="object"&&e!==null&&"__v_isVNode"in e,Bv=e=>Nv(e)||Fv(e),zv=e=>e(),Mv=()=>{},Cs=(...e)=>(...t)=>{e.forEach(function(n){n==null||n(...t)})},{floor:Vv,abs:$i,round:iu,min:Uv,max:Wv,pow:Hv,sign:$v}=Math,Ss=e=>Number.isNaN(e),pa=e=>Ss(e)?0:e,jv=(e,t,n)=>e===0?n:t[e-1],qv=(e,t,n)=>e===t.length-1?n:t[e+1],Gv=(e,t,n)=>{const r=pa(e),i=t==null||r>=t,s=n==null||r<=n;return i&&s},Zv=(e,t,n)=>iu((pa(e)-t)/n)*n+t,wi=(e,t,n)=>Uv(Wv(pa(e),t),n),io=(e,t,n)=>(pa(e)-t)/(n-t),au=(e,t,n,r)=>wi(Zv(e*(n-t)+t,t,r),t,n),ll=(e,t)=>{let n=e,r=t.toString(),i=r.indexOf("."),s=i>=0?r.length-i:0;if(s>0){let a=Hv(10,s);n=iu(n*a)/a}return n},ao=(e,t,n,r)=>{const i=t!=null?Number(t):0,s=Number(n),a=(e-i)%r;let o=$i(a)*2>=r?e+$v(a)*(r-$i(a)):e-a;if(o=ll(o,r),!Ss(i)&&o<i)o=i;else if(!Ss(s)&&o>s){const l=Vv((s-i)/r),u=i+l*r;o=l<=0||u<i?s:u}return ll(o,r)},Gr=(e,t,n)=>e[t]===n?e:[...e.slice(0,t),n,...e.slice(t+1)];function su(e,t){const n=jv(e,t.values,t.min),r=qv(e,t.values,t.max);let i=t.values.slice();return function(a){let o=ao(a,n,r,t.step);return i=Gr(i,e,a),i[e]=o,i}}function Kv(e,t){const n=t.values[e]+t.step;return su(e,t)(n)}function Xv(e,t){const n=t.values[e]-t.step;return su(e,t)(n)}var Yv=(e,t)=>{let n=e.findIndex(s=>t-s<0);if(n===0)return n;if(n===-1)return e.length-1;let r=e[n-1],i=e[n];return $i(r-t)<$i(i-t)?n-1:n},ou=(e,t,n,r)=>e.map((i,s)=>({min:s===0?t:e[s-1]+r,max:s===e.length-1?n:e[s+1]-r,value:i})),Ts=(e,t)=>{const[n,r]=e,[i,s]=t;return a=>n===r||i===s?i:i+(s-i)/(r-n)*(a-n)},cl=e=>typeof e=="number"?`${e}px`:e;function so(e){if(!Dv(e)||e===void 0)return e;const t=Reflect.ownKeys(e).filter(r=>typeof r=="string"),n={};for(const r of t){const i=e[r];i!==void 0&&(n[r]=so(i))}return n}function Jv(e,t){const n={};for(const r of t){const i=e[r];i!==void 0&&(n[r]=i)}return n}function As(...e){e.length===1?e[0]:e[1],e.length===2&&e[0]}function Qv(e,t){if(e==null)throw new Error(t())}var ep=(...e)=>e.map(t=>{var n;return(n=t==null?void 0:t.trim)==null?void 0:n.call(t)}).filter(Boolean).join(" "),tp=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,ul=e=>{const t={};let n;for(;n=tp.exec(e);)t[n[1]]=n[2];return t},np=(e,t)=>{if(Qr(e)){if(Qr(t))return`${e};${t}`;e=ul(e)}else Qr(t)&&(t=ul(t));return Object.assign({},e??{},t??{})};function rp(...e){let t={};for(let n of e){if(!n)continue;for(let i in t){if(i.startsWith("on")&&typeof t[i]=="function"&&typeof n[i]=="function"){t[i]=Cs(n[i],t[i]);continue}if(i==="className"||i==="class"){t[i]=ep(t[i],n[i]);continue}if(i==="style"){t[i]=np(t[i],n[i]);continue}t[i]=n[i]!==void 0?n[i]:t[i]}for(let i in n)t[i]===void 0&&(t[i]=n[i]);const r=Object.getOwnPropertySymbols(n);for(let i of r)t[i]=n[i]}return t}function ip(e,t,n){let r=[],i;return s=>{const a=e(s);return(a.length!==r.length||a.some((l,u)=>!yi(r[u],l)))&&(r=a,i=t(a,s)),i}}function lu(){return{and:(...e)=>function(n){return e.every(r=>n.guard(r))},or:(...e)=>function(n){return e.some(r=>n.guard(r))},not:e=>function(n){return!n.guard(e)}}}var gr=(e=>(e.NotStarted="Not Started",e.Started="Started",e.Stopped="Stopped",e))(gr||{}),qa="__init__";function ap(e){const t=()=>{var a;return((a=e.getRootNode)==null?void 0:a.call(e))??document},n=()=>Nt(t());return{...e,getRootNode:t,getDoc:n,getWin:()=>n().defaultView??window,getActiveElement:()=>kr(t()),isActiveElement:br,getById:a=>t().getElementById(a)}}function sp(e){return new Proxy({},{get(t,n){return n==="style"?r=>e({style:r}).style:e}})}var lr=()=>e=>Array.from(new Set(e));const dl={className:"class",defaultChecked:"checked",defaultValue:"value",htmlFor:"for",onBlur:"onfocusout",onChange:"oninput",onFocus:"onfocusin",onDoubleClick:"ondblclick"};function cu(e){let t="";for(let n in e){const r=e[n];r!=null&&(n.startsWith("--")||(n=n.replace(/[A-Z]/g,i=>`-${i.toLowerCase()}`)),t+=`${n}:${r};`)}return t}const op=new Set("viewBox,className,preserveAspectRatio,fillRule,clipPath,clipRule,strokeWidth,strokeLinecap,strokeLinejoin,strokeDasharray,strokeDashoffset,strokeMiterlimit".split(","));function lp(e){return e in dl?dl[e]:op.has(e)?e:e.toLowerCase()}function cp(e,t){return e==="style"&&typeof t=="object"?cu(t):t}const ga=sp(e=>{const t={};for(const n in e)t[lp(n)]=cp(n,e[n]);return t}),up=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,dp=e=>{const t={};let n;for(;n=up.exec(e);)t[n[1]]=n[2];return t};function fp(...e){const t=rp(...e);return"style"in t&&(typeof t.style=="string"&&(t.style=dp(t.style)),t.style=cu(t.style)),t}function Ga(e,t={}){function n(r={}){const{container:i,disabled:s,getRootNode:a}=r;if(s)return;const o=(a==null?void 0:a().ownerDocument)??document;(i??o.body).appendChild(e)}return n(t),{destroy:()=>e.remove(),update:n}}function ji(e){const t=e().defaultValue??e().value,n=e().isEqual??Object.is;let r=pe(ft(t));const i=ue(()=>e().value!==void 0);let s={current:pi(()=>_(r))},a={current:void 0};Id(()=>{const u=_(i)?e().value:_(r);s={current:u},a={current:u}});const o=u=>{var g,c;const d=Zn(u)?u(s.current):u,v=a.current;e().debug&&console.log(`[bindable > ${e().debug}] setValue`,{next:d,prev:v}),_(i)||te(r,d,!0),n(d,v)||(c=(g=e()).onChange)==null||c.call(g,d,v)};function l(){return _(i)?e().value:_(r)}return{initial:t,ref:s,get:l,set(u){(e().sync?vc:zv)(()=>o(u))},invoke(u,d){var v,g;(g=(v=e()).onChange)==null||g.call(v,u,d)},hash(u){var d,v;return((v=(d=e()).hash)==null?void 0:v.call(d,u))??String(u)}}}ji.cleanup=e=>{pc(()=>e())};ji.ref=e=>{let t=e;return{get:()=>t,set:n=>{t=n}}};function hp(e){const t={current:e};return{get(n){return t.current[n]},set(n,r){t.current[n]=r}}}const Za=e=>typeof e=="function"?e():e,vp=(e,t)=>{let n=[],r=!0;Me(()=>{if(r){n=e.map(s=>Za(s)),r=!1;return}let i=!1;for(let s=0;s<e.length;s++)if(!yi(n[s],Za(e[s]))){i=!0;break}i&&(n=e.map(s=>Za(s)),t())})};function Ka(e){return Zn(e)?e():e}function ma(e,t){var R,O,B;const n=ue(()=>{const{id:N,ids:E,getRootNode:L}=Ka(t);return ap({id:N,ids:E,getRootNode:L})}),r=(...N)=>{e.debug&&console.log(...N)},i=ue(()=>{var N;return((N=e.props)==null?void 0:N.call(e,{props:so(Ka(t)),scope:_(n)}))??Ka(t)}),s=pp(()=>_(i)),a=(R=e.context)==null?void 0:R.call(e,{prop:s,bindable:ji,get scope(){return _(n)},flush:fl,getContext(){return o},getComputed(){return S},getRefs(){return p},getEvent(){return g()}}),o={get(N){return a==null?void 0:a[N].get()},set(N,E){a==null||a[N].set(E)},initial(N){return a==null?void 0:a[N].initial},hash(N){const E=a==null?void 0:a[N].get();return a==null?void 0:a[N].hash(E)}};let l=new Map,u={current:null},d={current:null},v={current:{type:""}};const g=()=>({...v.current,current(){return v.current},previous(){return d.current}}),c=()=>({...k,hasTag(N){var L,b;const E=k.get();return!!((b=(L=e.states[E])==null?void 0:L.tags)!=null&&b.includes(N))},matches(...N){const E=k.get();return N.includes(E)}}),p=hp(((O=e.refs)==null?void 0:O.call(e,{prop:s,context:o}))??{}),f=()=>({state:c(),context:o,event:g(),prop:s,send:I,action:m,guard:h,track:vp,refs:p,computed:S,flush:fl,scope:_(n),choose:x}),m=N=>{const E=Zn(N)?N(f()):N;if(!E)return;const L=E.map(b=>{var U,V;const P=(V=(U=e.implementations)==null?void 0:U.actions)==null?void 0:V[b];return P||As(`[zag-js] No implementation found for action "${JSON.stringify(b)}"`),P});for(const b of L)b==null||b(f())},h=N=>{var E,L;return Zn(N)?N(f()):(L=(E=e.implementations)==null?void 0:E.guards)==null?void 0:L[N](f())},y=N=>{const E=Zn(N)?N(f()):N;if(!E)return;const L=E.map(P=>{var V,J;const U=(J=(V=e.implementations)==null?void 0:V.effects)==null?void 0:J[P];return U||As(`[zag-js] No implementation found for effect "${JSON.stringify(P)}"`),U}),b=[];for(const P of L){const U=P==null?void 0:P(f());U&&b.push(U)}return()=>b.forEach(P=>P==null?void 0:P())},x=N=>Cv(N).find(E=>{let L=!E.guard;return Qr(E.guard)?L=!!h(E.guard):Zn(E.guard)&&(L=E.guard(f())),L}),S=N=>{Qv(e.computed,()=>"[zag-js] No computed object found on machine");const E=e.computed[N];return E({context:o,event:g(),prop:s,refs:p,scope:_(n),computed:S})},k=ji(()=>({defaultValue:e.initialState({prop:s}),onChange(N,E){var b,P,U,V;if(E){const J=l.get(E);J==null||J(),l.delete(E)}E&&m((b=e.states[E])==null?void 0:b.exit),m((P=u.current)==null?void 0:P.actions);const L=y((U=e.states[N])==null?void 0:U.effects);if(L&&l.set(N,L),E===qa){m(e.entry);const J=y(e.effects);J&&l.set(qa,J)}m((V=e.states[N])==null?void 0:V.entry)}}));let A=gr.NotStarted;Pd(()=>{const N=A===gr.Started;A=gr.Started,r(N?"rehydrating...":"initializing..."),k.invoke(k.initial,qa)}),pc(()=>{r("unmounting..."),A=gr.Stopped,l.forEach(N=>N==null?void 0:N()),l=new Map,u.current=null,m(e.exit)});const I=N=>{var V,J;if(A!==gr.Started)return;d.current=v.current,v.current=N;let E=k.get();const L=((V=e.states[E].on)==null?void 0:V[N.type])??((J=e.on)==null?void 0:J[N.type]),b=x(L);if(!b)return;u.current=b;const P=b.target??E;r("transition",N.type,b.target||E,`(${b.actions})`);const U=P!==E;U?k.set(P):b.reenter&&!U?k.invoke(E,E):m(b.actions)};return(B=e.watch)==null||B.call(e,f()),{get state(){return c()},send:I,context:o,prop:s,get scope(){return _(n)},refs:p,computed:S,get event(){return g()},getStatus:()=>A}}function pp(e){return function(n){return e()[n]}}function fl(e){vc(()=>{queueMicrotask(()=>e())})}function ba(e){var t=Symbol(),n=function(i){return Od(t,i)},r=function(){var i;return(i=Ld(t))!==null&&i!==void 0?i:e};return[n,r,t]}var qi;qi=ba(),qi[0];qi[1];qi[2];const gp=e=>e;function mp(e,{delay:t=0,duration:n=400,easing:r=gp}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:s=>`opacity: ${s*i}`}}ht(["click"]);var Gi;Gi=ba({parent:"none",value:"",expanded:!1}),Gi[0];Gi[1];Gi[2];function bp(e){return!(e.metaKey||!va()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}var yp=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function wp(e,t,n){const r=n?Lt(n):null,i=ut(r);return e=e||r instanceof i.HTMLInputElement&&!yp.has(r==null?void 0:r.type)||r instanceof i.HTMLTextAreaElement||r instanceof i.HTMLElement&&r.isContentEditable,!(e&&t==="keyboard"&&n instanceof i.KeyboardEvent&&!Reflect.has(_p,n.key))}var cr=null,Is=new Set,ei=new Map,tr=!1,Os=!1,_p={Tab:!0,Escape:!0};function ya(e,t){for(let n of Is)n(e,t)}function Zi(e){tr=!0,bp(e)&&(cr="keyboard",ya("keyboard",e))}function Ot(e){cr="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(tr=!0,ya("pointer",e))}function uu(e){jh(e)&&(tr=!0,cr="virtual")}function du(e){const t=Lt(e);t===ut(t)||t===Nt(t)||(!tr&&!Os&&(cr="virtual",ya("virtual",e)),tr=!1,Os=!1)}function fu(){tr=!1,Os=!0}function xp(e){if(typeof window>"u"||ei.get(ut(e)))return;const t=ut(e),n=Nt(e);let r=t.HTMLElement.prototype.focus;function i(){cr="virtual",ya("virtual",null),tr=!0,r.apply(this,arguments)}Object.defineProperty(t.HTMLElement.prototype,"focus",{configurable:!0,value:i}),n.addEventListener("keydown",Zi,!0),n.addEventListener("keyup",Zi,!0),n.addEventListener("click",uu,!0),t.addEventListener("focus",du,!0),t.addEventListener("blur",fu,!1),typeof t.PointerEvent<"u"?(n.addEventListener("pointerdown",Ot,!0),n.addEventListener("pointermove",Ot,!0),n.addEventListener("pointerup",Ot,!0)):(n.addEventListener("mousedown",Ot,!0),n.addEventListener("mousemove",Ot,!0),n.addEventListener("mouseup",Ot,!0)),t.addEventListener("beforeunload",()=>{kp(e)},{once:!0}),ei.set(t,{focus:r})}var kp=(e,t)=>{const n=ut(e),r=Nt(e);ei.has(n)&&(n.HTMLElement.prototype.focus=ei.get(n).focus,r.removeEventListener("keydown",Zi,!0),r.removeEventListener("keyup",Zi,!0),r.removeEventListener("click",uu,!0),n.removeEventListener("focus",du,!0),n.removeEventListener("blur",fu,!1),typeof n.PointerEvent<"u"?(r.removeEventListener("pointerdown",Ot,!0),r.removeEventListener("pointermove",Ot,!0),r.removeEventListener("pointerup",Ot,!0)):(r.removeEventListener("mousedown",Ot,!0),r.removeEventListener("mousemove",Ot,!0),r.removeEventListener("mouseup",Ot,!0)),ei.delete(n))};function Ki(){return cr==="keyboard"}function hu(e={}){const{isTextInput:t,autoFocus:n,onChange:r,root:i}=e;xp(i),r==null||r({isFocusVisible:n||Ki(),modality:cr});const s=(a,o)=>{wp(!!t,a,o)&&(r==null||r({isFocusVisible:Ki(),modality:a}))};return Is.add(s),()=>{Is.delete(s)}}var Ep=Ln("radio-group").parts("root","label","item","itemText","itemControl","indicator"),fr=Ep.build(),Xi=e=>{var t;return((t=e.ids)==null?void 0:t.root)??`radio-group:${e.id}`},hl=e=>{var t;return((t=e.ids)==null?void 0:t.label)??`radio-group:${e.id}:label`},vu=(e,t)=>{var n,r;return((r=(n=e.ids)==null?void 0:n.item)==null?void 0:r.call(n,t))??`radio-group:${e.id}:radio:${t}`},Ls=(e,t)=>{var n,r;return((r=(n=e.ids)==null?void 0:n.itemHiddenInput)==null?void 0:r.call(n,t))??`radio-group:${e.id}:radio:input:${t}`},Cp=(e,t)=>{var n,r;return((r=(n=e.ids)==null?void 0:n.itemControl)==null?void 0:r.call(n,t))??`radio-group:${e.id}:radio:control:${t}`},Sp=(e,t)=>{var n,r;return((r=(n=e.ids)==null?void 0:n.itemLabel)==null?void 0:r.call(n,t))??`radio-group:${e.id}:radio:label:${t}`},pu=e=>{var t;return((t=e.ids)==null?void 0:t.indicator)??`radio-group:${e.id}:indicator`},wa=e=>e.getById(Xi(e)),Tp=(e,t)=>e.getById(Ls(e,t)),Ap=e=>e.getById(pu(e)),Ip=e=>{var t;return(t=wa(e))==null?void 0:t.querySelector("input:not(:disabled)")},Op=e=>{var t;return(t=wa(e))==null?void 0:t.querySelector("input:not(:disabled):checked")},vl=e=>{const n=`input[type=radio][data-ownedby='${CSS.escape(Xi(e))}']:not([disabled])`;return eu(wa(e),n)},Lp=(e,t)=>{if(t)return e.getById(vu(e,t))},Rp=e=>({left:(e==null?void 0:e.offsetLeft)??0,top:(e==null?void 0:e.offsetTop)??0,width:(e==null?void 0:e.offsetWidth)??0,height:(e==null?void 0:e.offsetHeight)??0}),Pp=e=>({width:`${e.width}px`,height:`${e.height}px`,left:`${e.left}px`,top:`${e.top}px`});function Dp(e,t){const{context:n,send:r,computed:i,prop:s,scope:a,refs:o}=e,l=i("isDisabled"),u=s("readOnly");function d(c){return{value:c.value,invalid:!!c.invalid,disabled:!!c.disabled||l,checked:n.get("value")===c.value,focused:n.get("focusedValue")===c.value,focusVisible:o.get("focusVisibleValue")===c.value,hovered:n.get("hoveredValue")===c.value,active:n.get("activeValue")===c.value}}function v(c){const p=d(c);return{"data-focus":Te(p.focused),"data-focus-visible":Te(p.focusVisible),"data-disabled":Te(p.disabled),"data-readonly":Te(u),"data-state":p.checked?"checked":"unchecked","data-hover":Te(p.hovered),"data-invalid":Te(p.invalid),"data-orientation":s("orientation"),"data-ssr":Te(n.get("ssr"))}}const g=()=>{const c=Op(a)??Ip(a);c==null||c.focus()};return{focus:g,value:n.get("value"),setValue(c){r({type:"SET_VALUE",value:c,isTrusted:!1})},clearValue(){r({type:"SET_VALUE",value:null,isTrusted:!1})},getRootProps(){return t.element({...fr.root.attrs,role:"radiogroup",id:Xi(a),"aria-labelledby":hl(a),"data-orientation":s("orientation"),"data-disabled":Te(l),"aria-orientation":s("orientation"),dir:s("dir"),style:{position:"relative"}})},getLabelProps(){return t.element({...fr.label.attrs,dir:s("dir"),"data-orientation":s("orientation"),"data-disabled":Te(l),id:hl(a),onClick:g})},getItemState:d,getItemProps(c){const p=d(c);return t.label({...fr.item.attrs,dir:s("dir"),id:vu(a,c.value),htmlFor:Ls(a,c.value),...v(c),onPointerMove(){p.disabled||p.hovered||r({type:"SET_HOVERED",value:c.value,hovered:!0})},onPointerLeave(){p.disabled||r({type:"SET_HOVERED",value:null})},onPointerDown(f){p.disabled||Wi(f)&&(p.focused&&f.pointerType==="mouse"&&f.preventDefault(),r({type:"SET_ACTIVE",value:c.value,active:!0}))},onPointerUp(){p.disabled||r({type:"SET_ACTIVE",value:null})},onClick(){var f;!p.disabled&&to()&&((f=Tp(a,c.value))==null||f.focus())}})},getItemTextProps(c){return t.element({...fr.itemText.attrs,dir:s("dir"),id:Sp(a,c.value),...v(c)})},getItemControlProps(c){const p=d(c);return t.element({...fr.itemControl.attrs,dir:s("dir"),id:Cp(a,c.value),"data-active":Te(p.active),"aria-hidden":!0,...v(c)})},getItemHiddenInputProps(c){const p=d(c);return t.input({"data-ownedby":Xi(a),id:Ls(a,c.value),type:"radio",name:s("name")||s("id"),form:s("form"),value:c.value,onClick(f){if(u){f.preventDefault();return}f.currentTarget.checked&&r({type:"SET_VALUE",value:c.value,isTrusted:!0})},onBlur(){r({type:"SET_FOCUSED",value:null,focused:!1})},onFocus(){const f=Ki();r({type:"SET_FOCUSED",value:c.value,focused:!0,focusVisible:f})},onKeyDown(f){f.defaultPrevented||f.key===" "&&r({type:"SET_ACTIVE",value:c.value,active:!0})},onKeyUp(f){f.defaultPrevented||f.key===" "&&r({type:"SET_ACTIVE",value:null})},disabled:p.disabled||u,defaultChecked:p.checked,style:nu})},getIndicatorProps(){const c=n.get("indicatorRect");return t.element({id:pu(a),...fr.indicator.attrs,dir:s("dir"),hidden:n.get("value")==null,"data-disabled":Te(l),"data-orientation":s("orientation"),style:{"--transition-property":"left, top, width, height","--left":c==null?void 0:c.left,"--top":c==null?void 0:c.top,"--width":c==null?void 0:c.width,"--height":c==null?void 0:c.height,position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:n.get("canIndicatorTransition")?"var(--transition-duration, 150ms)":"0ms",transitionTimingFunction:"var(--transition-timing-function)",[s("orientation")==="horizontal"?"left":"top"]:s("orientation")==="horizontal"?"var(--left)":"var(--top)"}})}}}var{not:Np}=lu(),Fp={props({props:e}){return{orientation:"vertical",...e}},initialState(){return"idle"},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(n){var r;(r=e("onValueChange"))==null||r({value:n})}})),activeValue:t(()=>({defaultValue:null})),focusedValue:t(()=>({defaultValue:null})),hoveredValue:t(()=>({defaultValue:null})),indicatorRect:t(()=>({defaultValue:{}})),canIndicatorTransition:t(()=>({defaultValue:!1})),fieldsetDisabled:t(()=>({defaultValue:!1})),ssr:t(()=>({defaultValue:!0}))}},refs(){return{indicatorCleanup:null,focusVisibleValue:null}},computed:{isDisabled:({prop:e,context:t})=>!!e("disabled")||t.get("fieldsetDisabled")},entry:["syncIndicatorRect","syncSsr"],exit:["cleanupObserver"],effects:["trackFormControlState","trackFocusVisible"],watch({track:e,action:t,context:n}){e([()=>n.get("value")],()=>{t(["setIndicatorTransition","syncIndicatorRect","syncInputElements"])})},on:{SET_VALUE:[{guard:Np("isTrusted"),actions:["setValue","dispatchChangeEvent"]},{actions:["setValue"]}],SET_HOVERED:{actions:["setHovered"]},SET_ACTIVE:{actions:["setActive"]},SET_FOCUSED:{actions:["setFocused"]}},states:{idle:{}},implementations:{guards:{isTrusted:({event:e})=>!!e.isTrusted},effects:{trackFormControlState({context:e,scope:t}){return no(wa(t),{onFieldsetDisabledChange(n){e.set("fieldsetDisabled",n)},onFormReset(){e.set("value",e.initial("value"))}})},trackFocusVisible({scope:e}){var t;return hu({root:(t=e.getRootNode)==null?void 0:t.call(e)})}},actions:{setValue({context:e,event:t}){e.set("value",t.value)},setHovered({context:e,event:t}){e.set("hoveredValue",t.value)},setActive({context:e,event:t}){e.set("activeValue",t.value)},setFocused({context:e,event:t,refs:n}){e.set("focusedValue",t.value),n.set("focusVisibleValue",t.focusVisible?t.value:null)},syncInputElements({context:e,scope:t}){vl(t).forEach(r=>{r.checked=r.value===e.get("value")})},setIndicatorTransition({context:e}){e.set("canIndicatorTransition",Qr(e.get("value")))},cleanupObserver({refs:e}){var t;(t=e.get("indicatorCleanup"))==null||t()},syncSsr({context:e}){e.set("ssr",!1)},syncIndicatorRect({context:e,scope:t,refs:n}){var a;if((a=n.get("indicatorCleanup"))==null||a(),!Ap(t))return;const r=e.get("value"),i=Lp(t,r);if(r==null||!i){e.set("canIndicatorTransition",!1),e.set("indicatorRect",{});return}const s=tu([i],{measure(o){return Rp(o)},onEntry({rects:o}){e.set("indicatorRect",Pp(o[0]))}});n.set("indicatorCleanup",s)},dispatchChangeEvent({context:e,scope:t}){vl(t).forEach(r=>{const i=r.value===e.get("value");i!==r.checked&&Yc(r,{checked:i})})}}}};lr()(["dir","disabled","form","getRootNode","id","ids","name","onValueChange","orientation","readOnly","value","defaultValue"]);lr()(["value","disabled","invalid"]);var Yi,Bp=(Yi=ba({api:{},indicatorText:""}),Yi[0]),zp=Yi[1];Yi[2];var Mp=fe("<div><div></div> <!></div>");function Vp(e,t){const n=sa();be(t,!0);const r=j(t,"base",3,"inline-flex items-stretch overflow-hidden"),i=j(t,"background",3,"preset-outlined-surface-200-800"),s=j(t,"border",3,""),a=j(t,"gap",3,"gap-2"),o=j(t,"padding",3,"p-2"),l=j(t,"rounded",3,"rounded-container"),u=j(t,"width",3,""),d=j(t,"classes",3,""),v=j(t,"orientVertical",3,"flex-col items-stretch"),g=j(t,"orientHorizontal",3,"flex-row"),c=j(t,"stateDisabled",3,"disabled"),p=j(t,"stateReadOnly",3,"pointer-events-none"),f=j(t,"indicatorBase",3,"top-[var(--top)] left-[var(--left)] w-[var(--width)] h-[var(--height)]"),m=j(t,"indicatorBg",3,"preset-filled"),h=j(t,"indicatorText",3,"text-surface-contrast-950 dark:text-surface-contrast-50"),y=j(t,"indicatorRounded",3,"rounded-base"),x=j(t,"indicatorClasses",3,""),S=j(t,"labelledby",3,""),k=Fe(t,["$$slots","$$events","$$legacy","base","background","border","gap","padding","rounded","width","classes","orientVertical","orientHorizontal","stateDisabled","stateReadOnly","indicatorBase","indicatorBg","indicatorText","indicatorRounded","indicatorClasses","labelledby","children"]),A=ma(Fp,()=>({id:n,orientation:t.orientation??"horizontal",...k})),I=ue(()=>Dp(A,ga));Bp({get api(){return _(I)},get indicatorText(){return h()}});const R=ue(()=>A.prop("orientation")==="vertical"?v():g()),O=ue(()=>A.prop("disabled")?c():""),B=ue(()=>A.prop("readOnly")?p():"");var N=Mp();qe(N,b=>({...b,class:`${r()??""} ${_(R)??""} ${i()??""} ${s()??""} ${o()??""} ${a()??""} ${l()??""} ${u()??""} ${_(O)??""} ${_(B)??""} ${d()??""}`,"aria-labelledby":S(),"data-testid":"segment"}),[()=>_(I).getRootProps()]);var E=q(N);qe(E,b=>({...b,class:`${f()??""} ${m()??""} ${y()??""} ${x()??""}`,"data-testid":"segment-indicator"}),[()=>_(I).getIndicatorProps()]);var L=G(E,2);Pe(L,()=>t.children??Ne),H(N),Y(e,N),ye()}var Up=fe("<label><span><!></span> <input/></label>");function Wp(e,t){be(t,!0);let n=j(t,"base",3,"btn cursor-pointer z-[1]"),r=j(t,"classes",3,""),i=j(t,"stateDisabled",3,"disabled"),s=j(t,"stateFocused",3,"focused"),a=j(t,"labelBase",3,"pointer-events-none transition-colors duration-100"),o=j(t,"labelClasses",3,""),l=Fe(t,["$$slots","$$events","$$legacy","base","classes","stateDisabled","stateFocused","labelBase","labelClasses","children"]);const u=zp(),d=ue(()=>u.api.getItemState(l)),v=ue(()=>_(d).disabled?i():""),g=ue(()=>_(d).checked?u.indicatorText:""),c=ue(()=>_(d).focused?s():"");var p=Up();qe(p,y=>({...y,class:`${n()??""} ${_(v)??""} ${_(c)??""} ${r()??""}`,"data-testid":"segment-item"}),[()=>u.api.getItemProps(l)]);var f=q(p);qe(f,y=>({...y,class:`${a()??""} ${_(g)??""} ${o()??""}`,"data-testid":"segment-item-label"}),[()=>u.api.getItemTextProps(l)]);var m=q(f);Pe(m,()=>t.children??Ne),H(f);var h=G(f,2);qe(h,y=>({...y,"data-testid":"segment-item-input"}),[()=>u.api.getItemHiddenInputProps(l)],void 0,void 0,!0),H(p),Y(e,p),ye()}const pl=Object.assign(Vp,{Item:Wp});var Hp=Ln("slider").parts("root","label","thumb","valueText","track","range","control","markerGroup","marker","draggingIndicator"),$t=Hp.build(),gu=e=>{var t;return((t=e.ids)==null?void 0:t.root)??`slider:${e.id}`},mu=(e,t)=>{var n,r;return((r=(n=e.ids)==null?void 0:n.thumb)==null?void 0:r.call(n,t))??`slider:${e.id}:thumb:${t}`},Rs=(e,t)=>{var n,r;return((r=(n=e.ids)==null?void 0:n.hiddenInput)==null?void 0:r.call(n,t))??`slider:${e.id}:input:${t}`},bu=e=>{var t;return((t=e.ids)==null?void 0:t.control)??`slider:${e.id}:control`},$p=e=>{var t;return((t=e.ids)==null?void 0:t.track)??`slider:${e.id}:track`},jp=e=>{var t;return((t=e.ids)==null?void 0:t.range)??`slider:${e.id}:range`},gl=e=>{var t;return((t=e.ids)==null?void 0:t.label)??`slider:${e.id}:label`},qp=e=>{var t;return((t=e.ids)==null?void 0:t.valueText)??`slider:${e.id}:value-text`},Gp=(e,t)=>{var n,r;return((r=(n=e.ids)==null?void 0:n.marker)==null?void 0:r.call(n,t))??`slider:${e.id}:marker:${t}`},Zp=e=>e.getById(gu(e)),Kp=(e,t)=>e.getById(mu(e,t)),yu=e=>eu(_u(e),"[role=slider]"),Xp=e=>yu(e)[0],wu=(e,t)=>e.getById(Rs(e,t)),_u=e=>e.getById(bu(e)),ml=(e,t)=>{const{prop:n,scope:r}=e,i=_u(r);if(!i)return;const a=vv(t,i).getPercentValue({orientation:n("orientation"),dir:n("dir"),inverted:{y:!0}});return au(a,n("min"),n("max"),n("step"))},Yp=(e,t)=>{t.forEach((n,r)=>{const i=wu(e,r);i&&tv(i,{value:n})})},Jp=e=>({left:(e==null?void 0:e.offsetLeft)??0,top:(e==null?void 0:e.offsetTop)??0,width:(e==null?void 0:e.offsetWidth)??0,height:(e==null?void 0:e.offsetHeight)??0});function Qp(e){const t=e[0],n=e[e.length-1];return[t,n]}function eg(e){const{prop:t,computed:n}=e,r=n("valuePercent"),[i,s]=Qp(r);if(r.length===1){if(t("origin")==="center"){const a=r[0]<50,o=a?`${r[0]}%`:"50%",l=a?"50%":`${100-r[0]}%`;return{start:o,end:l}}return t("origin")==="end"?{start:`${s}%`,end:"0%"}:{start:"0%",end:`${100-s}%`}}return{start:`${i}%`,end:`${100-s}%`}}function tg(e){const{computed:t}=e,n=t("isVertical"),r=t("isRtl");return n?{position:"absolute",bottom:"var(--slider-range-start)",top:"var(--slider-range-end)"}:{position:"absolute",[r?"right":"left"]:"var(--slider-range-start)",[r?"left":"right"]:"var(--slider-range-end)"}}function ng(e,t){const{context:n,prop:r}=e,{height:i=0}=n.get("thumbSize")??{},s=Ts([r("min"),r("max")],[-i/2,i/2]);return parseFloat(s(t).toFixed(2))}function rg(e,t){const{computed:n,context:r,prop:i}=e,{width:s=0}=r.get("thumbSize")??{};if(n("isRtl")){const l=Ts([i("max"),i("min")],[-s/2,s/2]);return-1*parseFloat(l(t).toFixed(2))}const o=Ts([i("min"),i("max")],[-s/2,s/2]);return parseFloat(o(t).toFixed(2))}function ig(e,t,n){const{computed:r,prop:i}=e;if(i("thumbAlignment")==="center")return`${t}%`;const s=r("isVertical")?ng(e,n):rg(e,n);return`calc(${t}% - ${s}px)`}function xu(e,t){const{prop:n}=e,r=io(t,n("min"),n("max"))*100;return ig(e,r,t)}function ku(e){const{computed:t,prop:n}=e;let r="visible";return n("thumbAlignment")==="contain"&&!t("hasMeasuredThumbSize")&&(r="hidden"),r}function bl(e,t){const{computed:n}=e,r=n("isVertical")?"bottom":"insetInlineStart";return{visibility:ku(e),position:"absolute",transform:"var(--slider-thumb-transform)",[r]:`var(--slider-thumb-offset-${t})`}}function ag(){return{touchAction:"none",userSelect:"none",WebkitUserSelect:"none",position:"relative"}}function sg(e){const{context:t,computed:n}=e,r=n("isVertical"),i=n("isRtl"),s=eg(e),a=t.get("thumbSize");return{...t.get("value").reduce((l,u,d)=>{const v=xu(e,u);return{...l,[`--slider-thumb-offset-${d}`]:v}},{}),"--slider-thumb-width":cl(a==null?void 0:a.width),"--slider-thumb-height":cl(a==null?void 0:a.height),"--slider-thumb-transform":r?"translateY(50%)":i?"translateX(50%)":"translateX(-50%)","--slider-range-start":s.start,"--slider-range-end":s.end}}function og(e,t){const{computed:n}=e,r=n("isHorizontal"),i=n("isRtl");return{visibility:ku(e),position:"absolute",pointerEvents:"none",[r?"insetInlineStart":"bottom"]:xu(e,t),translate:"var(--translate-x) var(--translate-y)","--translate-x":r?i?"50%":"-50%":"0%","--translate-y":r?"0%":"50%"}}function lg(){return{userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none",position:"relative"}}function cg(e,t){return t.map((n,r)=>Ps(e,n,r))}function Dn(e,t){const{context:n,prop:r}=e,i=r("step")*r("minStepsBetweenThumbs");return ou(n.get("value"),r("min"),r("max"),i)[t]}function Ps(e,t,n){const{prop:r}=e,i=Dn(e,n),s=ao(t,r("min"),r("max"),r("step"));return wi(s,i.min,i.max)}function ug(e,t,n){const{context:r,prop:i}=e,s=t??r.get("focusedIndex"),a=Dn(e,s),o=Xv(s,{...a,step:n??i("step"),values:r.get("value")});return o[s]=wi(o[s],a.min,a.max),o}function dg(e,t,n){const{context:r,prop:i}=e,s=t??r.get("focusedIndex"),a=Dn(e,s),o=Kv(s,{...a,step:n??i("step"),values:r.get("value")});return o[s]=wi(o[s],a.min,a.max),o}function fg(e,t){const{context:n}=e;return Yv(n.get("value"),t)}function hg(e,t){const{state:n,send:r,context:i,prop:s,computed:a,scope:o}=e,l=s("aria-label"),u=s("aria-labelledby"),d=i.get("value"),v=i.get("focusedIndex"),g=n.matches("focus"),c=n.matches("dragging"),p=a("isDisabled"),f=s("invalid"),m=a("isInteractive"),h=s("orientation")==="horizontal",y=s("orientation")==="vertical";function x(k){return io(k,s("min"),s("max"))}function S(k){return au(k,s("min"),s("max"),s("step"))}return{value:d,dragging:c,focused:g,setValue(k){r({type:"SET_VALUE",value:k})},getThumbValue(k){return d[k]},setThumbValue(k,A){r({type:"SET_VALUE",index:k,value:A})},getValuePercent:x,getPercentValue:S,getThumbPercent(k){return x(d[k])},setThumbPercent(k,A){const I=S(A);r({type:"SET_VALUE",index:k,value:I})},getThumbMin(k){return Dn(e,k).min},getThumbMax(k){return Dn(e,k).max},increment(k){r({type:"INCREMENT",index:k})},decrement(k){r({type:"DECREMENT",index:k})},focus(){m&&r({type:"FOCUS",index:0})},getLabelProps(){return t.label({...$t.label.attrs,dir:s("dir"),"data-disabled":Te(p),"data-orientation":s("orientation"),"data-invalid":Te(f),"data-dragging":Te(c),"data-focus":Te(g),id:gl(o),htmlFor:Rs(o,0),onClick(k){var A;m&&(k.preventDefault(),(A=Xp(o))==null||A.focus())},style:{userSelect:"none",WebkitUserSelect:"none"}})},getRootProps(){return t.element({...$t.root.attrs,"data-disabled":Te(p),"data-orientation":s("orientation"),"data-dragging":Te(c),"data-invalid":Te(f),"data-focus":Te(g),id:gu(o),dir:s("dir"),style:sg(e)})},getValueTextProps(){return t.element({...$t.valueText.attrs,dir:s("dir"),"data-disabled":Te(p),"data-orientation":s("orientation"),"data-invalid":Te(f),"data-focus":Te(g),id:qp(o)})},getTrackProps(){return t.element({...$t.track.attrs,dir:s("dir"),id:$p(o),"data-disabled":Te(p),"data-invalid":Te(f),"data-dragging":Te(c),"data-orientation":s("orientation"),"data-focus":Te(g),style:{position:"relative"}})},getThumbProps(k){var L;const{index:A=0,name:I}=k,R=d[A],O=Dn(e,A),B=(L=s("getAriaValueText"))==null?void 0:L({value:R,index:A}),N=Array.isArray(l)?l[A]:l,E=Array.isArray(u)?u[A]:u;return t.element({...$t.thumb.attrs,dir:s("dir"),"data-index":A,"data-name":I,id:mu(o,A),"data-disabled":Te(p),"data-orientation":s("orientation"),"data-focus":Te(g&&v===A),"data-dragging":Te(c&&v===A),draggable:!1,"aria-disabled":Hc(p),"aria-label":N,"aria-labelledby":E??gl(o),"aria-orientation":s("orientation"),"aria-valuemax":O.max,"aria-valuemin":O.min,"aria-valuenow":d[A],"aria-valuetext":B,role:"slider",tabIndex:p?void 0:0,style:bl(e,A),onPointerDown(b){m&&Wi(b)&&(r({type:"THUMB_POINTER_DOWN",index:A}),b.stopPropagation())},onBlur(){m&&r({type:"BLUR"})},onFocus(){m&&r({type:"FOCUS",index:A})},onKeyDown(b){if(b.defaultPrevented||!m)return;const P=Qh(b)*s("step"),U={ArrowUp(){h||r({type:"ARROW_INC",step:P,src:"ArrowUp"})},ArrowDown(){h||r({type:"ARROW_DEC",step:P,src:"ArrowDown"})},ArrowLeft(){y||r({type:"ARROW_DEC",step:P,src:"ArrowLeft"})},ArrowRight(){y||r({type:"ARROW_INC",step:P,src:"ArrowRight"})},PageUp(){r({type:"ARROW_INC",step:P,src:"PageUp"})},PageDown(){r({type:"ARROW_DEC",step:P,src:"PageDown"})},Home(){r({type:"HOME"})},End(){r({type:"END"})}},V=Xh(b,{dir:s("dir"),orientation:s("orientation")}),J=U[V];J&&(J(b),b.preventDefault(),b.stopPropagation())}})},getHiddenInputProps(k){const{index:A=0,name:I}=k;return t.input({name:I??(s("name")?s("name")+(d.length>1?"[]":""):void 0),form:s("form"),type:"text",hidden:!0,defaultValue:d[A],id:Rs(o,A)})},getRangeProps(){return t.element({id:jp(o),...$t.range.attrs,dir:s("dir"),"data-dragging":Te(c),"data-focus":Te(g),"data-invalid":Te(f),"data-disabled":Te(p),"data-orientation":s("orientation"),style:tg(e)})},getControlProps(){return t.element({...$t.control.attrs,dir:s("dir"),id:bu(o),"data-dragging":Te(c),"data-disabled":Te(p),"data-orientation":s("orientation"),"data-invalid":Te(f),"data-focus":Te(g),style:ag(),onPointerDown(k){if(!m||!Wi(k)||Gh(k))return;const A=Hi(k);r({type:"POINTER_DOWN",point:A}),k.preventDefault(),k.stopPropagation()}})},getMarkerGroupProps(){return t.element({...$t.markerGroup.attrs,role:"presentation",dir:s("dir"),"aria-hidden":!0,"data-orientation":s("orientation"),style:lg()})},getMarkerProps(k){const A=og(e,k.value);let I;return k.value<Sv(d)?I="under-value":k.value>Tv(d)?I="over-value":I="at-value",t.element({...$t.marker.attrs,id:Gp(o,k.value),role:"presentation",dir:s("dir"),"data-orientation":s("orientation"),"data-value":k.value,"data-disabled":Te(p),"data-state":I,style:A})},getDraggingIndicatorProps(k){const{index:A=0}=k,I=A===v&&c;return t.element({...$t.draggingIndicator.attrs,role:"presentation",dir:s("dir"),hidden:!I,"data-orientation":s("orientation"),"data-state":I?"open":"closed",style:bl(e,A)})}}}var vg=(e,t)=>(e==null?void 0:e.width)===(t==null?void 0:t.width)&&(e==null?void 0:e.height)===(t==null?void 0:t.height),yl=(e,t,n,r,i)=>ou(e,t,n,i*r).map(a=>{const o=ao(a.value,a.min,a.max,r),l=wi(o,a.min,a.max);if(!Gv(l,t,n))throw new Error("[zag-js/slider] The configured `min`, `max`, `step` or `minStepsBetweenThumbs` values are invalid");return l}),pg={props({props:e}){const t=e.min??0,n=e.max??100,r=e.step??1,i=e.defaultValue??[t],s=e.minStepsBetweenThumbs??0;return{dir:"ltr",thumbAlignment:"contain",origin:"start",orientation:"horizontal",minStepsBetweenThumbs:s,...e,defaultValue:yl(i,t,n,r,s),value:e.value?yl(e.value,t,n,r,s):void 0,max:n,step:r,min:t}},initialState(){return"idle"},context({prop:e,bindable:t,getContext:n}){return{thumbSize:t(()=>({defaultValue:e("thumbSize")||null})),value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),isEqual:yi,hash(r){return r.join(",")},onChange(r){var i;(i=e("onValueChange"))==null||i({value:r})}})),focusedIndex:t(()=>({defaultValue:-1,onChange(r){var s;const i=n();(s=e("onFocusChange"))==null||s({focusedIndex:r,value:i.get("value")})}})),fieldsetDisabled:t(()=>({defaultValue:!1}))}},computed:{isHorizontal:({prop:e})=>e("orientation")==="horizontal",isVertical:({prop:e})=>e("orientation")==="vertical",isRtl:({prop:e})=>e("orientation")==="horizontal"&&e("dir")==="rtl",isDisabled:({context:e,prop:t})=>!!t("disabled")||e.get("fieldsetDisabled"),isInteractive:({prop:e,computed:t})=>!(e("readOnly")||t("isDisabled")),hasMeasuredThumbSize:({context:e})=>e.get("thumbSize")!=null,valuePercent:ip(({context:e,prop:t})=>[e.get("value"),t("min"),t("max")],([e,t,n])=>e.map(r=>100*io(r,t,n)))},watch({track:e,action:t,context:n,computed:r,send:i}){e([()=>n.hash("value")],()=>{t(["syncInputElements","dispatchChangeEvent"])}),e([()=>r("isDisabled")],()=>{r("isDisabled")&&i({type:"BLUR"})})},effects:["trackFormControlState","trackThumbSize"],on:{SET_VALUE:[{guard:"hasIndex",actions:["setValueAtIndex"]},{actions:["setValue"]}],INCREMENT:{actions:["incrementThumbAtIndex"]},DECREMENT:{actions:["decrementThumbAtIndex"]}},states:{idle:{on:{POINTER_DOWN:{target:"dragging",actions:["setClosestThumbIndex","setPointerValue","focusActiveThumb"]},FOCUS:{target:"focus",actions:["setFocusedIndex"]},THUMB_POINTER_DOWN:{target:"dragging",actions:["setFocusedIndex","focusActiveThumb"]}}},focus:{entry:["focusActiveThumb"],on:{POINTER_DOWN:{target:"dragging",actions:["setClosestThumbIndex","setPointerValue","focusActiveThumb"]},THUMB_POINTER_DOWN:{target:"dragging",actions:["setFocusedIndex","focusActiveThumb"]},ARROW_DEC:{actions:["decrementThumbAtIndex","invokeOnChangeEnd"]},ARROW_INC:{actions:["incrementThumbAtIndex","invokeOnChangeEnd"]},HOME:{actions:["setFocusedThumbToMin","invokeOnChangeEnd"]},END:{actions:["setFocusedThumbToMax","invokeOnChangeEnd"]},BLUR:{target:"idle",actions:["clearFocusedIndex"]}}},dragging:{entry:["focusActiveThumb"],effects:["trackPointerMove"],on:{POINTER_UP:{target:"focus",actions:["invokeOnChangeEnd"]},POINTER_MOVE:{actions:["setPointerValue"]},BLUR:{target:"idle",actions:["clearFocusedIndex"]}}}},implementations:{guards:{hasIndex:({event:e})=>e.index!=null},effects:{trackFormControlState({context:e,scope:t}){return no(Zp(t),{onFieldsetDisabledChange(n){e.set("fieldsetDisabled",n)},onFormReset(){e.set("value",e.initial("value"))}})},trackPointerMove({scope:e,send:t}){return bv(e.getDoc(),{onPointerMove(n){t({type:"POINTER_MOVE",point:n.point})},onPointerUp(){t({type:"POINTER_UP"})}})},trackThumbSize({context:e,scope:t,prop:n}){if(!(n("thumbAlignment")!=="contain"||n("thumbSize")))return tu(yu(t),{box:"border-box",measure(r){return Jp(r)},onEntry({rects:r}){if(r.length===0)return;const i=Jv(r[0],["width","height"]);vg(e.get("thumbSize"),i)||e.set("thumbSize",i)}})}},actions:{dispatchChangeEvent({context:e,scope:t}){Yp(t,e.get("value"))},syncInputElements({context:e,scope:t}){e.get("value").forEach((n,r)=>{const i=wu(t,r);Kc(i,n.toString())})},invokeOnChangeEnd({prop:e,context:t}){queueMicrotask(()=>{var n;(n=e("onValueChangeEnd"))==null||n({value:t.get("value")})})},setClosestThumbIndex(e){const{context:t,event:n}=e,r=ml(e,n.point);if(r==null)return;const i=fg(e,r);t.set("focusedIndex",i)},setFocusedIndex({context:e,event:t}){e.set("focusedIndex",t.index)},clearFocusedIndex({context:e}){e.set("focusedIndex",-1)},setPointerValue(e){queueMicrotask(()=>{const{context:t,event:n}=e,r=ml(e,n.point);if(r==null)return;const i=t.get("focusedIndex"),s=Ps(e,r,i);t.set("value",a=>Gr(a,i,s))})},focusActiveThumb({scope:e,context:t}){Pt(()=>{const n=Kp(e,t.get("focusedIndex"));n==null||n.focus({preventScroll:!0})})},decrementThumbAtIndex(e){const{context:t,event:n}=e,r=ug(e,n.index,n.step);t.set("value",r)},incrementThumbAtIndex(e){const{context:t,event:n}=e,r=dg(e,n.index,n.step);t.set("value",r)},setFocusedThumbToMin(e){const{context:t}=e,n=t.get("focusedIndex"),{min:r}=Dn(e,n);t.set("value",i=>Gr(i,n,r))},setFocusedThumbToMax(e){const{context:t}=e,n=t.get("focusedIndex"),{max:r}=Dn(e,n);t.set("value",i=>Gr(i,n,r))},setValueAtIndex(e){const{context:t,event:n}=e,r=Ps(e,n.value,n.index);t.set("value",i=>Gr(i,n.index,r))},setValue(e){const{context:t,event:n}=e,r=cg(e,n.value);t.set("value",r)}}}};lr()(["aria-label","aria-labelledby","dir","disabled","form","getAriaValueText","getRootNode","id","ids","invalid","max","min","minStepsBetweenThumbs","name","onFocusChange","onValueChange","onValueChangeEnd","orientation","origin","readOnly","step","thumbAlignment","thumbAlignment","thumbSize","value","defaultValue"]);lr()(["index","name"]);lr()(["value"]);var gg=fe('<div><div data-testid="slider-thumb"></div> <input/></div>'),mg=fe("<span><!></span>"),bg=fe("<div></div>"),yg=fe('<div><div><div><div></div></div> <div style="display: flex; align-items: center; transform: translateY(-100%);" data-testid="slider-thumb-wrapper"></div></div> <!></div>');function oo(e,t){const n=sa();be(t,!0);const r=j(t,"markers",19,()=>[]),i=j(t,"height",3,"h-1.5"),s=j(t,"base",3,"w-full bg-green"),a=j(t,"spaceY",3,""),o=j(t,"classes",3,""),l=j(t,"controlBase",3,""),u=j(t,"controlClasses",3,""),d=j(t,"trackBase",3,"overflow-hidden"),v=j(t,"trackBg",3,"bg-surface-200-800"),g=j(t,"trackRounded",3,"rounded-full"),c=j(t,"trackClasses",3,""),p=j(t,"meterBase",3,""),f=j(t,"meterBg",3,"bg-surface-950-50"),m=j(t,"meterRounded",3,"rounded-container"),h=j(t,"meterClasses",3,""),y=j(t,"thumbBase",3,"ring-inset transition-scale duration-100 ease-in-out"),x=j(t,"thumbSize",3,"size-8 md:size-5"),S=j(t,"thumbBg",3,"bg-surface-50-950"),k=j(t,"thumbRingSize",3,"ring-2"),A=j(t,"thumbRingColor",3,"ring-surface-950-50"),I=j(t,"thumbRounded",3,"rounded-full"),R=j(t,"thumbCursor",3,"hover:cursor-pointer"),O=j(t,"thumbClasses",3,""),B=j(t,"markersBase",3,""),N=j(t,"markersClasses",3,""),E=j(t,"markBase",3,""),L=j(t,"markText",3,"text-[10px]"),b=j(t,"markOpacity",3,"opacity-50"),P=j(t,"markClasses",3,""),U=j(t,"stateDisabled",3,"disabled"),V=j(t,"stateReadOnly",3,"cursor-not-allowed"),J=Fe(t,["$$slots","$$events","$$legacy","markers","height","base","spaceY","classes","controlBase","controlClasses","trackBase","trackBg","trackRounded","trackClasses","meterBase","meterBg","meterRounded","meterClasses","thumbBase","thumbSize","thumbBg","thumbRingSize","thumbRingColor","thumbRounded","thumbCursor","thumbClasses","markersBase","markersClasses","markBase","markText","markOpacity","markClasses","stateDisabled","stateReadOnly","mark"]),$=ma(pg,()=>({id:n,...J})),ne=ue(()=>hg($,ga)),M=ue(()=>$.prop("disabled")?U():""),F=ue(()=>$.prop("readOnly")?V():R());var oe=yg();qe(oe,ce=>({...ce,class:`${s()??""} ${i()??""} ${a()??""} ${_(M)??""} ${o()??""}`,"data-testid":"slider"}),[()=>_(ne).getRootProps()]);var re=q(oe);qe(re,ce=>({...ce,class:`${l()??""} ${u()??""}`,"data-testid":"slider-control"}),[()=>_(ne).getControlProps()]);var X=q(re);qe(X,ce=>({...ce,class:`${d()??""} ${v()??""} ${i()??""} ${g()??""} ${c()??""}`,"data-testid":"slider-track"}),[()=>_(ne).getTrackProps()]);var Ee=q(X);qe(Ee,ce=>({...ce,class:`${p()??""} ${i()??""} ${f()??""} ${m()??""} ${h()??""}`,"data-testid":"slider-meter"}),[()=>_(ne).getRangeProps()]),H(X);var _e=G(X,2);mt(_e,21,()=>_(ne).value,gt,(ce,xe,Be)=>{var De=gg();qe(De,z=>({...z}),[()=>_(ne).getThumbProps({index:Be})]);var w=q(De),Z=G(w,2);qe(Z,z=>({...z,"data-testid":"slider-input"}),[()=>_(ne).getHiddenInputProps({index:Be})],void 0,void 0,!0),H(De),Ae(()=>ot(w,1,`${y()??""} ${x()??""} ${S()??""} ${k()??""} ${A()??""} ${I()??""} ${_(F)??""} ${O()??""}`)),Y(ce,De)}),H(_e),H(re);var me=G(re,2);{var Ce=ce=>{var xe=bg();qe(xe,Be=>({...Be,class:`${B()??""} ${N()??""}`,"data-testid":"slider-markers"}),[()=>_(ne).getMarkerGroupProps()]),mt(xe,21,r,gt,(Be,De)=>{var w=mg();qe(w,C=>({...C,class:`${E()??""} ${L()??""} ${b()??""} ${P()??""}`,"data-testid":"slider-mark"}),[()=>_(ne).getMarkerProps({value:_(De)})]);var Z=q(w);{var z=C=>{var D=ge(),K=de(D);Pe(K,()=>t.mark,()=>_(De)),Y(C,D)},T=C=>{var D=rr();Ae(()=>it(D,_(De))),Y(C,D)};Re(Z,C=>{t.mark?C(z):C(T,!1)})}H(w),Y(Be,w)}),H(xe),Y(ce,xe)};Re(me,ce=>{r().length>0&&ce(Ce)})}H(oe),Ae(()=>ot(_e,1,as(i()))),Y(e,oe),ye()}var wg=Ln("switch").parts("root","label","control","thumb"),Ti=wg.build(),Eu=e=>{var t;return((t=e.ids)==null?void 0:t.root)??`switch:${e.id}`},wl=e=>{var t;return((t=e.ids)==null?void 0:t.label)??`switch:${e.id}:label`},_g=e=>{var t;return((t=e.ids)==null?void 0:t.thumb)??`switch:${e.id}:thumb`},xg=e=>{var t;return((t=e.ids)==null?void 0:t.control)??`switch:${e.id}:control`},Ds=e=>{var t;return((t=e.ids)==null?void 0:t.hiddenInput)??`switch:${e.id}:input`},kg=e=>e.getById(Eu(e)),wr=e=>e.getById(Ds(e));function Eg(e,t){const{context:n,send:r,prop:i,scope:s}=e,a=!!i("disabled"),o=!!i("readOnly"),l=!!i("required"),u=!!n.get("checked"),d=!a&&n.get("focused"),v=!a&&n.get("focusVisible"),g=!a&&n.get("active"),c={"data-active":Te(g),"data-focus":Te(d),"data-focus-visible":Te(v),"data-readonly":Te(o),"data-hover":Te(n.get("hovered")),"data-disabled":Te(a),"data-state":u?"checked":"unchecked","data-invalid":Te(i("invalid")),"data-required":Te(l)};return{checked:u,disabled:a,focused:d,setChecked(p){r({type:"CHECKED.SET",checked:p,isTrusted:!1})},toggleChecked(){r({type:"CHECKED.TOGGLE",checked:u,isTrusted:!1})},getRootProps(){return t.label({...Ti.root.attrs,...c,dir:i("dir"),id:Eu(s),htmlFor:Ds(s),onPointerMove(){a||r({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){a||r({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(p){var m;if(a)return;Lt(p)===wr(s)&&p.stopPropagation(),to()&&((m=wr(s))==null||m.focus())}})},getLabelProps(){return t.element({...Ti.label.attrs,...c,dir:i("dir"),id:wl(s)})},getThumbProps(){return t.element({...Ti.thumb.attrs,...c,dir:i("dir"),id:_g(s),"aria-hidden":!0})},getControlProps(){return t.element({...Ti.control.attrs,...c,dir:i("dir"),id:xg(s),"aria-hidden":!0})},getHiddenInputProps(){return t.input({id:Ds(s),type:"checkbox",required:i("required"),defaultChecked:u,disabled:a,"aria-labelledby":wl(s),"aria-invalid":i("invalid"),name:i("name"),form:i("form"),value:i("value"),style:nu,onFocus(){const p=Ki();r({type:"CONTEXT.SET",context:{focused:!0,focusVisible:p}})},onBlur(){r({type:"CONTEXT.SET",context:{focused:!1,focusVisible:!1}})},onClick(p){if(o){p.preventDefault();return}const f=p.currentTarget.checked;r({type:"CHECKED.SET",checked:f,isTrusted:!0})}})}}}var{not:_l}=lu(),Cg={props({props:e}){return{defaultChecked:!1,label:"switch",value:"on",...e}},initialState(){return"ready"},context({prop:e,bindable:t}){return{checked:t(()=>({defaultValue:e("defaultChecked"),value:e("checked"),onChange(n){var r;(r=e("onCheckedChange"))==null||r({checked:n})}})),fieldsetDisabled:t(()=>({defaultValue:!1})),focusVisible:t(()=>({defaultValue:!1})),active:t(()=>({defaultValue:!1})),focused:t(()=>({defaultValue:!1})),hovered:t(()=>({defaultValue:!1}))}},computed:{isDisabled:({context:e,prop:t})=>t("disabled")||e.get("fieldsetDisabled")},watch({track:e,prop:t,context:n,action:r}){e([()=>t("disabled")],()=>{r(["removeFocusIfNeeded"])}),e([()=>n.get("checked")],()=>{r(["syncInputElement"])})},effects:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:_l("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:_l("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},states:{ready:{}},implementations:{guards:{isTrusted:({event:e})=>!!e.isTrusted},effects:{trackPressEvent({computed:e,scope:t,context:n}){if(!e("isDisabled"))return yv({pointerNode:kg(t),keyboardNode:wr(t),isValidKey:r=>r.key===" ",onPress:()=>n.set("active",!1),onPressStart:()=>n.set("active",!0),onPressEnd:()=>n.set("active",!1)})},trackFocusVisible({computed:e,scope:t}){if(!e("isDisabled"))return hu({root:t.getRootNode()})},trackFormControlState({context:e,send:t,scope:n}){return no(wr(n),{onFieldsetDisabledChange(r){e.set("fieldsetDisabled",r)},onFormReset(){const r=e.initial("checked");t({type:"CHECKED.SET",checked:!!r,src:"form-reset"})}})}},actions:{setContext({context:e,event:t}){for(const n in t.context)e.set(n,t.context[n])},syncInputElement({context:e,scope:t}){const n=wr(t);n&&Xc(n,!!e.get("checked"))},removeFocusIfNeeded({context:e,prop:t}){t("disabled")&&e.set("focused",!1)},setChecked({context:e,event:t}){e.set("checked",t.checked)},toggleChecked({context:e}){e.set("checked",!e.get("checked"))},dispatchChangeEvent({context:e,scope:t}){const n=wr(t);Yc(n,{checked:e.get("checked")})}}}};lr()(["checked","defaultChecked","dir","disabled","form","getRootNode","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]);var Sg=fe('<span data-testid="switch-icon-inactive"><!></span>'),Tg=fe('<span data-testid="switch-icon-active"><!></span>'),Ag=fe("<span><!></span>"),Ig=fe("<label><input/> <span><span><!> <!></span></span> <!></label>");function Hn(e,t){const n=sa();be(t,!0);const r=j(t,"compact",3,!1),i=j(t,"base",3,"inline-flex items-center gap-4"),s=j(t,"classes",3,""),a=j(t,"stateFocused",3,"data-[focus-visible]:focused"),o=j(t,"controlBase",3,"cursor-pointer transition duration-200"),l=j(t,"controlInactive",3,"preset-filled-surface-200-800"),u=j(t,"controlActive",3,"preset-filled-primary-500"),d=j(t,"controlDisabled",3,"opacity-50 cursor-not-allowed"),v=j(t,"controlWidth",3,"w-10"),g=j(t,"controlHeight",3,"h-6"),c=j(t,"controlPadding",3,"p-0.5"),p=j(t,"controlRounded",3,"rounded-full"),f=j(t,"controlHover",3,"hover:brightness-90 dark:hover:brightness-110"),m=j(t,"controlClasses",3,""),h=j(t,"thumbBase",3,"right-0 aspect-square h-full flex justify-center items-center text-right cursor-pointer"),y=j(t,"thumbInactive",3,"preset-filled-surface-50-950"),x=j(t,"thumbActive",3,"bg-surface-50 text-surface-contrast-50"),S=j(t,"thumbRounded",3,"rounded-full"),k=j(t,"thumbTranslateX",3,"translate-x-4 rtl:-translate-x-4"),A=j(t,"thumbTransition",3,"transition"),I=j(t,"thumbEase",3,"ease-in-out"),R=j(t,"thumbDuration",3,"duration-200"),O=j(t,"thumbClasses",3,""),B=j(t,"labelBase",3,""),N=j(t,"labelClasses",3,""),E=j(t,"iconInactiveBase",3,"pointer-events-none"),L=j(t,"iconActiveBase",3,"pointer-events-none"),b=Fe(t,["$$slots","$$events","$$legacy","compact","base","classes","stateFocused","controlBase","controlInactive","controlActive","controlDisabled","controlWidth","controlHeight","controlPadding","controlRounded","controlHover","controlClasses","thumbBase","thumbInactive","thumbActive","thumbRounded","thumbTranslateX","thumbTransition","thumbEase","thumbDuration","thumbClasses","labelBase","labelClasses","iconInactiveBase","iconActiveBase","children","inactiveChild","activeChild"]),P=ma(Cg,()=>({id:n,...b})),U=ue(()=>Eg(P,ga)),V=ue(()=>r()?h():o()),J=ue(()=>r()?"":g()),$=ue(()=>r()?"":c()),ne=ue(()=>r()?l():y()),M=ue(()=>r()?u():x()),F=ue(()=>r()?"":k()),oe=ue(()=>_(U).checked?u():l()),re=ue(()=>_(U).checked?`${_(M)} ${_(F)}`:_(ne)),X=ue(()=>_(U).disabled?d():""),Ee=ue(()=>_(U).focused?a():"");var _e=Ig();qe(_e,T=>({...T,class:`${i()??""} ${s()??""}`,"data-testid":"switch"}),[()=>_(U).getRootProps()]);var me=q(_e);qe(me,T=>({...T,"data-testid":"switch-input"}),[()=>_(U).getHiddenInputProps()],void 0,void 0,!0);var Ce=G(me,2);qe(Ce,T=>({...T,class:`${_(V)??""} ${_(oe)??""} ${_(Ee)??""} ${v()??""} ${_(J)??""} ${_($)??""} ${p()??""} ${f()??""} ${_(X)??""} ${m()??""}`,"data-testid":"switch-control"}),[()=>_(U).getControlProps()]);var ce=q(Ce);qe(ce,T=>({...T,class:`${h()??""} ${_(re)??""} ${S()??""} ${A()??""} ${I()??""} ${R()??""} ${O()??""}`,"data-testid":"switch-thumb"}),[()=>_(U).getThumbProps()]);var xe=q(ce);{var Be=T=>{var C=Sg(),D=q(C);Pe(D,()=>t.inactiveChild),H(C),Ae(()=>ot(C,1,as(E()))),Y(T,C)};Re(xe,T=>{!_(U).checked&&t.inactiveChild&&T(Be)})}var De=G(xe,2);{var w=T=>{var C=Tg(),D=q(C);Pe(D,()=>t.activeChild),H(C),Ae(()=>ot(C,1,as(L()))),Y(T,C)};Re(De,T=>{_(U).checked&&t.activeChild&&T(w)})}H(ce),H(Ce);var Z=G(Ce,2);{var z=T=>{var C=Ag();qe(C,K=>({...K,class:`${B()??""} ${N()??""}`,"data-testid":"switch-label"}),[()=>_(U).getLabelProps()]);var D=q(C);Pe(D,()=>t.children),H(C),Y(T,C)};Re(Z,T=>{t.children&&T(z)})}H(_e),Y(e,_e),ye()}var Ji;Ji=ba({fluid:!1,api:{}}),Ji[0];Ji[1];Ji[2];function Og(e){const t={each(n){var r;for(let i=0;i<((r=e.frames)==null?void 0:r.length);i+=1){const s=e.frames[i];s&&n(s)}},addEventListener(n,r,i){return t.each(s=>{try{s.document.addEventListener(n,r,i)}catch{}}),()=>{try{t.removeEventListener(n,r,i)}catch{}}},removeEventListener(n,r,i){t.each(s=>{try{s.document.removeEventListener(n,r,i)}catch{}})}};return t}function Lg(e){const t=e.frameElement!=null?e.parent:null;return{addEventListener:(n,r,i)=>{try{t==null||t.addEventListener(n,r,i)}catch{}return()=>{try{t==null||t.removeEventListener(n,r,i)}catch{}}},removeEventListener:(n,r,i)=>{try{t==null||t.removeEventListener(n,r,i)}catch{}}}}var xl="pointerdown.outside",kl="focus.outside";function Rg(e){for(const t of e)if(ct(t)&&Pn(t))return!0;return!1}var Cu=e=>"clientY"in e;function Pg(e,t){if(!Cu(t)||!e)return!1;const n=e.getBoundingClientRect();return n.width===0||n.height===0?!1:n.top<=t.clientY&&t.clientY<=n.top+n.height&&n.left<=t.clientX&&t.clientX<=n.left+n.width}function Dg(e,t){return e.y<=t.y&&t.y<=e.y+e.height&&e.x<=t.x&&t.x<=e.x+e.width}function El(e,t){if(!t||!Cu(e))return!1;const n=t.scrollHeight>t.clientHeight,r=n&&e.clientX>t.offsetLeft+t.clientWidth,i=t.scrollWidth>t.clientWidth,s=i&&e.clientY>t.offsetTop+t.clientHeight,a={x:t.offsetLeft,y:t.offsetTop,width:t.clientWidth+(n?16:0),height:t.clientHeight+(i?16:0)},o={x:e.clientX,y:e.clientY};return Dg(a,o)?r||s:!1}function Ng(e,t){const{exclude:n,onFocusOutside:r,onPointerDownOutside:i,onInteractOutside:s,defer:a,followControlledElements:o=!0}=t;if(!e)return;const l=Nt(e),u=ut(e),d=Og(u),v=Lg(u);function g(x,S){if(!ct(S)||!S.isConnected||ci(e,S)||Pg(e,x)||o&&qc(e,S))return!1;const k=l.querySelector(`[aria-controls="${e.id}"]`);if(k){const I=xs(k);if(El(x,I))return!1}const A=xs(e);return El(x,A)?!1:!(n!=null&&n(S))}const c=new Set,p=Or(e==null?void 0:e.getRootNode());function f(x){function S(k){var O;const A=a&&!il()?Pt:B=>B(),I=k??x,R=((O=I==null?void 0:I.composedPath)==null?void 0:O.call(I))??[I==null?void 0:I.target];A(()=>{const B=p?R[0]:Lt(x);if(!(!e||!g(x,B))){if(i||s){const N=Cs(i,s);e.addEventListener(xl,N,{once:!0})}Cl(e,xl,{bubbles:!1,cancelable:!0,detail:{originalEvent:I,contextmenu:qh(I),focusable:Rg(R),target:B}})}})}x.pointerType==="touch"?(c.forEach(k=>k()),c.add(Xe(l,"click",S,{once:!0})),c.add(v.addEventListener("click",S,{once:!0})),c.add(d.addEventListener("click",S,{once:!0}))):S()}const m=new Set,h=setTimeout(()=>{m.add(Xe(l,"pointerdown",f,!0)),m.add(v.addEventListener("pointerdown",f,!0)),m.add(d.addEventListener("pointerdown",f,!0))},0);function y(x){(a?Pt:k=>k())(()=>{const k=Lt(x);if(!(!e||!g(x,k))){if(r||s){const A=Cs(r,s);e.addEventListener(kl,A,{once:!0})}Cl(e,kl,{bubbles:!1,cancelable:!0,detail:{originalEvent:x,contextmenu:!1,focusable:Pn(k),target:k}})}})}return il()||(m.add(Xe(l,"focusin",y,!0)),m.add(v.addEventListener("focusin",y,!0)),m.add(d.addEventListener("focusin",y,!0))),()=>{clearTimeout(h),c.forEach(x=>x()),m.forEach(x=>x())}}function Fg(e,t){const{defer:n}=t,r=n?Pt:s=>s(),i=[];return i.push(r(()=>{const s=typeof e=="function"?e():e;i.push(Ng(s,t))})),()=>{i.forEach(s=>s==null?void 0:s())}}function Cl(e,t,n){const r=e.ownerDocument.defaultView||window,i=new r.CustomEvent(t,n);return e.dispatchEvent(i)}function Bg(e,t){const n=r=>{r.key==="Escape"&&(r.isComposing||t==null||t(r))};return Xe(Nt(e),"keydown",n,{capture:!0})}var Sl="layer:request-dismiss",It={layers:[],branches:[],count(){return this.layers.length},pointerBlockingLayers(){return this.layers.filter(e=>e.pointerBlocking)},topMostPointerBlockingLayer(){return[...this.pointerBlockingLayers()].slice(-1)[0]},hasPointerBlockingLayer(){return this.pointerBlockingLayers().length>0},isBelowPointerBlockingLayer(e){var r;const t=this.indexOf(e),n=this.topMostPointerBlockingLayer()?this.indexOf((r=this.topMostPointerBlockingLayer())==null?void 0:r.node):-1;return t<n},isTopMost(e){const t=this.layers[this.count()-1];return(t==null?void 0:t.node)===e},getNestedLayers(e){return Array.from(this.layers).slice(this.indexOf(e)+1)},getLayersByType(e){return this.layers.filter(t=>t.type===e)},getNestedLayersByType(e,t){const n=this.indexOf(e);return n===-1?[]:this.layers.slice(n+1).filter(r=>r.type===t)},getParentLayerOfType(e,t){const n=this.indexOf(e);if(!(n<=0))return this.layers.slice(0,n).reverse().find(r=>r.type===t)},countNestedLayersOfType(e,t){return this.getNestedLayersByType(e,t).length},isInNestedLayer(e,t){return this.getNestedLayers(e).some(n=>ci(n.node,t))},isInBranch(e){return Array.from(this.branches).some(t=>ci(t,e))},add(e){this.layers.push(e),this.syncLayers()},addBranch(e){this.branches.push(e)},remove(e){const t=this.indexOf(e);t<0||(t<this.count()-1&&this.getNestedLayers(e).forEach(r=>It.dismiss(r.node,e)),this.layers.splice(t,1),this.syncLayers())},removeBranch(e){const t=this.branches.indexOf(e);t>=0&&this.branches.splice(t,1)},syncLayers(){this.layers.forEach((e,t)=>{e.node.style.setProperty("--layer-index",`${t}`),e.node.removeAttribute("data-nested"),e.node.removeAttribute("data-has-nested"),this.getParentLayerOfType(e.node,e.type)&&e.node.setAttribute("data-nested",e.type);const r=this.countNestedLayersOfType(e.node,e.type);r>0&&e.node.setAttribute("data-has-nested",e.type),e.node.style.setProperty("--nested-layer-count",`${r}`)})},indexOf(e){return this.layers.findIndex(t=>t.node===e)},dismiss(e,t){const n=this.indexOf(e);if(n===-1)return;const r=this.layers[n];Mg(e,Sl,i=>{var s;(s=r.requestDismiss)==null||s.call(r,i),i.defaultPrevented||r==null||r.dismiss()}),zg(e,Sl,{originalLayer:e,targetLayer:t,originalIndex:n,targetIndex:t?this.indexOf(t):-1}),this.syncLayers()},clear(){this.remove(this.layers[0].node)}};function zg(e,t,n){const r=e.ownerDocument.defaultView||window,i=new r.CustomEvent(t,{cancelable:!0,bubbles:!0,detail:n});return e.dispatchEvent(i)}function Mg(e,t,n){e.addEventListener(t,n,{once:!0})}var Tl;function Al(){It.layers.forEach(({node:e})=>{e.style.pointerEvents=It.isBelowPointerBlockingLayer(e)?"none":"auto"})}function Vg(e){e.style.pointerEvents=""}function Ug(e,t){const n=Nt(e),r=[];return It.hasPointerBlockingLayer()&&!n.body.hasAttribute("data-inert")&&(Tl=document.body.style.pointerEvents,queueMicrotask(()=>{n.body.style.pointerEvents="none",n.body.setAttribute("data-inert","")})),t==null||t.forEach(i=>{const[s,a]=Ev(()=>{const o=i();return ct(o)?o:null},{timeout:1e3});s.then(o=>r.push(Es(o,{pointerEvents:"auto"}))),r.push(a)}),()=>{It.hasPointerBlockingLayer()||(queueMicrotask(()=>{n.body.style.pointerEvents=Tl,n.body.removeAttribute("data-inert"),n.body.style.length===0&&n.body.removeAttribute("style")}),r.forEach(i=>i()))}}function Wg(e,t){const{warnOnMissingNode:n=!0}=t;if(n&&!e){As("[@zag-js/dismissable] node is `null` or `undefined`");return}if(!e)return;const{onDismiss:r,onRequestDismiss:i,pointerBlocking:s,exclude:a,debug:o,type:l="dialog"}=t,u={dismiss:r,node:e,type:l,pointerBlocking:s,requestDismiss:i};It.add(u),Al();function d(f){var h,y;const m=Lt(f.detail.originalEvent);It.isBelowPointerBlockingLayer(e)||It.isInBranch(m)||((h=t.onPointerDownOutside)==null||h.call(t,f),(y=t.onInteractOutside)==null||y.call(t,f),!f.defaultPrevented&&(o&&console.log("onPointerDownOutside:",f.detail.originalEvent),r==null||r()))}function v(f){var h,y;const m=Lt(f.detail.originalEvent);It.isInBranch(m)||((h=t.onFocusOutside)==null||h.call(t,f),(y=t.onInteractOutside)==null||y.call(t,f),!f.defaultPrevented&&(o&&console.log("onFocusOutside:",f.detail.originalEvent),r==null||r()))}function g(f){var m;It.isTopMost(e)&&((m=t.onEscapeKeyDown)==null||m.call(t,f),!f.defaultPrevented&&r&&(f.preventDefault(),r()))}function c(f){var x;if(!e)return!1;const m=typeof a=="function"?a():a,h=Array.isArray(m)?m:[m],y=(x=t.persistentElements)==null?void 0:x.map(S=>S()).filter(ct);return y&&h.push(...y),h.some(S=>ci(S,f))||It.isInNestedLayer(e,f)}const p=[s?Ug(e,t.persistentElements):void 0,Bg(e,g),Fg(e,{exclude:c,onFocusOutside:v,onPointerDownOutside:d,defer:t.defer})];return()=>{It.remove(e),Al(),Vg(e),p.forEach(f=>f==null?void 0:f())}}function Hg(e,t){const{defer:n}=t,r=n?Pt:s=>s(),i=[];return i.push(r(()=>{const s=Zn(e)?e():e;i.push(Wg(s,t))})),()=>{i.forEach(s=>s==null?void 0:s())}}const $g=["top","right","bottom","left"],Fn=Math.min,xt=Math.max,Qi=Math.round,Ai=Math.floor,Qt=e=>({x:e,y:e}),jg={left:"right",right:"left",bottom:"top",top:"bottom"},qg={start:"end",end:"start"};function Ns(e,t,n){return xt(e,Fn(t,n))}function bn(e,t){return typeof e=="function"?e(t):e}function yn(e){return e.split("-")[0]}function zr(e){return e.split("-")[1]}function lo(e){return e==="x"?"y":"x"}function co(e){return e==="y"?"height":"width"}const Gg=new Set(["top","bottom"]);function Kt(e){return Gg.has(yn(e))?"y":"x"}function uo(e){return lo(Kt(e))}function Zg(e,t,n){n===void 0&&(n=!1);const r=zr(e),i=uo(e),s=co(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=ea(a)),[a,ea(a)]}function Kg(e){const t=ea(e);return[Fs(e),t,Fs(t)]}function Fs(e){return e.replace(/start|end/g,t=>qg[t])}const Il=["left","right"],Ol=["right","left"],Xg=["top","bottom"],Yg=["bottom","top"];function Jg(e,t,n){switch(e){case"top":case"bottom":return n?t?Ol:Il:t?Il:Ol;case"left":case"right":return t?Xg:Yg;default:return[]}}function Qg(e,t,n,r){const i=zr(e);let s=Jg(yn(e),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),t&&(s=s.concat(s.map(Fs)))),s}function ea(e){return e.replace(/left|right|bottom|top/g,t=>jg[t])}function em(e){return{top:0,right:0,bottom:0,left:0,...e}}function Su(e){return typeof e!="number"?em(e):{top:e,right:e,bottom:e,left:e}}function ta(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Ll(e,t,n){let{reference:r,floating:i}=e;const s=Kt(t),a=uo(t),o=co(a),l=yn(t),u=s==="y",d=r.x+r.width/2-i.width/2,v=r.y+r.height/2-i.height/2,g=r[o]/2-i[o]/2;let c;switch(l){case"top":c={x:d,y:r.y-i.height};break;case"bottom":c={x:d,y:r.y+r.height};break;case"right":c={x:r.x+r.width,y:v};break;case"left":c={x:r.x-i.width,y:v};break;default:c={x:r.x,y:r.y}}switch(zr(t)){case"start":c[a]-=g*(n&&u?-1:1);break;case"end":c[a]+=g*(n&&u?-1:1);break}return c}const tm=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:v}=Ll(u,r,l),g=r,c={},p=0;for(let f=0;f<o.length;f++){const{name:m,fn:h}=o[f],{x:y,y:x,data:S,reset:k}=await h({x:d,y:v,initialPlacement:r,placement:g,strategy:i,middlewareData:c,rects:u,platform:a,elements:{reference:e,floating:t}});d=y??d,v=x??v,c={...c,[m]:{...c[m],...S}},k&&p<=50&&(p++,typeof k=="object"&&(k.placement&&(g=k.placement),k.rects&&(u=k.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):k.rects),{x:d,y:v}=Ll(u,g,l)),f=-1)}return{x:d,y:v,placement:g,strategy:i,middlewareData:c}};async function ui(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:v="floating",altBoundary:g=!1,padding:c=0}=bn(t,e),p=Su(c),m=o[g?v==="floating"?"reference":"floating":v],h=ta(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(m)))==null||n?m:m.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:l})),y=v==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),S=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},k=ta(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:y,offsetParent:x,strategy:l}):y);return{top:(h.top-k.top+p.top)/S.y,bottom:(k.bottom-h.bottom+p.bottom)/S.y,left:(h.left-k.left+p.left)/S.x,right:(k.right-h.right+p.right)/S.x}}const nm=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:l}=t,{element:u,padding:d=0}=bn(e,t)||{};if(u==null)return{};const v=Su(d),g={x:n,y:r},c=uo(i),p=co(c),f=await a.getDimensions(u),m=c==="y",h=m?"top":"left",y=m?"bottom":"right",x=m?"clientHeight":"clientWidth",S=s.reference[p]+s.reference[c]-g[c]-s.floating[p],k=g[c]-s.reference[c],A=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let I=A?A[x]:0;(!I||!await(a.isElement==null?void 0:a.isElement(A)))&&(I=o.floating[x]||s.floating[p]);const R=S/2-k/2,O=I/2-f[p]/2-1,B=Fn(v[h],O),N=Fn(v[y],O),E=B,L=I-f[p]-N,b=I/2-f[p]/2+R,P=Ns(E,b,L),U=!l.arrow&&zr(i)!=null&&b!==P&&s.reference[p]/2-(b<E?B:N)-f[p]/2<0,V=U?b<E?b-E:b-L:0;return{[c]:g[c]+V,data:{[c]:P,centerOffset:b-P-V,...U&&{alignmentOffset:V}},reset:U}}}),rm=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:v=!0,fallbackPlacements:g,fallbackStrategy:c="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:f=!0,...m}=bn(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const h=yn(i),y=Kt(o),x=yn(o)===o,S=await(l.isRTL==null?void 0:l.isRTL(u.floating)),k=g||(x||!f?[ea(o)]:Kg(o)),A=p!=="none";!g&&A&&k.push(...Qg(o,f,p,S));const I=[o,...k],R=await ui(t,m),O=[];let B=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&O.push(R[h]),v){const b=Zg(i,a,S);O.push(R[b[0]],R[b[1]])}if(B=[...B,{placement:i,overflows:O}],!O.every(b=>b<=0)){var N,E;const b=(((N=s.flip)==null?void 0:N.index)||0)+1,P=I[b];if(P&&(!(v==="alignment"?y!==Kt(P):!1)||B.every(J=>Kt(J.placement)===y?J.overflows[0]>0:!0)))return{data:{index:b,overflows:B},reset:{placement:P}};let U=(E=B.filter(V=>V.overflows[0]<=0).sort((V,J)=>V.overflows[1]-J.overflows[1])[0])==null?void 0:E.placement;if(!U)switch(c){case"bestFit":{var L;const V=(L=B.filter(J=>{if(A){const $=Kt(J.placement);return $===y||$==="y"}return!0}).map(J=>[J.placement,J.overflows.filter($=>$>0).reduce(($,ne)=>$+ne,0)]).sort((J,$)=>J[1]-$[1])[0])==null?void 0:L[0];V&&(U=V);break}case"initialPlacement":U=o;break}if(i!==U)return{reset:{placement:U}}}return{}}}};function Rl(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Pl(e){return $g.some(t=>e[t]>=0)}const im=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=bn(e,t);switch(r){case"referenceHidden":{const s=await ui(t,{...i,elementContext:"reference"}),a=Rl(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Pl(a)}}}case"escaped":{const s=await ui(t,{...i,altBoundary:!0}),a=Rl(s,n.floating);return{data:{escapedOffsets:a,escaped:Pl(a)}}}default:return{}}}}},Tu=new Set(["left","top"]);async function am(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=yn(n),o=zr(n),l=Kt(n)==="y",u=Tu.has(a)?-1:1,d=s&&l?-1:1,v=bn(t,e);let{mainAxis:g,crossAxis:c,alignmentAxis:p}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return o&&typeof p=="number"&&(c=o==="end"?p*-1:p),l?{x:c*d,y:g*u}:{x:g*u,y:c*d}}const sm=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=t,l=await am(t,e);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},om=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:m=>{let{x:h,y}=m;return{x:h,y}}},...l}=bn(e,t),u={x:n,y:r},d=await ui(t,l),v=Kt(yn(i)),g=lo(v);let c=u[g],p=u[v];if(s){const m=g==="y"?"top":"left",h=g==="y"?"bottom":"right",y=c+d[m],x=c-d[h];c=Ns(y,c,x)}if(a){const m=v==="y"?"top":"left",h=v==="y"?"bottom":"right",y=p+d[m],x=p-d[h];p=Ns(y,p,x)}const f=o.fn({...t,[g]:c,[v]:p});return{...f,data:{x:f.x-n,y:f.y-r,enabled:{[g]:s,[v]:a}}}}}},lm=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=t,{offset:o=0,mainAxis:l=!0,crossAxis:u=!0}=bn(e,t),d={x:n,y:r},v=Kt(i),g=lo(v);let c=d[g],p=d[v];const f=bn(o,t),m=typeof f=="number"?{mainAxis:f,crossAxis:0}:{mainAxis:0,crossAxis:0,...f};if(l){const x=g==="y"?"height":"width",S=s.reference[g]-s.floating[x]+m.mainAxis,k=s.reference[g]+s.reference[x]-m.mainAxis;c<S?c=S:c>k&&(c=k)}if(u){var h,y;const x=g==="y"?"width":"height",S=Tu.has(yn(i)),k=s.reference[v]-s.floating[x]+(S&&((h=a.offset)==null?void 0:h[v])||0)+(S?0:m.crossAxis),A=s.reference[v]+s.reference[x]+(S?0:((y=a.offset)==null?void 0:y[v])||0)-(S?m.crossAxis:0);p<k?p=k:p>A&&(p=A)}return{[g]:c,[v]:p}}}},cm=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:a,elements:o}=t,{apply:l=()=>{},...u}=bn(e,t),d=await ui(t,u),v=yn(i),g=zr(i),c=Kt(i)==="y",{width:p,height:f}=s.floating;let m,h;v==="top"||v==="bottom"?(m=v,h=g===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(h=v,m=g==="end"?"top":"bottom");const y=f-d.top-d.bottom,x=p-d.left-d.right,S=Fn(f-d[m],y),k=Fn(p-d[h],x),A=!t.middlewareData.shift;let I=S,R=k;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(R=x),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(I=y),A&&!g){const B=xt(d.left,0),N=xt(d.right,0),E=xt(d.top,0),L=xt(d.bottom,0);c?R=p-2*(B!==0||N!==0?B+N:xt(d.left,d.right)):I=f-2*(E!==0||L!==0?E+L:xt(d.top,d.bottom))}await l({...t,availableWidth:R,availableHeight:I});const O=await a.getDimensions(o.floating);return p!==O.width||f!==O.height?{reset:{rects:!0}}:{}}}};function _a(){return typeof window<"u"}function Mr(e){return Au(e)?(e.nodeName||"").toLowerCase():"#document"}function Et(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function nn(e){var t;return(t=(Au(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Au(e){return _a()?e instanceof Node||e instanceof Et(e).Node:!1}function Vt(e){return _a()?e instanceof Element||e instanceof Et(e).Element:!1}function en(e){return _a()?e instanceof HTMLElement||e instanceof Et(e).HTMLElement:!1}function Dl(e){return!_a()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Et(e).ShadowRoot}const um=new Set(["inline","contents"]);function _i(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Ut(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!um.has(i)}const dm=new Set(["table","td","th"]);function fm(e){return dm.has(Mr(e))}const hm=[":popover-open",":modal"];function xa(e){return hm.some(t=>{try{return e.matches(t)}catch{return!1}})}const vm=["transform","translate","scale","rotate","perspective"],pm=["transform","translate","scale","rotate","perspective","filter"],gm=["paint","layout","strict","content"];function fo(e){const t=ho(),n=Vt(e)?Ut(e):e;return vm.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||pm.some(r=>(n.willChange||"").includes(r))||gm.some(r=>(n.contain||"").includes(r))}function mm(e){let t=Bn(e);for(;en(t)&&!Lr(t);){if(fo(t))return t;if(xa(t))return null;t=Bn(t)}return null}function ho(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const bm=new Set(["html","body","#document"]);function Lr(e){return bm.has(Mr(e))}function Ut(e){return Et(e).getComputedStyle(e)}function ka(e){return Vt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Bn(e){if(Mr(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Dl(e)&&e.host||nn(e);return Dl(t)?t.host:t}function Iu(e){const t=Bn(e);return Lr(t)?e.ownerDocument?e.ownerDocument.body:e.body:en(t)&&_i(t)?t:Iu(t)}function di(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=Iu(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),a=Et(i);if(s){const o=Bs(a);return t.concat(a,a.visualViewport||[],_i(i)?i:[],o&&n?di(o):[])}return t.concat(i,di(i,[],n))}function Bs(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ou(e){const t=Ut(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=en(e),s=i?e.offsetWidth:n,a=i?e.offsetHeight:r,o=Qi(n)!==s||Qi(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function vo(e){return Vt(e)?e:e.contextElement}function Er(e){const t=vo(e);if(!en(t))return Qt(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=Ou(t);let a=(s?Qi(n.width):n.width)/r,o=(s?Qi(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const ym=Qt(0);function Lu(e){const t=Et(e);return!ho()||!t.visualViewport?ym:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function wm(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Et(e)?!1:t}function nr(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=vo(e);let a=Qt(1);t&&(r?Vt(r)&&(a=Er(r)):a=Er(e));const o=wm(s,n,r)?Lu(s):Qt(0);let l=(i.left+o.x)/a.x,u=(i.top+o.y)/a.y,d=i.width/a.x,v=i.height/a.y;if(s){const g=Et(s),c=r&&Vt(r)?Et(r):r;let p=g,f=Bs(p);for(;f&&r&&c!==p;){const m=Er(f),h=f.getBoundingClientRect(),y=Ut(f),x=h.left+(f.clientLeft+parseFloat(y.paddingLeft))*m.x,S=h.top+(f.clientTop+parseFloat(y.paddingTop))*m.y;l*=m.x,u*=m.y,d*=m.x,v*=m.y,l+=x,u+=S,p=Et(f),f=Bs(p)}}return ta({width:d,height:v,x:l,y:u})}function Ea(e,t){const n=ka(e).scrollLeft;return t?t.left+n:nr(nn(e)).left+n}function Ru(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Ea(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function _m(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",a=nn(r),o=t?xa(t.floating):!1;if(r===a||o&&s)return n;let l={scrollLeft:0,scrollTop:0},u=Qt(1);const d=Qt(0),v=en(r);if((v||!v&&!s)&&((Mr(r)!=="body"||_i(a))&&(l=ka(r)),en(r))){const c=nr(r);u=Er(r),d.x=c.x+r.clientLeft,d.y=c.y+r.clientTop}const g=a&&!v&&!s?Ru(a,l):Qt(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+g.x,y:n.y*u.y-l.scrollTop*u.y+d.y+g.y}}function xm(e){return Array.from(e.getClientRects())}function km(e){const t=nn(e),n=ka(e),r=e.ownerDocument.body,i=xt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=xt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Ea(e);const o=-n.scrollTop;return Ut(r).direction==="rtl"&&(a+=xt(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}const Nl=25;function Em(e,t){const n=Et(e),r=nn(e),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const d=ho();(!d||d&&t==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}const u=Ea(r);if(u<=0){const d=r.ownerDocument,v=d.body,g=getComputedStyle(v),c=d.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,p=Math.abs(r.clientWidth-v.clientWidth-c);p<=Nl&&(s-=p)}else u<=Nl&&(s+=u);return{width:s,height:a,x:o,y:l}}const Cm=new Set(["absolute","fixed"]);function Sm(e,t){const n=nr(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=en(e)?Er(e):Qt(1),a=e.clientWidth*s.x,o=e.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:a,height:o,x:l,y:u}}function Fl(e,t,n){let r;if(t==="viewport")r=Em(e,n);else if(t==="document")r=km(nn(e));else if(Vt(t))r=Sm(t,n);else{const i=Lu(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return ta(r)}function Pu(e,t){const n=Bn(e);return n===t||!Vt(n)||Lr(n)?!1:Ut(n).position==="fixed"||Pu(n,t)}function Tm(e,t){const n=t.get(e);if(n)return n;let r=di(e,[],!1).filter(o=>Vt(o)&&Mr(o)!=="body"),i=null;const s=Ut(e).position==="fixed";let a=s?Bn(e):e;for(;Vt(a)&&!Lr(a);){const o=Ut(a),l=fo(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&Cm.has(i.position)||_i(a)&&!l&&Pu(e,a))?r=r.filter(d=>d!==a):i=o,a=Bn(a)}return t.set(e,r),r}function Am(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?xa(t)?[]:Tm(t,this._c):[].concat(n),r],o=a[0],l=a.reduce((u,d)=>{const v=Fl(t,d,i);return u.top=xt(v.top,u.top),u.right=Fn(v.right,u.right),u.bottom=Fn(v.bottom,u.bottom),u.left=xt(v.left,u.left),u},Fl(t,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Im(e){const{width:t,height:n}=Ou(e);return{width:t,height:n}}function Om(e,t,n){const r=en(t),i=nn(t),s=n==="fixed",a=nr(e,!0,s,t);let o={scrollLeft:0,scrollTop:0};const l=Qt(0);function u(){l.x=Ea(i)}if(r||!r&&!s)if((Mr(t)!=="body"||_i(i))&&(o=ka(t)),r){const c=nr(t,!0,s,t);l.x=c.x+t.clientLeft,l.y=c.y+t.clientTop}else i&&u();s&&!r&&i&&u();const d=i&&!r&&!s?Ru(i,o):Qt(0),v=a.left+o.scrollLeft-l.x-d.x,g=a.top+o.scrollTop-l.y-d.y;return{x:v,y:g,width:a.width,height:a.height}}function Xa(e){return Ut(e).position==="static"}function Bl(e,t){if(!en(e)||Ut(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return nn(e)===n&&(n=n.ownerDocument.body),n}function Du(e,t){const n=Et(e);if(xa(e))return n;if(!en(e)){let i=Bn(e);for(;i&&!Lr(i);){if(Vt(i)&&!Xa(i))return i;i=Bn(i)}return n}let r=Bl(e,t);for(;r&&fm(r)&&Xa(r);)r=Bl(r,t);return r&&Lr(r)&&Xa(r)&&!fo(r)?n:r||mm(e)||n}const Lm=async function(e){const t=this.getOffsetParent||Du,n=this.getDimensions,r=await n(e.floating);return{reference:Om(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Rm(e){return Ut(e).direction==="rtl"}const Pm={convertOffsetParentRelativeRectToViewportRelativeRect:_m,getDocumentElement:nn,getClippingRect:Am,getOffsetParent:Du,getElementRects:Lm,getClientRects:xm,getDimensions:Im,getScale:Er,isElement:Vt,isRTL:Rm};function Nu(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Dm(e,t){let n=null,r;const i=nn(e);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const u=e.getBoundingClientRect(),{left:d,top:v,width:g,height:c}=u;if(o||t(),!g||!c)return;const p=Ai(v),f=Ai(i.clientWidth-(d+g)),m=Ai(i.clientHeight-(v+c)),h=Ai(d),x={rootMargin:-p+"px "+-f+"px "+-m+"px "+-h+"px",threshold:xt(0,Fn(1,l))||1};let S=!0;function k(A){const I=A[0].intersectionRatio;if(I!==l){if(!S)return a();I?a(!1,I):r=setTimeout(()=>{a(!1,1e-7)},1e3)}I===1&&!Nu(u,e.getBoundingClientRect())&&a(),S=!1}try{n=new IntersectionObserver(k,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(k,x)}n.observe(e)}return a(!0),s}function Nm(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=vo(e),d=i||s?[...u?di(u):[],...di(t)]:[];d.forEach(h=>{i&&h.addEventListener("scroll",n,{passive:!0}),s&&h.addEventListener("resize",n)});const v=u&&o?Dm(u,n):null;let g=-1,c=null;a&&(c=new ResizeObserver(h=>{let[y]=h;y&&y.target===u&&c&&(c.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var x;(x=c)==null||x.observe(t)})),n()}),u&&!l&&c.observe(u),c.observe(t));let p,f=l?nr(e):null;l&&m();function m(){const h=nr(e);f&&!Nu(f,h)&&n(),f=h,p=requestAnimationFrame(m)}return n(),()=>{var h;d.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),v==null||v(),(h=c)==null||h.disconnect(),c=null,l&&cancelAnimationFrame(p)}}const Fm=sm,Bm=om,zm=rm,Mm=cm,Vm=im,Um=nm,Wm=lm,Hm=(e,t,n)=>{const r=new Map,i={platform:Pm,...n},s={...i.platform,_c:r};return tm(e,t,{...i,platform:s})};function zl(e=0,t=0,n=0,r=0){if(typeof DOMRect=="function")return new DOMRect(e,t,n,r);const i={x:e,y:t,width:n,height:r,top:t,right:e+n,bottom:t+r,left:e};return{...i,toJSON:()=>i}}function $m(e){if(!e)return zl();const{x:t,y:n,width:r,height:i}=e;return zl(t,n,r,i)}function jm(e,t){return{contextElement:ct(e)?e:void 0,getBoundingClientRect:()=>{const n=e,r=t==null?void 0:t(n);return r||!n?$m(r):n.getBoundingClientRect()}}}var $r=e=>({variable:e,reference:`var(${e})`}),un={arrowSize:$r("--arrow-size"),arrowSizeHalf:$r("--arrow-size-half"),arrowBg:$r("--arrow-background"),transformOrigin:$r("--transform-origin"),arrowOffset:$r("--arrow-offset")},qm=e=>e==="top"||e==="bottom"?"y":"x";function Gm(e,t){return{name:"transformOrigin",fn(n){var O,B,N,E;const{elements:r,middlewareData:i,placement:s,rects:a,y:o}=n,l=s.split("-")[0],u=qm(l),d=((O=i.arrow)==null?void 0:O.x)||0,v=((B=i.arrow)==null?void 0:B.y)||0,g=(t==null?void 0:t.clientWidth)||0,c=(t==null?void 0:t.clientHeight)||0,p=d+g/2,f=v+c/2,m=Math.abs(((N=i.shift)==null?void 0:N.y)||0),h=a.reference.height/2,y=c/2,x=((E=e.offset)==null?void 0:E.mainAxis)??e.gutter,S=typeof x=="number"?x+y:x??y,k=m>S,A={top:`${p}px calc(100% + ${S}px)`,bottom:`${p}px ${-S}px`,left:`calc(100% + ${S}px) ${f}px`,right:`${-S}px ${f}px`}[l],I=`${p}px ${a.reference.y+h-o}px`,R=!!e.overlap&&u==="y"&&k;return r.floating.style.setProperty(un.transformOrigin.variable,R?I:A),{data:{transformOrigin:R?I:A}}}}}var Zm={name:"rects",fn({rects:e}){return{data:e}}},Km=e=>{if(e)return{name:"shiftArrow",fn({placement:t,middlewareData:n}){if(!n.arrow)return{};const{x:r,y:i}=n.arrow,s=t.split("-")[0];return Object.assign(e.style,{left:r!=null?`${r}px`:"",top:i!=null?`${i}px`:"",[s]:`calc(100% + ${un.arrowOffset.reference})`}),{}}}};function Xm(e){const[t,n]=e.split("-");return{side:t,align:n,hasAlign:n!=null}}var Ym={strategy:"absolute",placement:"bottom",listeners:!0,gutter:8,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,overflowPadding:8,arrowPadding:4};function Ml(e,t){const n=e.devicePixelRatio||1;return Math.round(t*n)/n}function po(e){return typeof e=="function"?e():e==="clipping-ancestors"?"clippingAncestors":e}function Jm(e,t,n){const r=e||t.createElement("div");return Um({element:r,padding:n.arrowPadding})}function Qm(e,t){if(!Ov(t.offset??t.gutter))return Fm(({placement:n})=>{var u,d;const r=((e==null?void 0:e.clientHeight)||0)/2,i=((u=t.offset)==null?void 0:u.mainAxis)??t.gutter,s=typeof i=="number"?i+r:i??r,{hasAlign:a}=Xm(n),o=a?void 0:t.shift,l=((d=t.offset)==null?void 0:d.crossAxis)??o;return so({crossAxis:l,mainAxis:s,alignmentAxis:t.shift})})}function eb(e){if(!e.flip)return;const t=po(e.boundary);return zm({...t?{boundary:t}:void 0,padding:e.overflowPadding,fallbackPlacements:e.flip===!0?void 0:e.flip})}function tb(e){if(!e.slide&&!e.overlap)return;const t=po(e.boundary);return Bm({...t?{boundary:t}:void 0,mainAxis:e.slide,crossAxis:e.overlap,padding:e.overflowPadding,limiter:Wm()})}function nb(e){return Mm({padding:e.overflowPadding,apply({elements:t,rects:n,availableHeight:r,availableWidth:i}){const s=t.floating,a=Math.round(n.reference.width),o=Math.round(n.reference.height);i=Math.floor(i),r=Math.floor(r),s.style.setProperty("--reference-width",`${a}px`),s.style.setProperty("--reference-height",`${o}px`),s.style.setProperty("--available-width",`${i}px`),s.style.setProperty("--available-height",`${r}px`)}})}function rb(e){if(e.hideWhenDetached)return Vm({strategy:"referenceHidden",boundary:po(e.boundary)??"clippingAncestors"})}function ib(e){return e?e===!0?{ancestorResize:!0,ancestorScroll:!0,elementResize:!0,layoutShift:!0}:e:{}}function ab(e,t,n={}){const r=jm(e,n.getAnchorRect);if(!t||!r)return;const i=Object.assign({},Ym,n),s=t.querySelector("[data-part=arrow]"),a=[Qm(s,i),eb(i),tb(i),Jm(s,t.ownerDocument,i),Km(s),Gm({gutter:i.gutter,offset:i.offset,overlap:i.overlap},s),nb(i),rb(i),Zm],{placement:o,strategy:l,onComplete:u,onPositioned:d}=i,v=async()=>{var S;if(!r||!t)return;const f=await Hm(r,t,{placement:o,middleware:a,strategy:l});u==null||u(f),d==null||d({placed:!0});const m=ut(t),h=Ml(m,f.x),y=Ml(m,f.y);t.style.setProperty("--x",`${h}px`),t.style.setProperty("--y",`${y}px`),i.hideWhenDetached&&(((S=f.middlewareData.hide)==null?void 0:S.referenceHidden)?(t.style.setProperty("visibility","hidden"),t.style.setProperty("pointer-events","none")):(t.style.removeProperty("visibility"),t.style.removeProperty("pointer-events")));const x=t.firstElementChild;if(x){const k=Ih(x);t.style.setProperty("--z-index",k.zIndex)}},g=async()=>{n.updatePosition?(await n.updatePosition({updatePosition:v,floatingElement:t}),d==null||d({placed:!0})):await v()},c=ib(i.listeners),p=i.listeners?Nm(r,t,g,c):Mv;return g(),()=>{p==null||p(),d==null||d({placed:!1})}}function Vl(e,t,n={}){const{defer:r,...i}=n,s=r?Pt:o=>o(),a=[];return a.push(s(()=>{const o=typeof e=="function"?e():e,l=typeof t=="function"?t():t;a.push(ab(o,l,i))})),()=>{a.forEach(o=>o==null?void 0:o())}}var sb={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function ob(e={}){const{placement:t,sameWidth:n,fitViewport:r,strategy:i="absolute"}=e;return{arrow:{position:"absolute",width:un.arrowSize.reference,height:un.arrowSize.reference,[un.arrowSizeHalf.variable]:`calc(${un.arrowSize.reference} / 2)`,[un.arrowOffset.variable]:`calc(${un.arrowSizeHalf.reference} * -1)`},arrowTip:{transform:t?sb[t.split("-")[0]]:void 0,background:un.arrowBg.reference,top:"0",left:"0",width:"100%",height:"100%",position:"absolute",zIndex:"inherit"},floating:{position:i,isolation:"isolate",minWidth:n?void 0:"max-content",width:n?"var(--reference-width)":void 0,maxWidth:r?"var(--available-width)":void 0,maxHeight:r?"var(--available-height)":void 0,pointerEvents:t?void 0:"none",top:"0px",left:"0px",transform:t?"translate3d(var(--x), var(--y), 0)":"translate3d(0, -100vh, 0)",zIndex:"var(--z-index)"}}}var hr=new WeakMap,Ii=new WeakMap,Oi={},Ya=0,Fu=e=>e&&(e.host||Fu(e.parentNode)),lb=(e,t)=>t.map(n=>{if(e.contains(n))return n;const r=Fu(n);return r&&e.contains(r)?r:(console.error("[zag-js > ariaHidden] target",n,"in not contained inside",e,". Doing nothing"),null)}).filter(n=>!!n),cb=new Set(["script","output","status","next-route-announcer"]),ub=e=>cb.has(e.localName)||e.role==="status"||e.hasAttribute("aria-live")?!0:e.matches("[data-live-announcer]"),db=(e,t)=>{const{parentNode:n,markerName:r,controlAttribute:i,followControlledElements:s=!0}=t,a=lb(n,Array.isArray(e)?e:[e]);Oi[r]||(Oi[r]=new WeakMap);const o=Oi[r],l=[],u=new Set,d=new Set(a),v=c=>{!c||u.has(c)||(u.add(c),v(c.parentNode))};a.forEach(c=>{v(c),s&&ct(c)&&Gc(c,p=>{v(p)})});const g=c=>{!c||d.has(c)||Array.prototype.forEach.call(c.children,p=>{if(u.has(p))g(p);else try{if(ub(p))return;const m=p.getAttribute(i)==="true",h=(hr.get(p)||0)+1,y=(o.get(p)||0)+1;hr.set(p,h),o.set(p,y),l.push(p),h===1&&m&&Ii.set(p,!0),y===1&&p.setAttribute(r,""),m||p.setAttribute(i,"true")}catch(f){console.error("[zag-js > ariaHidden] cannot operate on ",p,f)}})};return g(n),u.clear(),Ya++,()=>{l.forEach(c=>{const p=hr.get(c)-1,f=o.get(c)-1;hr.set(c,p),o.set(c,f),p||(Ii.has(c)||c.removeAttribute(i),Ii.delete(c)),f||c.removeAttribute(r)}),Ya--,Ya||(hr=new WeakMap,hr=new WeakMap,Ii=new WeakMap,Oi={})}},fb=e=>(Array.isArray(e)?e[0]:e).ownerDocument.body,hb=(e,t=fb(e),n="data-aria-hidden",r=!0)=>{if(t)return db(e,{parentNode:t,markerName:n,controlAttribute:"aria-hidden",followControlledElements:r})},vb=e=>{const t=requestAnimationFrame(()=>e());return()=>cancelAnimationFrame(t)};function pb(e,t={}){const{defer:n=!0}=t,r=n?vb:s=>s(),i=[];return i.push(r(()=>{const a=(typeof e=="function"?e():e).filter(Boolean);a.length!==0&&i.push(hb(a))})),()=>{i.forEach(s=>s==null?void 0:s())}}var gb=Object.defineProperty,mb=(e,t,n)=>t in e?gb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ze=(e,t,n)=>mb(e,typeof t!="symbol"?t+"":t,n),Ul={activateTrap(e,t){if(e.length>0){const r=e[e.length-1];r!==t&&r.pause()}const n=e.indexOf(t);n===-1||e.splice(n,1),e.push(t)},deactivateTrap(e,t){const n=e.indexOf(t);n!==-1&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},bb=[],yb=class{constructor(e,t){Ze(this,"trapStack"),Ze(this,"config"),Ze(this,"doc"),Ze(this,"state",{containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0}),Ze(this,"portalContainers",new Set),Ze(this,"listenerCleanups",[]),Ze(this,"handleFocus",r=>{const i=Lt(r),s=this.findContainerIndex(i,r)>=0;if(s||da(i))s&&(this.state.mostRecentlyFocusedNode=i);else{r.stopImmediatePropagation();let a,o=!0;if(this.state.mostRecentlyFocusedNode)if(Hr(this.state.mostRecentlyFocusedNode)>0){const l=this.findContainerIndex(this.state.mostRecentlyFocusedNode),{tabbableNodes:u}=this.state.containerGroups[l];if(u.length>0){const d=u.findIndex(v=>v===this.state.mostRecentlyFocusedNode);d>=0&&(this.config.isKeyForward(this.state.recentNavEvent)?d+1<u.length&&(a=u[d+1],o=!1):d-1>=0&&(a=u[d-1],o=!1))}}else this.state.containerGroups.some(l=>l.tabbableNodes.some(u=>Hr(u)>0))||(o=!1);else o=!1;o&&(a=this.findNextNavNode({target:this.state.mostRecentlyFocusedNode,isBackward:this.config.isKeyBackward(this.state.recentNavEvent)})),a?this.tryFocus(a):this.tryFocus(this.state.mostRecentlyFocusedNode||this.getInitialFocusNode())}this.state.recentNavEvent=void 0}),Ze(this,"handlePointerDown",r=>{const i=Lt(r);if(!(this.findContainerIndex(i,r)>=0)){if(qr(this.config.clickOutsideDeactivates,r)){this.deactivate({returnFocus:this.config.returnFocusOnDeactivate});return}qr(this.config.allowOutsideClick,r)||r.preventDefault()}}),Ze(this,"handleClick",r=>{const i=Lt(r);this.findContainerIndex(i,r)>=0||qr(this.config.clickOutsideDeactivates,r)||qr(this.config.allowOutsideClick,r)||(r.preventDefault(),r.stopImmediatePropagation())}),Ze(this,"handleTabKey",r=>{if(this.config.isKeyForward(r)||this.config.isKeyBackward(r)){this.state.recentNavEvent=r;const i=this.config.isKeyBackward(r),s=this.findNextNavNode({event:r,isBackward:i});if(!s)return;jr(r)&&r.preventDefault(),this.tryFocus(s)}}),Ze(this,"handleEscapeKey",r=>{wb(r)&&qr(this.config.escapeDeactivates,r)!==!1&&(r.preventDefault(),this.deactivate())}),Ze(this,"_mutationObserver"),Ze(this,"setupMutationObserver",()=>{const r=this.doc.defaultView||window;this._mutationObserver=new r.MutationObserver(i=>{i.some(o=>Array.from(o.removedNodes).some(u=>u===this.state.mostRecentlyFocusedNode))&&this.tryFocus(this.getInitialFocusNode()),i.some(o=>o.type==="attributes"&&(o.attributeName==="aria-controls"||o.attributeName==="aria-expanded")?!0:o.type==="childList"&&o.addedNodes.length>0?Array.from(o.addedNodes).some(l=>{if(l.nodeType!==Node.ELEMENT_NODE)return!1;const u=l;return Dh(u)?!0:u.id&&!this.state.containers.some(d=>d.contains(u))?Nh(u):!1}):!1)&&this.state.active&&!this.state.paused&&(this.updateTabbableNodes(),this.updatePortalContainers())})}),Ze(this,"updateObservedNodes",()=>{var r;(r=this._mutationObserver)==null||r.disconnect(),this.state.active&&!this.state.paused&&(this.state.containers.map(i=>{var s;(s=this._mutationObserver)==null||s.observe(i,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["aria-controls","aria-expanded"]})}),this.portalContainers.forEach(i=>{this.observePortalContainer(i)}))}),Ze(this,"getInitialFocusNode",()=>{let r=this.getNodeForOption("initialFocus",{hasFallback:!0});if(r===!1)return!1;if(r===void 0||r&&!Pn(r)){const i=kr(this.doc);if(i&&this.findContainerIndex(i)>=0)r=i;else{const s=this.state.tabbableGroups[0];r=s&&s.firstTabbableNode||this.getNodeForOption("fallbackFocus")}}else r===null&&(r=this.getNodeForOption("fallbackFocus"));if(!r)throw new Error("Your focus-trap needs to have at least one focusable element");return r.isConnected||(r=this.getNodeForOption("fallbackFocus")),r}),Ze(this,"tryFocus",r=>{if(r!==!1&&r!==kr(this.doc)){if(!r||!r.focus){this.tryFocus(this.getInitialFocusNode());return}r.focus({preventScroll:!!this.config.preventScroll}),this.state.mostRecentlyFocusedNode=r,_b(r)&&r.select()}}),Ze(this,"deactivate",r=>{if(!this.state.active)return this;const i={onDeactivate:this.config.onDeactivate,onPostDeactivate:this.config.onPostDeactivate,checkCanReturnFocus:this.config.checkCanReturnFocus,...r};clearTimeout(this.state.delayInitialFocusTimer),this.state.delayInitialFocusTimer=void 0,this.removeListeners(),this.state.active=!1,this.state.paused=!1,this.updateObservedNodes(),Ul.deactivateTrap(this.trapStack,this),this.portalContainers.clear();const s=this.getOption(i,"onDeactivate"),a=this.getOption(i,"onPostDeactivate"),o=this.getOption(i,"checkCanReturnFocus"),l=this.getOption(i,"returnFocus","returnFocusOnDeactivate");s==null||s();const u=()=>{Wl(()=>{if(l){const d=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);this.tryFocus(d)}a==null||a()})};if(l&&o){const d=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);return o(d).then(u,u),this}return u(),this}),Ze(this,"pause",r=>{if(this.state.paused||!this.state.active)return this;const i=this.getOption(r,"onPause"),s=this.getOption(r,"onPostPause");return this.state.paused=!0,i==null||i(),this.removeListeners(),this.updateObservedNodes(),s==null||s(),this}),Ze(this,"unpause",r=>{if(!this.state.paused||!this.state.active)return this;const i=this.getOption(r,"onUnpause"),s=this.getOption(r,"onPostUnpause");return this.state.paused=!1,i==null||i(),this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),s==null||s(),this}),Ze(this,"updateContainerElements",r=>(this.state.containers=Array.isArray(r)?r.filter(Boolean):[r].filter(Boolean),this.state.active&&this.updateTabbableNodes(),this.updateObservedNodes(),this)),Ze(this,"getReturnFocusNode",r=>{const i=this.getNodeForOption("setReturnFocus",{params:[r]});return i||(i===!1?!1:r)}),Ze(this,"getOption",(r,i,s)=>r&&r[i]!==void 0?r[i]:this.config[s||i]),Ze(this,"getNodeForOption",(r,{hasFallback:i=!1,params:s=[]}={})=>{let a=this.config[r];if(typeof a=="function"&&(a=a(...s)),a===!0&&(a=void 0),!a){if(a===void 0||a===!1)return a;throw new Error(`\`${r}\` was specified but was not a node, or did not return a node`)}let o=a;if(typeof a=="string"){try{o=this.doc.querySelector(a)}catch(l){throw new Error(`\`${r}\` appears to be an invalid selector; error="${l.message}"`)}if(!o&&!i)throw new Error(`\`${r}\` as selector refers to no known node`)}return o}),Ze(this,"findNextNavNode",r=>{const{event:i,isBackward:s=!1}=r,a=r.target||Lt(i);this.updateTabbableNodes();let o=null;if(this.state.tabbableGroups.length>0){const l=this.findContainerIndex(a,i),u=l>=0?this.state.containerGroups[l]:void 0;if(l<0)s?o=this.state.tabbableGroups[this.state.tabbableGroups.length-1].lastTabbableNode:o=this.state.tabbableGroups[0].firstTabbableNode;else if(s){let d=this.state.tabbableGroups.findIndex(({firstTabbableNode:v})=>a===v);if(d<0&&((u==null?void 0:u.container)===a||Pn(a)&&!Tn(a)&&!(u!=null&&u.nextTabbableNode(a,!1)))&&(d=l),d>=0){const v=d===0?this.state.tabbableGroups.length-1:d-1,g=this.state.tabbableGroups[v];o=Hr(a)>=0?g.lastTabbableNode:g.lastDomTabbableNode}else jr(i)||(o=u==null?void 0:u.nextTabbableNode(a,!1))}else{let d=this.state.tabbableGroups.findIndex(({lastTabbableNode:v})=>a===v);if(d<0&&((u==null?void 0:u.container)===a||Pn(a)&&!Tn(a)&&!(u!=null&&u.nextTabbableNode(a)))&&(d=l),d>=0){const v=d===this.state.tabbableGroups.length-1?0:d+1,g=this.state.tabbableGroups[v];o=Hr(a)>=0?g.firstTabbableNode:g.firstDomTabbableNode}else jr(i)||(o=u==null?void 0:u.nextTabbableNode(a))}}else o=this.getNodeForOption("fallbackFocus");return o}),this.trapStack=t.trapStack||bb;const n={returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,followControlledElements:!0,isKeyForward(r){return jr(r)&&!r.shiftKey},isKeyBackward(r){return jr(r)&&r.shiftKey},...t};this.doc=n.document||Nt(Array.isArray(e)?e[0]:e),this.config=n,this.updateContainerElements(e),this.setupMutationObserver()}addPortalContainer(e){const t=e.parentElement;t&&!this.portalContainers.has(t)&&(this.portalContainers.add(t),this.state.active&&!this.state.paused&&this.observePortalContainer(t))}observePortalContainer(e){var t;(t=this._mutationObserver)==null||t.observe(e,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["aria-controls","aria-expanded"]})}updatePortalContainers(){this.config.followControlledElements&&this.state.containers.forEach(e=>{Lh(e).forEach(n=>{this.addPortalContainer(n)})})}get active(){return this.state.active}get paused(){return this.state.paused}findContainerIndex(e,t){const n=typeof(t==null?void 0:t.composedPath)=="function"?t.composedPath():void 0;return this.state.containerGroups.findIndex(({container:r,tabbableNodes:i})=>r.contains(e)||(n==null?void 0:n.includes(r))||i.find(s=>s===e)||this.isControlledElement(r,e))}isControlledElement(e,t){return this.config.followControlledElements?qc(e,t):!1}updateTabbableNodes(){if(this.state.containerGroups=this.state.containers.map(e=>{const t=bi(e),n=Qc(e),r=t.length>0?t[0]:void 0,i=t.length>0?t[t.length-1]:void 0,s=n.find(u=>Tn(u)),a=n.slice().reverse().find(u=>Tn(u)),o=!!t.find(u=>Hr(u)>0);function l(u,d=!0){const v=t.indexOf(u);return v<0?d?n.slice(n.indexOf(u)+1).find(g=>Tn(g)):n.slice(0,n.indexOf(u)).reverse().find(g=>Tn(g)):t[v+(d?1:-1)]}return{container:e,tabbableNodes:t,focusableNodes:n,posTabIndexesFound:o,firstTabbableNode:r,lastTabbableNode:i,firstDomTabbableNode:s,lastDomTabbableNode:a,nextTabbableNode:l}}),this.state.tabbableGroups=this.state.containerGroups.filter(e=>e.tabbableNodes.length>0),this.state.tabbableGroups.length<=0&&!this.getNodeForOption("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(this.state.containerGroups.find(e=>e.posTabIndexesFound)&&this.state.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")}addListeners(){if(this.state.active)return Ul.activateTrap(this.trapStack,this),this.state.delayInitialFocusTimer=this.config.delayInitialFocus?Wl(()=>{this.tryFocus(this.getInitialFocusNode())}):this.tryFocus(this.getInitialFocusNode()),this.listenerCleanups.push(Xe(this.doc,"focusin",this.handleFocus,!0),Xe(this.doc,"mousedown",this.handlePointerDown,{capture:!0,passive:!1}),Xe(this.doc,"touchstart",this.handlePointerDown,{capture:!0,passive:!1}),Xe(this.doc,"click",this.handleClick,{capture:!0,passive:!1}),Xe(this.doc,"keydown",this.handleTabKey,{capture:!0,passive:!1}),Xe(this.doc,"keydown",this.handleEscapeKey)),this}removeListeners(){if(this.state.active)return this.listenerCleanups.forEach(e=>e()),this.listenerCleanups=[],this}activate(e){if(this.state.active)return this;const t=this.getOption(e,"onActivate"),n=this.getOption(e,"onPostActivate"),r=this.getOption(e,"checkCanFocusTrap");r||this.updateTabbableNodes(),this.state.active=!0,this.state.paused=!1,this.state.nodeFocusedBeforeActivation=kr(this.doc),t==null||t();const i=()=>{r&&this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),n==null||n()};return r?(r(this.state.containers.concat()).then(i,i),this):(i(),this)}},jr=e=>e.key==="Tab",qr=(e,...t)=>typeof e=="function"?e(...t):e,wb=e=>!e.isComposing&&e.key==="Escape",Wl=e=>setTimeout(e,0),_b=e=>e.localName==="input"&&"select"in e&&typeof e.select=="function";function xb(e,t={}){let n;const r=Pt(()=>{const i=typeof e=="function"?e():e;if(i){n=new yb(i,{escapeDeactivates:!1,allowOutsideClick:!0,preventScroll:!0,returnFocusOnDeactivate:!0,delayInitialFocus:!1,fallbackFocus:i,...t,document:Nt(i)});try{n.activate()}catch{}}});return function(){n==null||n.deactivate(),r()}}var Ja="data-scroll-lock";function kb(e){const t=e.getBoundingClientRect().left;return Math.round(t)+e.scrollLeft?"paddingLeft":"paddingRight"}function Eb(e){const t=e??document,n=t.defaultView??window,{documentElement:r,body:i}=t;if(i.hasAttribute(Ja))return;const a=n.innerWidth-r.clientWidth;i.setAttribute(Ja,"");const o=()=>xv(r,"--scrollbar-width",`${a}px`),l=kb(r),u=()=>Es(i,{overflow:"hidden",[l]:`${a}px`}),d=()=>{const{scrollX:g,scrollY:c,visualViewport:p}=n,f=(p==null?void 0:p.offsetLeft)??0,m=(p==null?void 0:p.offsetTop)??0,h=Es(i,{position:"fixed",overflow:"hidden",top:`${-(c-Math.floor(m))}px`,left:`${-(g-Math.floor(f))}px`,right:"0",[l]:`${a}px`});return()=>{h==null||h(),n.scrollTo({left:g,top:c,behavior:"instant"})}},v=[o(),ha()?d():u()];return()=>{v.forEach(g=>g==null?void 0:g()),i.removeAttribute(Ja)}}var Cb=Ln("popover").parts("arrow","arrowTip","anchor","trigger","indicator","positioner","content","title","description","closeTrigger"),jt=Cb.build(),Bu=e=>{var t;return((t=e.ids)==null?void 0:t.anchor)??`popover:${e.id}:anchor`},zu=e=>{var t;return((t=e.ids)==null?void 0:t.trigger)??`popover:${e.id}:trigger`},zs=e=>{var t;return((t=e.ids)==null?void 0:t.content)??`popover:${e.id}:content`},Mu=e=>{var t;return((t=e.ids)==null?void 0:t.positioner)??`popover:${e.id}:popper`},Sb=e=>{var t;return((t=e.ids)==null?void 0:t.arrow)??`popover:${e.id}:arrow`},Ms=e=>{var t;return((t=e.ids)==null?void 0:t.title)??`popover:${e.id}:title`},Vs=e=>{var t;return((t=e.ids)==null?void 0:t.description)??`popover:${e.id}:desc`},Tb=e=>{var t;return((t=e.ids)==null?void 0:t.closeTrigger)??`popover:${e.id}:close`},Hl=e=>e.getById(Bu(e)),vr=e=>e.getById(zu(e)),pr=e=>e.getById(zs(e)),$l=e=>e.getById(Mu(e)),Ab=e=>e.getById(Ms(e)),Ib=e=>e.getById(Vs(e));function Ob(e,t){const{state:n,context:r,send:i,computed:s,prop:a,scope:o}=e,l=n.matches("open"),u=r.get("currentPlacement"),d=s("currentPortalled"),v=r.get("renderedElements"),g=ob({...a("positioning"),placement:u});return{portalled:d,open:l,setOpen(c){n.matches("open")!==c&&i({type:c?"OPEN":"CLOSE"})},reposition(c={}){i({type:"POSITIONING.SET",options:c})},getArrowProps(){return t.element({id:Sb(o),...jt.arrow.attrs,dir:a("dir"),style:g.arrow})},getArrowTipProps(){return t.element({...jt.arrowTip.attrs,dir:a("dir"),style:g.arrowTip})},getAnchorProps(){return t.element({...jt.anchor.attrs,dir:a("dir"),id:Bu(o)})},getTriggerProps(){return t.button({...jt.trigger.attrs,dir:a("dir"),type:"button","data-placement":u,id:zu(o),"aria-haspopup":"dialog","aria-expanded":l,"data-state":l?"open":"closed","aria-controls":zs(o),onPointerDown(c){Wi(c)&&to()&&c.currentTarget.focus()},onClick(c){c.defaultPrevented||i({type:"TOGGLE"})},onBlur(c){i({type:"TRIGGER_BLUR",target:c.relatedTarget})}})},getIndicatorProps(){return t.element({...jt.indicator.attrs,dir:a("dir"),"data-state":l?"open":"closed"})},getPositionerProps(){return t.element({id:Mu(o),...jt.positioner.attrs,dir:a("dir"),style:g.floating})},getContentProps(){return t.element({...jt.content.attrs,dir:a("dir"),id:zs(o),tabIndex:-1,role:"dialog","aria-modal":Hc(a("modal")),hidden:!l,"data-state":l?"open":"closed","data-expanded":Te(l),"aria-labelledby":v.title?Ms(o):void 0,"aria-describedby":v.description?Vs(o):void 0,"data-placement":u})},getTitleProps(){return t.element({...jt.title.attrs,id:Ms(o),dir:a("dir")})},getDescriptionProps(){return t.element({...jt.description.attrs,id:Vs(o),dir:a("dir")})},getCloseTriggerProps(){return t.button({...jt.closeTrigger.attrs,dir:a("dir"),id:Tb(o),type:"button","aria-label":"close",onClick(c){c.defaultPrevented||(c.stopPropagation(),i({type:"CLOSE"}))}})}}}var Lb={props({props:e}){return{closeOnInteractOutside:!0,closeOnEscape:!0,autoFocus:!0,modal:!1,portalled:!0,...e,positioning:{placement:"bottom",...e.positioning}}},initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"closed"},context({bindable:e}){return{currentPlacement:e(()=>({defaultValue:void 0})),renderedElements:e(()=>({defaultValue:{title:!0,description:!0}}))}},computed:{currentPortalled:({prop:e})=>!!e("modal")||!!e("portalled")},watch({track:e,prop:t,action:n}){e([()=>t("open")],()=>{n(["toggleVisibility"])})},entry:["checkRenderedElements"],states:{closed:{on:{"CONTROLLED.OPEN":{target:"open",actions:["setInitialFocus"]},TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}]}},open:{effects:["trapFocus","preventScroll","hideContentBelow","trackPositioning","trackDismissableElement","proxyTabFocus"],on:{"CONTROLLED.CLOSE":{target:"closed",actions:["setFinalFocus"]},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose","setFinalFocus"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"POSITIONING.SET":{actions:["reposition"]}}}},implementations:{guards:{isOpenControlled:({prop:e})=>e("open")!=null},effects:{trackPositioning({context:e,prop:t,scope:n}){e.set("currentPlacement",t("positioning").placement);const r=Hl(n)??vr(n);return Vl(r,()=>$l(n),{...t("positioning"),defer:!0,onComplete(s){e.set("currentPlacement",s.placement)}})},trackDismissableElement({send:e,prop:t,scope:n}){const r=()=>pr(n);let i=!0;return Hg(r,{type:"popover",pointerBlocking:t("modal"),exclude:vr(n),defer:!0,onEscapeKeyDown(s){var a;(a=t("onEscapeKeyDown"))==null||a(s),!t("closeOnEscape")&&s.preventDefault()},onInteractOutside(s){var a;(a=t("onInteractOutside"))==null||a(s),!s.defaultPrevented&&(i=!(s.detail.focusable||s.detail.contextmenu),t("closeOnInteractOutside")||s.preventDefault())},onPointerDownOutside:t("onPointerDownOutside"),onFocusOutside:t("onFocusOutside"),persistentElements:t("persistentElements"),onRequestDismiss:t("onRequestDismiss"),onDismiss(){e({type:"CLOSE",src:"interact-outside",restoreFocus:i})}})},proxyTabFocus({prop:e,scope:t}){return e("modal")||!e("portalled")?void 0:_v(()=>pr(t),{triggerElement:vr(t),defer:!0,onFocus(r){r.focus({preventScroll:!0})}})},hideContentBelow({prop:e,scope:t}){return e("modal")?pb(()=>[pr(t),vr(t)],{defer:!0}):void 0},preventScroll({prop:e,scope:t}){if(e("modal"))return Eb(t.getDoc())},trapFocus({prop:e,scope:t}){return e("modal")?xb(()=>pr(t),{initialFocus:()=>sl({root:pr(t),getInitialEl:e("initialFocusEl"),enabled:e("autoFocus")})}):void 0}},actions:{reposition({event:e,prop:t,scope:n,context:r}){const i=Hl(n)??vr(n);Vl(i,()=>$l(n),{...t("positioning"),...e.options,defer:!0,listeners:!1,onComplete(a){r.set("currentPlacement",a.placement)}})},checkRenderedElements({context:e,scope:t}){Pt(()=>{Object.assign(e.get("renderedElements"),{title:!!Ab(t),description:!!Ib(t)})})},setInitialFocus({prop:e,scope:t}){e("modal")||Pt(()=>{const n=sl({root:pr(t),getInitialEl:e("initialFocusEl"),enabled:e("autoFocus")});n==null||n.focus({preventScroll:!0})})},setFinalFocus({event:e,scope:t}){var r;const n=e.restoreFocus??((r=e.previousEvent)==null?void 0:r.restoreFocus);n!=null&&!n||Pt(()=>{const i=vr(t);i==null||i.focus({preventScroll:!0})})},invokeOnOpen({prop:e,flush:t}){t(()=>{var n;(n=e("onOpenChange"))==null||n({open:!0})})},invokeOnClose({prop:e,flush:t}){t(()=>{var n;(n=e("onOpenChange"))==null||n({open:!1})})},toggleVisibility({event:e,send:t,prop:n}){t({type:n("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:e})}}}};lr()(["autoFocus","closeOnEscape","closeOnInteractOutside","dir","getRootNode","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","onRequestDismiss","defaultOpen","open","persistentElements","portalled","positioning"]);var Rb=fe("<button><!></button>"),Pb=fe("<div><div></div></div>"),Db=fe("<div><!> <div><!></div></div>"),Nb=fe('<span data-testid="popover"><!> <div><!></div></span>');function Vr(e,t){const n=sa();be(t,!0);const r=j(t,"arrow",3,!1),i=j(t,"zIndex",3,"auto"),s=j(t,"base",3,""),a=j(t,"classes",3,""),o=j(t,"triggerBase",3,""),l=j(t,"triggerBackground",3,""),u=j(t,"triggerClasses",3,""),d=j(t,"triggerAriaLabel",3,""),v=j(t,"positionerBase",3,""),g=j(t,"positionerClasses",3,""),c=j(t,"contentBase",3,""),p=j(t,"contentBackground",3,""),f=j(t,"contentClasses",3,""),m=j(t,"arrowBase",3,""),h=j(t,"arrowBackground",3,"!bg-surface-200 dark:!bg-surface-800"),y=j(t,"arrowClasses",3,""),x=Fe(t,["$$slots","$$events","$$legacy","arrow","zIndex","base","classes","triggerBase","triggerBackground","triggerClasses","triggerAriaLabel","positionerBase","positionerClasses","contentBase","contentBackground","contentClasses","arrowBase","arrowBackground","arrowClasses","trigger","content","onclick"]),S=ma(Lb,()=>({id:n,...x})),k=ue(()=>Ob(S,ga)),A=ue(()=>fp(_(k).getTriggerProps(),{onclick:t.onclick}));var I=Nb(),R=q(I);{var O=L=>{var b=Rb();qe(b,()=>({..._(A),class:`${o()??""} ${l()??""} ${u()??""}`,type:"button","aria-label":d()}));var P=q(b);Pe(P,()=>t.trigger),H(b),Y(L,b)};Re(R,L=>{t.trigger&&L(O)})}var B=G(R,2);qe(B,L=>({...L,class:`${v()??""} ${g()??""}`}),[()=>_(k).getPositionerProps()]);var N=q(B);{var E=L=>{var b=Db();qe(b,$=>({...$,style:`z-index: ${i()??""};`}),[()=>_(k).getContentProps()]);var P=q(b);{var U=$=>{var ne=Pb();qe(ne,F=>({...F}),[()=>_(k).getArrowProps()]);var M=q(ne);qe(M,F=>({...F,class:`${m()??""} ${h()??""} ${y()??""}`}),[()=>_(k).getArrowTipProps()]),H(ne),Y($,ne)};Re(P,$=>{r()&&$(U)})}var V=G(P,2),J=q(V);Pe(J,()=>t.content??Ne),H(V),H(b),Ae(()=>ot(V,1,`${c()??""} ${p()??""} ${f()??""}`)),$d(3,b,()=>mp,()=>({duration:100})),Y(L,b)};Re(N,L=>{_(k).open&&L(E)})}H(B),Md(B,(L,b)=>Ga==null?void 0:Ga(L,b),()=>({disabled:!_(k).portalled})),H(I),Ae(()=>ot(I,1,`${s()??""} ${a()??""}`)),Y(e,I),ye()}var Qa={exports:{}},jl;function Fb(){return jl||(jl=1,(function(e,t){(function(n){e.exports=n()})(function(){return(function n(r,i,s){function a(u,d){if(!i[u]){if(!r[u]){var v=typeof On=="function"&&On;if(!d&&v)return v(u,!0);if(o)return o(u,!0);var g=new Error("Cannot find module '"+u+"'");throw g.code="MODULE_NOT_FOUND",g}var c=i[u]={exports:{}};r[u][0].call(c.exports,function(p){var f=r[u][1][p];return a(f||p)},c,c.exports,n,r,i,s)}return i[u].exports}for(var o=typeof On=="function"&&On,l=0;l<s.length;l++)a(s[l]);return a})({1:[function(n,r,i){function s(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}r.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._maxListeners=void 0,s.defaultMaxListeners=10,s.prototype.setMaxListeners=function(d){if(!o(d)||d<0||isNaN(d))throw TypeError("n must be a positive number");return this._maxListeners=d,this},s.prototype.emit=function(d){var v,g,c,p,f,m;if(this._events||(this._events={}),d==="error"&&(!this._events.error||l(this._events.error)&&!this._events.error.length)){if(v=arguments[1],v instanceof Error)throw v;var h=new Error('Uncaught, unspecified "error" event. ('+v+")");throw h.context=v,h}if(g=this._events[d],u(g))return!1;if(a(g))switch(arguments.length){case 1:g.call(this);break;case 2:g.call(this,arguments[1]);break;case 3:g.call(this,arguments[1],arguments[2]);break;default:p=Array.prototype.slice.call(arguments,1),g.apply(this,p)}else if(l(g))for(p=Array.prototype.slice.call(arguments,1),m=g.slice(),c=m.length,f=0;f<c;f++)m[f].apply(this,p);return!0},s.prototype.addListener=function(d,v){var g;if(!a(v))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",d,a(v.listener)?v.listener:v),this._events[d]?l(this._events[d])?this._events[d].push(v):this._events[d]=[this._events[d],v]:this._events[d]=v,l(this._events[d])&&!this._events[d].warned&&(u(this._maxListeners)?g=s.defaultMaxListeners:g=this._maxListeners,g&&g>0&&this._events[d].length>g&&(this._events[d].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[d].length),typeof console.trace=="function"&&console.trace())),this},s.prototype.on=s.prototype.addListener,s.prototype.once=function(d,v){if(!a(v))throw TypeError("listener must be a function");var g=!1;function c(){this.removeListener(d,c),g||(g=!0,v.apply(this,arguments))}return c.listener=v,this.on(d,c),this},s.prototype.removeListener=function(d,v){var g,c,p,f;if(!a(v))throw TypeError("listener must be a function");if(!this._events||!this._events[d])return this;if(g=this._events[d],p=g.length,c=-1,g===v||a(g.listener)&&g.listener===v)delete this._events[d],this._events.removeListener&&this.emit("removeListener",d,v);else if(l(g)){for(f=p;f-- >0;)if(g[f]===v||g[f].listener&&g[f].listener===v){c=f;break}if(c<0)return this;g.length===1?(g.length=0,delete this._events[d]):g.splice(c,1),this._events.removeListener&&this.emit("removeListener",d,v)}return this},s.prototype.removeAllListeners=function(d){var v,g;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[d]&&delete this._events[d],this;if(arguments.length===0){for(v in this._events)v!=="removeListener"&&this.removeAllListeners(v);return this.removeAllListeners("removeListener"),this._events={},this}if(g=this._events[d],a(g))this.removeListener(d,g);else if(g)for(;g.length;)this.removeListener(d,g[g.length-1]);return delete this._events[d],this},s.prototype.listeners=function(d){var v;return!this._events||!this._events[d]?v=[]:a(this._events[d])?v=[this._events[d]]:v=this._events[d].slice(),v},s.prototype.listenerCount=function(d){if(this._events){var v=this._events[d];if(a(v))return 1;if(v)return v.length}return 0},s.listenerCount=function(d,v){return d.listenerCount(v)};function a(d){return typeof d=="function"}function o(d){return typeof d=="number"}function l(d){return typeof d=="object"&&d!==null}function u(d){return d===void 0}},{}],2:[function(n,r,i){var s,a,o,l,u;u=navigator.userAgent.toLowerCase(),l=navigator.platform.toLowerCase(),s=u.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0],o=s[1]==="ie"&&document.documentMode,a={name:s[1]==="version"?s[3]:s[1],version:o||parseFloat(s[1]==="opera"&&s[4]?s[4]:s[2]),platform:{name:u.match(/ip(?:ad|od|hone)/)?"ios":(u.match(/(?:webos|android)/)||l.match(/mac|win|linux/)||["other"])[0]}},a[a.name]=!0,a[a.name+parseInt(a.version,10)]=!0,a.platform[a.platform.name]=!0,r.exports=a},{}],3:[function(n,r,i){var s,a,o,l=function(g,c){for(var p in c)u.call(c,p)&&(g[p]=c[p]);function f(){this.constructor=g}return f.prototype=c.prototype,g.prototype=new f,g.__super__=c.prototype,g},u={}.hasOwnProperty,d=[].indexOf||function(g){for(var c=0,p=this.length;c<p;c++)if(c in this&&this[c]===g)return c;return-1},v=[].slice;s=n("events").EventEmitter,o=n("./browser.coffee"),a=(function(g){var c,p;l(f,g),c={workerScript:"gif.worker.js",workers:2,repeat:0,background:"#fff",quality:10,width:null,height:null,transparent:null,debug:!1,dither:!1},p={delay:500,copy:!1};function f(m){var h,y,x;this.running=!1,this.options={},this.frames=[],this.freeWorkers=[],this.activeWorkers=[],this.setOptions(m);for(y in c)x=c[y],(h=this.options)[y]==null&&(h[y]=x)}return f.prototype.setOption=function(m,h){if(this.options[m]=h,this._canvas!=null&&(m==="width"||m==="height"))return this._canvas[m]=h},f.prototype.setOptions=function(m){var h,y,x;y=[];for(h in m)u.call(m,h)&&(x=m[h],y.push(this.setOption(h,x)));return y},f.prototype.addFrame=function(m,h){var y,x;h==null&&(h={}),y={},y.transparent=this.options.transparent;for(x in p)y[x]=h[x]||p[x];if(this.options.width==null&&this.setOption("width",m.width),this.options.height==null&&this.setOption("height",m.height),typeof ImageData<"u"&&ImageData!==null&&m instanceof ImageData)y.data=m.data;else if(typeof CanvasRenderingContext2D<"u"&&CanvasRenderingContext2D!==null&&m instanceof CanvasRenderingContext2D||typeof WebGLRenderingContext<"u"&&WebGLRenderingContext!==null&&m instanceof WebGLRenderingContext)h.copy?y.data=this.getContextData(m):y.context=m;else if(m.childNodes!=null)h.copy?y.data=this.getImageData(m):y.image=m;else throw new Error("Invalid image");return this.frames.push(y)},f.prototype.render=function(){var m,h,y;if(this.running)throw new Error("Already running");if(this.options.width==null||this.options.height==null)throw new Error("Width and height must be set prior to rendering");if(this.running=!0,this.nextFrame=0,this.finishedFrames=0,this.imageParts=(function(){var x,S,k;for(k=[],x=0,S=this.frames.length;0<=S?x<S:x>S;0<=S?++x:--x)k.push(null);return k}).call(this),h=this.spawnWorkers(),this.options.globalPalette===!0)this.renderNextFrame();else for(m=0,y=h;0<=y?m<y:m>y;0<=y?++m:--m)this.renderNextFrame();return this.emit("start"),this.emit("progress",0)},f.prototype.abort=function(){for(var m;m=this.activeWorkers.shift(),m!=null;)this.log("killing active worker"),m.terminate();return this.running=!1,this.emit("abort")},f.prototype.spawnWorkers=function(){var m,h,y;return m=Math.min(this.options.workers,this.frames.length),(function(){y=[];for(var x=h=this.freeWorkers.length;h<=m?x<m:x>m;h<=m?x++:x--)y.push(x);return y}).apply(this).forEach((function(x){return function(S){var k;return x.log("spawning worker "+S),k=new Worker(x.options.workerScript),k.onmessage=function(A){return x.activeWorkers.splice(x.activeWorkers.indexOf(k),1),x.freeWorkers.push(k),x.frameFinished(A.data)},x.freeWorkers.push(k)}})(this)),m},f.prototype.frameFinished=function(m){var h,y;if(this.log("frame "+m.index+" finished - "+this.activeWorkers.length+" active"),this.finishedFrames++,this.emit("progress",this.finishedFrames/this.frames.length),this.imageParts[m.index]=m,this.options.globalPalette===!0&&(this.options.globalPalette=m.globalPalette,this.log("global palette analyzed"),this.frames.length>2))for(h=1,y=this.freeWorkers.length;1<=y?h<y:h>y;1<=y?++h:--h)this.renderNextFrame();return d.call(this.imageParts,null)>=0?this.renderNextFrame():this.finishRendering()},f.prototype.finishRendering=function(){var m,h,y,x,S,k,A,I,R,O,B,N,E,L,b,P;for(I=0,L=this.imageParts,S=0,R=L.length;S<R;S++)h=L[S],I+=(h.data.length-1)*h.pageSize+h.cursor;for(I+=h.pageSize-h.cursor,this.log("rendering finished - filesize "+Math.round(I/1e3)+"kb"),m=new Uint8Array(I),N=0,b=this.imageParts,k=0,O=b.length;k<O;k++)for(h=b[k],P=h.data,y=A=0,B=P.length;A<B;y=++A)E=P[y],m.set(E,N),y===h.data.length-1?N+=h.cursor:N+=h.pageSize;return x=new Blob([m],{type:"image/gif"}),this.emit("finished",x,m)},f.prototype.renderNextFrame=function(){var m,h,y;if(this.freeWorkers.length===0)throw new Error("No free workers");if(!(this.nextFrame>=this.frames.length))return m=this.frames[this.nextFrame++],y=this.freeWorkers.shift(),h=this.getTask(m),this.log("starting frame "+(h.index+1)+" of "+this.frames.length),this.activeWorkers.push(y),y.postMessage(h)},f.prototype.getContextData=function(m){return m.getImageData(0,0,this.options.width,this.options.height).data},f.prototype.getImageData=function(m){var h;return this._canvas==null&&(this._canvas=document.createElement("canvas"),this._canvas.width=this.options.width,this._canvas.height=this.options.height),h=this._canvas.getContext("2d"),h.setFill=this.options.background,h.fillRect(0,0,this.options.width,this.options.height),h.drawImage(m,0,0),this.getContextData(h)},f.prototype.getTask=function(m){var h,y;if(h=this.frames.indexOf(m),y={index:h,last:h===this.frames.length-1,delay:m.delay,transparent:m.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:o.name==="chrome"},m.data!=null)y.data=m.data;else if(m.context!=null)y.data=this.getContextData(m.context);else if(m.image!=null)y.data=this.getImageData(m.image);else throw new Error("Invalid frame");return y},f.prototype.log=function(){var m;if(m=1<=arguments.length?v.call(arguments,0):[],!!this.options.debug)return console.log.apply(console,m)},f})(s),r.exports=a},{"./browser.coffee":2,events:1}]},{},[3])(3)})})(Qa)),Qa.exports}var Bb=Fb();const zb=Br(Bb),Mb=(e,t)=>{const{width:n,height:r,frames:i,ways:s}=zn,a=new Wc;for(let o=0;o<s;o++)for(let l=0;l<i;l++){const u=Gt(l,o),d=Mt.get(u);if(!d)continue;const v=document.createElement("canvas");v.width=n,v.height=r;const g=v.getContext("2d",{willReadFrequently:!0});if(!g)continue;g.imageSmoothingEnabled=!1,g.drawImage(d,0,0,d.width,d.height,0,0,n,r);const p=v.toDataURL("image/png").split(",")[1];a.file(`frame_${o+1}_${l+1}.png`,p,{base64:!0})}a.generateAsync({type:"blob"}).then(o=>{const l=URL.createObjectURL(o);t(l,"frames.zip")})},Vb=(e,t,n,r,i)=>{const{frames:s}=zn,a=Math.floor(t()/s)*s,o=`${[...Array(3)].map(()=>ph(0,4).toString(16).padStart(2,"0")).join("")}`,l=new zb({workers:2,quality:10,width:n.width,height:n.height,workerScript:"gif.worker.js",transparent:`0x${o}`}),u=1e3/r()|0;for(let d=0;d<s;d++){const v=document.createElement("canvas");v.width=n.width,v.height=n.height;const g=v.getContext("2d",{willReadFrequently:!0});if(!g)return;g.fillStyle=`#${o}`,g.fillRect(0,0,n.width,n.height);const c=Mt.get(a+d);c&&g.drawImage(c,0,0),l.addFrame(v,{delay:u})}l.on("finished",d=>{const v=URL.createObjectURL(d);i(v,`frames_${a+1}.gif`)}),l.render()},Ub=async(e,t)=>{const n=await fh(zn),r=URL.createObjectURL(n);t(r,"cursors.zip")};var Wb=(e,t)=>{te(t,!1)},Hb=fe('<header class="flex justify-between"><p class="font-bold text-xl">歩行グラの出力</p> <button class="btn-icon hover:preset-tonal"><!></button></header> <article class="space-y-4"><p class="opacity-60">ダウンロードします</p> <div class="pt-2"><button type="button" class="w-full px-4 py-2 rounded-lg bg-gray-500 text-white hover:bg-gray-600 transition" aria-label="submit">ANI出力</button></div> <div class="pt-2"><button type="button" class="w-full px-4 py-2 rounded-lg bg-gray-500 text-white hover:bg-gray-600 transition" aria-label="submit">GIF出力</button></div> <div class="pt-2"><button type="button" class="w-full px-4 py-2 rounded-lg bg-gray-500 text-white hover:bg-gray-600 transition" aria-label="submit">ZIP出力</button></div> <div class="pt-2"><button type="button" class="w-full px-4 py-2 rounded-lg bg-blue-500 text-white hover:bg-blue-600 transition" aria-label="submit">PNG出力</button></div></article>',1);function $b(e,t){be(t,!0);const n=()=>Qe(Jn,"$activeIndex",i),r=()=>Qe(Nn,"$fps",i),[i,s]=tn();let a=pe(!1);const o=(u,d)=>{const v=document.createElement("a");v.href=u,v.download=d,v.click()},l=()=>{const{width:u,height:d,frames:v,ways:g}=zn,c=document.createElement("canvas");c.width=u*v,c.height=d*g;const p=c.getContext("2d",{willReadFrequently:!0});if(!p)return;p.imageSmoothingEnabled=!1;for(let m=0;m<g;m++)for(let h=0;h<v;h++){const y=Gt(h,m),x=Mt.get(y);x&&p.drawImage(x,0,0,x.width,x.height,h*u,m*d,u,d)}const f=c.toDataURL("image/png");o(f,"sprite_sheet.png")};Vr(e,{get open(){return _(a)},onOpenChange:v=>te(a,v.open,!0),positioning:{placement:"top"},triggerBase:"btn preset-tonal",contentBase:"card bg-surface-300 p-4 space-y-4 max-w-[320px]",arrow:!0,arrowBackground:"!bg-surface-300 dark:!bg-surface-800",trigger:v=>{lt();var g=rr("出力");Y(v,g)},content:v=>{var g=Hb(),c=de(g),p=G(q(c),2);p.__click=[Wb,a];var f=q(p);Fr(f,{}),H(p),H(c);var m=G(c,2),h=G(q(m),2),y=q(h);y.__click=[Ub,o],H(h);var x=G(h,2),S=q(x);S.__click=[Vb,n,t,r,o],H(x);var k=G(x,2),A=q(k);A.__click=[Mb,o],H(k);var I=G(k,2),R=q(I);R.__click=l,H(I),H(m),Y(v,g)},$$slots:{trigger:!0,content:!0}}),ye(),s()}ht(["click"]);const Vu=e=>{const t=Mi(),{width:n,height:r,frames:i,ways:s}=zn,a=document.createElement("canvas");a.width=Bt(Zt)?n:n*i,a.height=Bt(Zt)?r:r*s;const o=a.getContext("2d",{willReadFrequently:!0});if(!o)return;if(o.imageSmoothingEnabled=!1,Bt(Zt)){const v=e.naturalWidth,g=e.naturalHeight,c=Math.min(n/v,r/g),p=v*c,f=g*c,m=(n-p)/2,h=(r-f)/2;o.drawImage(e,m,h,p,f)}else o.drawImage(e,0,0);const{data:l}=o.getImageData(0,0,a.width,a.height),u=Bt(Zt)?1:s,d=Bt(Zt)?1:i;for(let v=0;v<u;v++)for(let g=0;g<d;g++){const c=new Yt("半透明"),p=new Yt("不透明");let f=0,m=0;const h=n*d;for(let A=0;A<r;A++)for(let I=0;I<n;I++){const R=g*n+I,B=((v*r+A)*h+R)*4,[N,E,L,b]=l.subarray(B,B+4);b&&(b===255?(Rn.value=`rgb(${N}, ${E}, ${L})`,p.drawByDot(I*t,A*t),p.used=!0):(Rn.value=`rgb(${N}, ${E}, ${L})`,c.drawByDot(I*t,A*t),c.used=!0,f+=b,m++))}p.trace(),c.trace(),p.opacity=Bt(er),m&&(c.opacity=Bt(er)*f/m/255|0);const y=Gt(g,v),x=[c.used?c:[],p,Bt(Ar)?new Yt("トレース台"):[]].flat();Qn.set(y,x);const S=xr();Mt.set(y,S);const k=S.toDataURL("image/png");si.set(y,k),Tr([])}};var jb=e=>e[Math.floor(Math.random()*e.length)],qb=[e=>e==="i.imgur.com",e=>e.endsWith("github.io"),e=>e.endsWith("raw.githubusercontent.com"),e=>e==="cdn.jsdelivr.net",e=>e==="upload.wikimedia.org",e=>e==="images.unsplash.com",e=>e.endsWith("googleusercontent.com"),e=>e.endsWith("picsum.photos"),e=>e==="placehold.co",e=>e==="dummyimage.com"],go=e=>{let t="";try{const r=new URL(e);if(t=r.href,r.protocol==="data:"||qb.some(i=>i(r.hostname)))return t}catch{return""}const n=jb([`https://api.allorigins.win/raw?url=${t}`,`https://corsproxy.io/?${t}`,`https://api.codetabs.com/v1/proxy?quest=${t}`]);return n||""};const Gb=(e,t)=>{var r,i;const n=(i=(r=e.target)==null?void 0:r.files)==null?void 0:i[0];if(n){const s=new FileReader;s.onload=async()=>{const a=An(zc,s.result);if(a.success)if(/\.ani$/i.test(n.name)){const o=await n.arrayBuffer();He(Jt,await vh(o))}else He(Jt,a.output)},s.readAsDataURL(n)}},Zb=async(e,t,n,r,i,s)=>{if(!t()||!_(n)||_(n).naturalWidth===0||!confirm("歩行グラを読み込みますか？（※全てのデータは失われます）"))return;r.init(),Vu(_(n));const a=Qn.get(0);a&&(Tr(a),i(a[a.length-1]),s(performance.now()))};var Kb=(e,t)=>{te(t,!1)},Xb=(e,t,n)=>{const r=t.find(i=>i.label===e.currentTarget.value);r&&He(Jt,r.url)},Yb=fe("<option> </option>"),Jb=fe('<div class="mt-4 max-h-32 overflow-auto border rounded p-2"><img alt="インポート画像" class="max-w-96 object-contain rounded border" crossorigin="anonymous"/></div>'),Qb=fe('<header class="flex justify-between"><p class="font-bold text-xl">歩行グラの読み込み</p> <button class="btn-icon hover:preset-tonal"><!></button></header> <article class="space-y-4"><p class="opacity-60">先にリサイズしてください</p> <a href="https://github.com/rpgja/rpgen-walk/tree/main?tab=readme-ov-file#%E5%90%8C%E6%A2%B1%E7%B4%A0%E6%9D%90%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6--about-included-assets" target="_blank" rel="noopener noreferrer" class="text-blue-800 hover:underline">同梱素材の利用規約はこちら</a> <label class="flex flex-col"><span class="label-text font-medium">テンプレ</span> <select class="select select-bordered w-full bg-white"><option>自動入力</option><!></select></label> <div class="relative flex-1"><input name="url" type="url" placeholder="画像のURLを入力" class="input input-bordered w-full pr-8 bg-white"/> <!></div> <div><label class="label"><span class="label-text">ローカル保存ファイルから読み込む</span> <input class="input" type="file" accept="image/*,.cur,.ani"/></label></div> <!> <div class="space-y-0"><div class="flex items-center gap-4 max-w-[360px]"><div class="w-[20ch] flex justify-between font-mono text-sm tabular-nums"><span class="text-left">不透明度</span> <span class="text-right"> </span></div> <!></div> <label class="flex items-center space-x-2"><input class="checkbox" type="checkbox"/> <p>トレース台を追加する</p></label> <label class="flex items-center space-x-2"><input class="checkbox" type="checkbox"/> <p>1枚絵として読み込む</p></label></div> <div class="pt-2"><button type="button" class="btn btn-primary w-full bg-blue-500 text-white rounded hover:bg-blue-600" aria-label="submit">読み込む</button></div></article>',1);function e0(e,t){be(t,!0);const n=()=>Qe(Jt,"$imageUrl",a),r=()=>Qe(er,"$opacity",a),i=()=>Qe(Ar,"$isAddEmptyLayer",a),s=()=>Qe(Zt,"$isSimpleImport",a),[a,o]=tn();let l=j(t,"activeLayer",15),u=j(t,"initTimestamp",15),d=pe(!1),v=pe(void 0),g;const c=[{label:"鍵山雛",url:"https://rpgen.cc/dq/sAnims/res/1920.png"},{label:"ドレミー",url:"https://rpgen.cc/dq/sAnims/res/1919.png"},{label:"八雲紫",url:"https://rpgen.cc/dq/sAnims/res/1282.png"},{label:"天子",url:"https://rpgen.cc/dq/sAnims/res/1891.png"},{label:"純狐",url:"https://rpgen.cc/dq/sAnims/res/1894.png"},{label:"ヘカーティア",url:"https://rpgen.cc/dq/sAnims/res/1884.png"},{label:"妹紅",url:"https://rpgen.cc/dq/sAnims/res/1874.png"},{label:"小鈴",url:"https://rpgen.cc/dq/sAnims/res/1526.png"},{label:"阿求",url:"https://rpgen.cc/dq/sAnims/res/1527.png"},{label:"マミゾウ",url:"https://rpgen.cc/dq/sAnims/res/1882.png"},{label:"袿姫",url:"https://rpgen.cc/dq/sAnims/res/2116.png"},{label:"残無",url:"https://rpgen.cc/dq/sAnims/res/2115.png"}];Vr(e,{get open(){return _(d)},onOpenChange:m=>te(d,m.open,!0),positioning:{placement:"top"},triggerBase:"btn preset-tonal",contentBase:"card bg-surface-300 p-4 space-y-4 max-w-[320px] w-[320px]",arrow:!0,arrowBackground:"!bg-surface-300 dark:!bg-surface-800",trigger:m=>{lt();var h=rr("読み込み");Y(m,h)},content:m=>{var h=Qb(),y=de(h),x=G(q(y),2);x.__click=[Kb,d];var S=q(x);Fr(S,{}),H(x),H(y);var k=G(y,2),A=G(q(k),4),I=G(q(A),2);I.__change=[Xb,c,n];var R=q(I);R.value=R.__value="";var O=G(R);mt(O,17,()=>c,gt,(ce,xe,Be,De)=>{var w=Yb(),Z=q(w,!0);H(w);var z={};Ae(()=>{it(Z,_(xe).label),z!==(z=_(xe).label)&&(w.value=(w.__value=_(xe).label)??"")}),Y(ce,w)}),H(I),H(A);var B=G(A,2),N=q(B);Ge(N);var E=G(N,2);Ir(E,{class:"absolute right-2 top-2.5 text-gray-400",size:16,onclick:()=>{He(Jt,"")}}),H(B);var L=G(B,2),b=q(L),P=G(q(b),2);P.__change=[Gb,n],Ct(P,ce=>g=ce,()=>g),H(b),H(L);var U=G(L,2);{var V=ce=>{var xe=Jb(),Be=q(xe);Ct(Be,De=>te(v,De),()=>_(v)),H(xe),Ae(De=>Ve(Be,"src",De),[()=>go(n())]),Y(ce,xe)};Re(U,ce=>{n()&&ce(V)})}var J=G(U,2),$=q(J),ne=q($),M=G(q(ne),2),F=q(M);H(M),H(ne);var oe=G(ne,2);{let ce=ue(()=>[r()]);oo(oe,{get value(){return _(ce)},onValueChange:xe=>He(er,xe.value[0]),markers:[25,50,75]})}H($);var re=G($,2),X=q(re);Ge(X),lt(2),H(re);var Ee=G(re,2),_e=q(Ee);Ge(_e),lt(2),H(Ee),H(J);var me=G(J,2),Ce=q(me);Ce.__click=[Zb,n,v,t,l,u],H(me),H(k),Ae(()=>it(F,`${r()??""}%`)),pn(N,n,ce=>He(Jt,ce)),ii(X,i,ce=>He(Ar,ce)),ii(_e,s,ce=>He(Zt,ce)),Y(m,h)},$$slots:{trigger:!0,content:!0}}),ye(),o()}ht(["click","change"]);function t0(e,t){var r,i;const n=(i=(r=e.target)==null?void 0:r.files)==null?void 0:i[0];if(n){const s=new FileReader;s.onload=()=>{te(t,s.result,!0)},s.readAsDataURL(n)}}var n0=(e,t,n)=>{const r=t.find(i=>i.label===e.currentTarget.value);r&&te(n,r.url,!0)},r0=fe("<option> </option>"),i0=fe('<div class="mt-4 max-h-96 overflow-auto border rounded p-2"><img alt="模写用" class="w-full max-w-96 object-contain rounded border"/></div>'),a0=fe('<div class="space-y-4 p-4 bg-surface-100 rounded-xl"><h2 class="text-lg font-semibold">模写用</h2> <label class="flex flex-col"><span class="label-text font-medium">テンプレ</span> <select class="select select-bordered w-full bg-white"><option>自動入力</option><!></select></label> <div class="relative flex-1"><input name="url" type="url" placeholder="画像のURLを入力" class="input input-bordered w-full pr-8 bg-white"/> <!></div> <div><label class="label"><span class="label-text">ローカル保存ファイルから読み込む</span> <input class="input" type="file" accept="image/*"/></label></div> <!></div>');function s0(e,t){be(t,!0);let n=pe(""),r;const i=[{label:"鍵山雛",url:"https://i.imgur.com/Wd713Fe.png"},{label:"ドレミー",url:"https://i.imgur.com/vENwj1P.png"},{label:"八雲紫",url:"https://i.imgur.com/OLpXzvs.png"},{label:"カナ",url:"https://i.imgur.com/rgekbAz.png"},{label:"天子",url:"https://i.imgur.com/R6oYJge.png"},{label:"フラン",url:"https://i.imgur.com/Y126OqA.png"}];var s=a0(),a=G(q(s),2),o=G(q(a),2);o.__change=[n0,i,n];var l=q(o);l.value=l.__value="";var u=G(l);mt(u,17,()=>i,gt,(y,x)=>{var S=r0(),k=q(S,!0);H(S);var A={};Ae(()=>{it(k,_(x).label),A!==(A=_(x).label)&&(S.value=(S.__value=_(x).label)??"")}),Y(y,S)}),H(o),H(a);var d=G(a,2),v=q(d);Ge(v);var g=G(v,2);Ir(g,{class:"absolute right-2 top-2.5 text-gray-400",size:16,onclick:()=>{te(n,"")}}),H(d);var c=G(d,2),p=q(c),f=G(q(p),2);f.__change=[t0,n],Ct(f,y=>r=y,()=>r),H(p),H(c);var m=G(c,2);{var h=y=>{var x=i0(),S=q(x);H(x),Ae(()=>Ve(S,"src",_(n))),Y(y,x)};Re(m,y=>{_(n)&&y(h)})}H(s),pn(v,()=>_(n),y=>te(n,y)),Y(e,s),ye()}ht(["change"]);const o0=(e,t,n)=>{t(new Yt(`レイヤー #${_(n).length+1}`))};var l0=()=>{},c0=(e,t,n)=>t(_(n)),u0=(e,t,n)=>t(_(n)),d0=(e,t,n)=>t(_(n)),f0=fe('<li><div tabindex="0" role="button" class="flex flex-grow items-center space-x-2"><div class="gimp-checkered-background relative w-8 h-8 rounded overflow-hidden"><div class="w-full h-full bg-center bg-cover"></div></div> <div><p class="text-sm font-medium truncate max-w-[128px]"> </p> <div class="flex items-center text-xs text-gray-500 space-x-1"><!> <!> <span> </span></div></div></div> <div class="flex space-x-1"><button class="p-1 text-gray-500 hover:text-blue-500"><!></button> <button class="p-1 text-gray-500 hover:text-blue-500"><!></button></div></li>'),h0=fe('<div class="p-4 bg-white rounded shadow-md w-full max-w-md mx-auto max-h-[50vh] flex flex-col select-none"><div class="flex items-center text-xs text-gray-500"><!> 最背面</div> <ul class="divide-y divide-gray-200 overflow-auto flex-1 min-h-0"></ul> <div class="flex items-center text-xs text-gray-500"><!> 最前面</div> <button class="flex items-center justify-center py-1 bg-blue-500 text-white rounded hover:bg-blue-600"><!> レイヤー追加</button></div>');function v0(e,t){be(t,!0);let n=j(t,"activeLayer",15,void 0),r=pe(ft([]));Me(()=>{n()&&te(r,_r(),!0)});const i=p=>{const{prev:f}=p;f&&(p.swap(f.index),te(r,_r(),!0))},s=p=>{const{next:f}=p;f&&(p.swap(f.index),te(r,_r(),!0))};var a=h0(),o=q(a),l=q(o);qn(l,{class:"w-4 h-4 mr-1"}),lt(),H(o);var u=G(o,2);mt(u,21,()=>_(r),gt,(p,f,m)=>{var h=ge(),y=de(h);Di(y,()=>n()===_(f)?t.pointerupTimestamp:"noop",x=>{var S=f0(),k=q(S);k.__keydown=[l0],k.__click=[c0,n,f];var A=q(k),I=q(A);H(A);var R=G(A,2),O=q(R),B=q(O,!0);H(O);var N=G(O,2),E=q(N);{var L=oe=>{ws(oe,{class:"w-4 h-4",onclick:()=>_(f).visible=!1})},b=oe=>{_f(oe,{class:"w-4 h-4",onclick:()=>_(f).visible=!0})};Re(E,oe=>{_(f).visible?oe(L):oe(b,!1)})}var P=G(E,2);Ir(P,{class:"w-4 h-4",onclick:()=>{if(_(f).locked||_(f).used&&!confirm(`${_(f).name}を削除しますか？`))return;_(f).delete();const{prev:oe,next:re}=_(f);re?n(re):oe&&n(oe)}});var U=G(P,2),V=q(U);H(U),H(N),H(R),H(k);var J=G(k,2),$=q(J);$.__click=[u0,s,f];var ne=q($);ys(ne,{class:"w-4 h-4"}),H($);var M=G($,2);M.__click=[d0,i,f];var F=q(M);qn(F,{class:"w-4 h-4"}),H(M),H(J),H(S),Ae(oe=>{ot(S,1,`flex items-center justify-between p-2 cursor-pointer ${n()===_(f)?"bg-blue-100":"hover:bg-gray-100"}`),Xt(I,`background-image: url(${oe??""});`),it(B,_(f).name),it(V,`${_(f).opacity??""}%`)},[()=>_(f).canvas.toDataURL("image/png")]),Y(x,S)}),Y(p,h)}),H(u);var d=G(u,2),v=q(d);ys(v,{class:"w-4 h-4 mr-1"}),lt(),H(d);var g=G(d,2);g.__click=[o0,n,r];var c=q(g);Of(c,{class:"w-4 h-4 mr-2"}),lt(),H(g),H(a),Y(e,a),ye()}ht(["keydown","click"]);const p0=async()=>{for(const e of _r()){const{canvas:t,ctx:n}=e,r=n.getImageData(0,0,t.width,t.height),i=await createImageBitmap(r);e.clear(),n.save(),n.scale(-1,1),n.drawImage(i,-t.width,0),n.restore(),e.trace()}},g0=(e,t)=>{const r=xr().getContext("2d",{willReadFrequently:!0});if(!r)return;const{width:i,height:s}=zn,a=Mi(),{data:o}=r.getImageData(0,0,i*a,s*a);for(let l=0;l<s;l++)for(let u=0;u<i;u++){const d=(u+i*l*a)*a*4,[v,g,c,p]=o.subarray(d,d+4);if(!p)for(let f=0;f<9;f++){if(f===4)continue;const m=u+f%3-1,h=l+(f/3|0)-1;if(m<0||m>=i||h<0||h>=s)continue;const y=(m+i*h*a)*a*4,[x,S,k,A]=o.subarray(y,y+4);if(A){t.activeLayer.drawByDot(u*a,l*a);break}}}t.activeLayer.trace()};var m0=(e,t)=>{te(t,!1)},b0=fe('<header class="flex justify-between"><p class="font-bold text-xl">自動操作</p> <button class="btn-icon hover:preset-tonal"><!></button></header> <article class="space-y-4"><p class="opacity-60">自動お絵描き</p> <div class="pt-2"><button type="button" class="w-full px-4 py-2 rounded-lg bg-gray-500 text-white hover:bg-gray-600 transition" aria-label="submit">左右反転</button></div> <div class="pt-2"><button type="button" class="w-full px-4 py-2 rounded-lg bg-gray-500 text-white hover:bg-gray-600 transition" aria-label="submit">輪郭塗り</button></div></article>',1);function y0(e,t){be(t,!0);let n=pe(!1);Vr(e,{get open(){return _(n)},onOpenChange:s=>te(n,s.open,!0),positioning:{placement:"top"},triggerBase:"btn preset-tonal",contentBase:"card bg-surface-300 p-4 space-y-4 max-w-[320px]",arrow:!0,arrowBackground:"!bg-surface-300 dark:!bg-surface-800",trigger:s=>{lt();var a=rr("マクロ");Y(s,a)},content:s=>{var a=b0(),o=de(a),l=G(q(o),2);l.__click=[m0,n];var u=q(l);Fr(u,{}),H(l),H(o);var d=G(o,2),v=G(q(d),2),g=q(v);g.__click=[p0],H(v);var c=G(v,2),p=q(c);p.__click=[g0,t],H(c),H(d),Y(s,a)},$$slots:{trigger:!0,content:!0}}),ye()}ht(["click"]);var w0=(e,t)=>{te(t,!1)},_0=fe('<header class="flex justify-between"><p class="font-bold text-xl">操作方法</p> <button class="btn-icon hover:preset-tonal"><!></button></header> <article class="opacity-60"><p>右クリック：カラーピッカー</p> <p>Ctrl + 1：ペン</p> <p>Ctrl + 2：消しゴム</p> <p>Ctrl + 3：カラーピッカー</p> <p>Ctrl + 4：塗りつぶし</p> <p>Ctrl + 5：ハンドツール</p> <p>Ctrl + E：常に消しゴム</p> <p>Ctrl + F：左右反転</p> <p>Ctrl + G：グリッド表示</p> <p>Ctrl + D：ダークモード</p> <p>Ctrl + O：オニオンスキン</p> <p>Ctrl + Z：戻す</p> <p>Ctrl + Shift + Z：やり直す</p> <p>Ctrl + S：保存</p> <p>Ctrl + C：コピー</p> <p>Ctrl + V：貼り付け</p> <p>画像ドロップ：貼り付け</p> <p>モニターサイズは24インチ以上推奨</p></article>',1);function x0(e){let t=pe(!1);Vr(e,{get open(){return _(t)},onOpenChange:i=>te(t,i.open,!0),positioning:{placement:"top"},triggerBase:"btn preset-tonal",contentBase:"card bg-surface-300 p-4 space-y-4 max-w-[320px]",arrow:!0,arrowBackground:"!bg-surface-300 dark:!bg-surface-800",trigger:i=>{lt();var s=rr("説明書");Y(i,s)},content:i=>{var s=_0(),a=de(s),o=G(q(a),2);o.__click=[w0,t];var l=q(o);Fr(l,{}),H(o),H(a),lt(2),Y(i,s)},$$slots:{trigger:!0,content:!0}})}ht(["click"]);var k0=fe('<canvas class="border border-gray-300 gimp-checkered-background"></canvas>');function E0(e,t){be(t,!0);const n=()=>Qe(Jn,"$activeIndex",i),r=()=>Qe(Nn,"$fps",i),[i,s]=tn(),a=192;let o=pe(0);Me(()=>{t.initTimestamp&&te(o,Math.floor(a*ar/ir),!0)});const l=g=>{u=requestAnimationFrame(l);const{frames:c}=zn,p=Math.floor(n()/c)*c,f=Dt,y=(g/1e3*r()|0)%f;if(!p&&p!==0||!_(d))return;const x=_(d).getContext("2d",{willReadFrequently:!0});if(!x)return;x.clearRect(0,0,_(d).width,_(d).height);const S=Mt.get(p+y);S&&x.drawImage(S,0,0,_(d).width,_(d).height)};Me(()=>{if(_(d))return l(0),()=>cancelAnimationFrame(u)});let u,d=pe(void 0);var v=k0();Ve(v,"width",a),Ct(v,g=>te(d,g),()=>_(d)),Ae(()=>Ve(v,"height",_(o))),Y(e,v),ye(),s()}var C0=fe('<canvas class="border border-gray-300 gimp-checkered-background"></canvas>'),S0=fe('<div class="grid grid-cols-3 gap-2"></div>');function T0(e,t){be(t,!0);const n=()=>Qe(Nn,"$fps",r),[r,i]=tn(),s=48;let a=pe(0);Me(()=>{t.initTimestamp&&te(a,Math.floor(s*ar/ir),!0)});const o=[ke.q,ke.w,ke.e,ke.a,null,ke.d,ke.z,ke.s,ke.c],l=[ke.s,ke.a,ke.w,ke.d],u=[ke.s,ke.z,ke.a,ke.q,ke.w,ke.e,ke.d,ke.c],d=p=>{v=requestAnimationFrame(d);const f=Dt,h=p/1e3*n()|0,y=f!==3?h%f:2-Math.abs(2-h%4),x=h/(8/f)|0;for(const[S,k]of o.entries())if(k===null){const A=oa;if(A!==4&&A!==8)continue;const R=(A===4?l:u)[x%A],O=ai.get(R);if(!O&&O!==0)continue;const B=Mt.get(O+y);if(!B)continue;const N=g[S];if(!N)continue;const E=N.getContext("2d",{willReadFrequently:!0});if(!E)continue;E.clearRect(0,0,N.width,N.height),E.drawImage(B,0,0,N.width,N.height)}else{const A=ai.get(k);if(!A&&A!==0)continue;const I=g[S];if(!I)continue;const R=I.getContext("2d",{willReadFrequently:!0});if(!R)continue;R.clearRect(0,0,I.width,I.height);const O=Mt.get(A+y);if(!O)continue;R.drawImage(O,0,0,I.width,I.height)}};Me(()=>{if(g)return d(0),()=>cancelAnimationFrame(v)});let v,g=ft(Array(o.length));var c=S0();mt(c,21,()=>g,gt,(p,f,m)=>{var h=C0();Ve(h,"width",s),Ct(h,(y,x)=>g[x]=y,y=>g==null?void 0:g[y],()=>[m]),Ae(()=>Ve(h,"height",_(a))),Y(p,h)}),H(c),Y(e,c),ye(),i()}var A0=fe("<option> </option>"),I0=fe("<option> </option>"),O0=fe('<div class="max-w-xs flex flex-col gap-4"><label class="flex flex-col"><select class="select select-bordered w-full bg-white"></select></label> <label class="flex flex-col"><select class="select select-bordered w-full bg-white"></select></label> <!></div>');function L0(e,t){be(t,!0);const n=()=>Qe(Nn,"$fps",i),r=()=>Qe(Vi,"$preview",i),[i,s]=tn(),a=[{value:0,label:"歩行グラ"},{value:1,label:"シンプル"}];var o=O0(),l=q(o),u=q(l);u.__change=h=>{const{value:y}=h.currentTarget,x=Number(y);He(Nn,x),xc.value=String(x)},mt(u,20,()=>[2,3,4,5,6,7,8],gt,(h,y)=>{var x=A0(),S=q(x);H(x);var k={};Ae(()=>{it(S,`${y??""}fps`),k!==(k=y)&&(x.value=(x.__value=y)??"")}),Y(h,x)}),H(u);var d;ss(u),H(l);var v=G(l,2),g=q(v);g.__change=h=>{const{value:y}=h.currentTarget,x=Number(y);He(Vi,x),kc.value=y},mt(g,21,()=>a,gt,(h,y)=>{var x=I0(),S=q(x,!0);H(x);var k={};Ae(()=>{it(S,_(y).label),k!==(k=_(y).value)&&(x.value=(x.__value=_(y).value)??"")}),Y(h,x)}),H(g);var c;ss(g),H(v);var p=G(v,2);{var f=h=>{T0(h,{get initTimestamp(){return t.initTimestamp}})},m=h=>{var y=ge(),x=de(y);{var S=k=>{E0(k,{get initTimestamp(){return t.initTimestamp}})};Re(x,k=>{r()===1&&k(S)},!0)}Y(h,y)};Re(p,h=>{r()===0?h(f):h(m,!1)})}H(o),Ae(()=>{d!==(d=n())&&(u.value=(u.__value=n())??"",os(u,n())),c!==(c=r())&&(g.value=(g.__value=r())??"",os(g,r()))}),Y(e,o),ye(),s()}ht(["change"]);var R0=(e,t)=>{te(t,!1)},P0=(e,t,n,r,i,s)=>{const a=la.find(o=>o.label===e.currentTarget.value);a&&(te(t,a.w,!0),te(n,a.h,!0),te(r,a.frames,!0),te(i,oi(a.ways),!0),te(s,a.label,!0))},D0=fe("<option> </option>"),N0=fe('<header class="flex justify-between"><p class="font-bold text-xl">コマ数 / サイズ変更</p> <button class="btn-icon hover:preset-tonal"><!></button></header> <article class="space-y-4"><p class="opacity-60">ツクールの規格に対応できます</p> <label class="flex flex-col"><span class="label-text font-medium">テンプレ</span> <select class="select select-bordered w-full bg-white"><option>自動入力</option><!></select></label> <label class="flex flex-col gap-1"><span class="label-text font-medium">幅</span> <input type="number" placeholder="例: 48"/></label> <label class="flex flex-col gap-1"><span class="label-text font-medium">高さ</span> <input type="number" placeholder="例: 48"/></label> <label class="flex flex-col gap-1"><span class="label-text font-medium">コマ数</span> <input type="number" placeholder="例: 3"/></label> <label class="flex flex-col gap-1"><span class="label-text font-medium">方向転換</span> <input type="text" placeholder="例: wasdqezc"/> <p class="opacity-60 text-xs">wasd(前後左右)+qezc(ナナメ)</p></label> <div class="pt-2"><button type="button" class="btn btn-primary w-full bg-blue-500 text-white rounded hover:bg-blue-600" aria-label="submit">初期化の実行</button></div></article>',1);function F0(e,t){be(t,!0);const[n,r]=tn();let i=j(t,"activeLayer",15),s=j(t,"initTimestamp",15),a=pe(!1),o=pe(void 0),l=pe(0),u=pe(0),d=pe(0),v=pe(""),g=pe(ft(new Set));Me(()=>{const p=An(c,{width:Ht.url.searchParams.get("w"),height:Ht.url.searchParams.get("h"),frames:Ht.url.searchParams.get("frames"),ways:Ht.url.searchParams.get("ways")});p.success?Ni(p.output.width,p.output.height,p.output.frames,p.output.ways):Ni(Sn.w,Sn.h,Sn.frames,oi(Sn.ways)),t.init(),te(l,ir,!0),te(u,ar,!0),te(d,Dt,!0),te(v,oi(At),!0);const f=Ht.url.searchParams.get("opacity");f!==null&&He(er,Number(f)),He(Ar,Ht.url.searchParams.get("trace")==="1"),He(Zt,Ht.url.searchParams.get("anime")==="0");const m=An(zc,decodeURIComponent(Ht.url.searchParams.get("url")??""));m.success&&(async()=>{const x=await new Promise(k=>{const A=new Image;A.onload=()=>k(A),A.crossOrigin="anonymous",A.src=go(m.output)});He(Jt,m.output),Vu(x);const S=Qn.get(0);S&&(Tr(S),i(S[S.length-1]),s(performance.now()))})();const h=An(Fc,Ht.url.searchParams.get("fps"));h.success&&He(Nn,h.output);const y=An(Bc,Ht.url.searchParams.get("preview"));y.success&&He(Vi,y.output)});const c=Nc({width:Yd,height:Jd,frames:Qd,ways:ef});Vr(e,{get open(){return _(a)},onOpenChange:m=>te(a,m.open,!0),positioning:{placement:"top"},triggerBase:"btn preset-tonal",contentBase:"card bg-surface-300 p-4 space-y-4 max-w-[320px]",arrow:!0,arrowBackground:"!bg-surface-300 dark:!bg-surface-800",trigger:m=>{lt();var h=rr("リサイズ");Y(m,h)},content:m=>{var h=N0(),y=de(h),x=G(q(y),2);x.__click=[R0,a];var S=q(x);Fr(S,{}),H(x),H(y);var k=G(y,2),A=G(q(k),2),I=G(q(A),2);I.__change=[P0,l,u,d,v,o];var R=q(I);R.value=R.__value="";var O=G(R);mt(O,17,()=>la,gt,(X,Ee)=>{var _e=D0(),me=q(_e,!0);H(_e);var Ce={};Ae(()=>{it(me,_(Ee).label),Ce!==(Ce=_(Ee).label)&&(_e.value=(_e.__value=_(Ee).label)??"")}),Y(X,_e)}),H(I);var B;ss(I),H(A);var N=G(A,2),E=G(q(N),2);Ge(E);let L;H(N);var b=G(N,2),P=G(q(b),2);Ge(P);let U;H(b);var V=G(b,2),J=G(q(V),2);Ge(J);let $;H(V);var ne=G(V,2),M=G(q(ne),2);Ge(M);let F;lt(2),H(ne);var oe=G(ne,2),re=q(oe);re.__click=()=>{const X=An(c,{width:_(l),height:_(u),frames:_(d),ways:_(v)});if(!X.success){te(g,new Set(X.issues.map(Ee=>{var _e;return((_e=Ee.path)==null?void 0:_e[0].key)??""}).map(String)),!0);return}te(g,new Set,!0),confirm("初期化しますか？（※全てのデータは失われます）")&&(Ni(X.output.width,X.output.height,X.output.frames,X.output.ways),t.init(),_(o)&&(_c.value=_(o)))},H(oe),H(k),Ae((X,Ee,_e,me)=>{B!==(B=_(o)??Sn.label)&&(I.value=(I.__value=_(o)??Sn.label)??"",os(I,_(o)??Sn.label)),L=ot(E,1,"input input-bordered w-full placeholder:opacity-40",null,L,X),U=ot(P,1,"input input-bordered w-full bg-white placeholder:opacity-40",null,U,Ee),$=ot(J,1,"input input-bordered w-full bg-white placeholder:opacity-40",null,$,_e),F=ot(M,1,"input input-bordered w-full bg-white placeholder:opacity-40",null,F,me)},[()=>({"bg-error-50":_(g).has("width"),"bg-white":!_(g).has("width")}),()=>({"bg-error-50":_(g).has("height"),"bg-white":!_(g).has("height")}),()=>({"bg-error-50":_(g).has("frames"),"bg-white":!_(g).has("frames")}),()=>({"bg-error-50":_(g).has("ways"),"bg-white":!_(g).has("ways")})]),pn(E,()=>_(l),X=>te(l,X)),pn(P,()=>_(u),X=>te(u,X)),pn(J,()=>_(d),X=>te(d,X)),pn(M,()=>_(v),X=>te(v,X)),Y(m,h)},$$slots:{trigger:!0,content:!0}}),ye(),r()}ht(["click","change"]);const B0=(e,t,n,r,i,s,a,o,l)=>{if(t()&&(!_(n)||_(n).naturalWidth===0))return;const u=new URLSearchParams;u.set("w",String(ir)),u.set("h",String(ar)),u.set("frames",String(Dt)),u.set("ways",oi(At)),u.set("fps",String(r())),u.set("preview",String(i())),s()!==100&&u.set("opacity",String(s()|0)),a()&&u.set("trace","1"),o()&&u.set("anime","0"),t()&&u.set("url",encodeURIComponent(t())),te(l,`${window.location.origin}${gc}/?${u.toString()}`)};var z0=(e,t)=>{te(t,!1)},M0=fe('<div class="mt-4 max-h-32 overflow-auto border rounded p-2"><img alt="インポート画像" class="max-w-96 object-contain rounded border" crossorigin="anonymous"/></div>'),V0=fe('<header class="flex justify-between"><p class="font-bold text-xl">共同編集用</p> <button class="btn-icon hover:preset-tonal"><!></button></header> <article class="space-y-4"><div><p class="opacity-60">画像URL無しの場合</p> <p class="opacity-60">キャンバスサイズだけが共有されます。</p></div> <div><b>使用可能な画像URL</b> <p class="opacity-60">右クリック、画像リンクをコピー</p> <p class="opacity-60">※レイヤー情報は共有できません。</p></div> <a href="https://imgur.com/upload" target="_blank" rel="noopener noreferrer" class="text-blue-800 hover:underline">画像アップローダー</a> <div class="relative flex-1"><input name="url" type="url" placeholder="画像のURLを入力" class="input input-bordered w-full pr-8 bg-white"/> <!></div> <!> <div class="space-y-0"><div class="flex items-center gap-4 max-w-[360px]"><div class="w-[20ch] flex justify-between font-mono text-sm tabular-nums"><span class="text-left">不透明度</span> <span class="text-right"> </span></div> <!></div> <label class="flex items-center space-x-2"><input class="checkbox" type="checkbox"/> <p>トレース台を追加する</p></label> <label class="flex items-center space-x-2"><input class="checkbox" type="checkbox"/> <p>1枚絵として読み込む</p></label></div> <div class="pt-2"><button type="button" class="btn btn-primary w-full bg-blue-500 text-white rounded hover:bg-blue-600" aria-label="submit">共有リンク生成</button></div> <a target="_blank" rel="noopener noreferrer" class="block min-h-[2rem] max-w-full truncate text-blue-800 hover:underline"> </a></article>',1);function U0(e,t){be(t,!0);const n=()=>Qe(Jt,"$imageUrl",l),r=()=>Qe(Nn,"$fps",l),i=()=>Qe(Vi,"$preview",l),s=()=>Qe(er,"$opacity",l),a=()=>Qe(Ar,"$isAddEmptyLayer",l),o=()=>Qe(Zt,"$isSimpleImport",l),[l,u]=tn();let d=pe(!1),v=pe(void 0),g=pe("");Vr(e,{get open(){return _(d)},onOpenChange:f=>te(d,f.open,!0),positioning:{placement:"top"},triggerBase:"btn preset-tonal",contentBase:"card bg-surface-300 p-4 space-y-4 max-w-[320px] w-[320px]",arrow:!0,arrowBackground:"!bg-surface-300 dark:!bg-surface-800",trigger:f=>{lt();var m=rr("共有");Y(f,m)},content:f=>{var m=V0(),h=de(m),y=G(q(h),2);y.__click=[z0,d];var x=q(y);Fr(x,{}),H(y),H(h);var S=G(h,2),k=G(q(S),6),A=q(k);Ge(A);var I=G(A,2);Ir(I,{class:"absolute right-2 top-2.5 text-gray-400",size:16,onclick:()=>{He(Jt,"")}}),H(k);var R=G(k,2);{var O=re=>{var X=M0(),Ee=q(X);Ct(Ee,_e=>te(v,_e),()=>_(v)),H(X),Ae(_e=>Ve(Ee,"src",_e),[()=>go(n())]),Y(re,X)};Re(R,re=>{n()&&re(O)})}var B=G(R,2),N=q(B),E=q(N),L=G(q(E),2),b=q(L);H(L),H(E);var P=G(E,2);{let re=ue(()=>[s()]);oo(P,{get value(){return _(re)},onValueChange:X=>He(er,X.value[0]),markers:[25,50,75]})}H(N);var U=G(N,2),V=q(U);Ge(V),lt(2),H(U);var J=G(U,2),$=q(J);Ge($),lt(2),H(J),H(B);var ne=G(B,2),M=q(ne);M.__click=[B0,n,v,r,i,s,a,o,g],H(ne);var F=G(ne,2),oe=q(F,!0);H(F),H(S),Ae(()=>{it(b,`${s()??""}%`),Ve(F,"href",_(g)),it(oe,_(g))}),pn(A,n,re=>He(Jt,re)),ii(V,a,re=>He(Ar,re)),ii($,o,re=>He(Zt,re)),Y(f,m)},$$slots:{trigger:!0,content:!0}}),ye(),u()}ht(["click"]);const ti=wn(!1),Uu=()=>{const e=Ys.value;if(e&&(e.clear(),Bt(ti))){const t=Bt(Jn),[n,r]=Ec(t);let i=n-1;i===-1&&(i=Dt-1);const s=Gt(i,r),a=Mt.get(s);if(!a)return;e.ctx.globalAlpha=.4,e.ctx.drawImage(a,0,0)}};Jn.subscribe(Uu);ti.subscribe(Uu);var W0="M17 3H5C3.89 3 3 3.9 3 5V19C3 20.1 3.89 21 5 21H19C20.1 21 21 20.1 21 19V7L17 3M19 19H5V5H16.17L19 7.83V19M12 12C10.34 12 9 13.34 9 15S10.34 18 12 18 15 16.66 15 15 13.66 12 12 12M6 6H15V10H6V6Z",H0="M16.24,3.56L21.19,8.5C21.97,9.29 21.97,10.55 21.19,11.34L12,20.53C10.44,22.09 7.91,22.09 6.34,20.53L2.81,17C2.03,16.21 2.03,14.95 2.81,14.16L13.41,3.56C14.2,2.78 15.46,2.78 16.24,3.56M4.22,15.58L7.76,19.11C8.54,19.9 9.8,19.9 10.59,19.11L14.12,15.58L9.17,10.63L4.22,15.58Z",$0="M19.35,11.72L17.22,13.85L15.81,12.43L8.1,20.14L3.5,22L2,20.5L3.86,15.9L11.57,8.19L10.15,6.78L12.28,4.65L19.35,11.72M16.76,3C17.93,1.83 19.83,1.83 21,3C22.17,4.17 22.17,6.07 21,7.24L19.08,9.16L14.84,4.92L16.76,3M5.56,17.03L4.5,19.5L6.97,18.44L14.4,11L13,9.6L5.56,17.03Z",j0="M19,11.5C19,11.5 17,13.67 17,15A2,2 0 0,0 19,17A2,2 0 0,0 21,15C21,13.67 19,11.5 19,11.5M5.21,10L10,5.21L14.79,10M16.56,8.94L7.62,0L6.21,1.41L8.59,3.79L3.44,8.94C2.85,9.5 2.85,10.47 3.44,11.06L8.94,16.56C9.23,16.85 9.62,17 10,17C10.38,17 10.77,16.85 11.06,16.56L16.56,11.06C17.15,10.47 17.15,9.5 16.56,8.94Z",q0="M13 24C9.74 24 6.81 22 5.6 19L2.57 11.37C2.26 10.58 3 9.79 3.81 10.05L4.6 10.31C5.16 10.5 5.62 10.92 5.84 11.47L7.25 15H8V3.25C8 2.56 8.56 2 9.25 2S10.5 2.56 10.5 3.25V12H11.5V1.25C11.5 .56 12.06 0 12.75 0S14 .56 14 1.25V12H15V2.75C15 2.06 15.56 1.5 16.25 1.5C16.94 1.5 17.5 2.06 17.5 2.75V12H18.5V5.75C18.5 5.06 19.06 4.5 19.75 4.5S21 5.06 21 5.75V16C21 20.42 17.42 24 13 24Z",G0="M20.71,7.04C20.37,7.38 20.04,7.71 20.03,8.04C20,8.36 20.34,8.69 20.66,9C21.14,9.5 21.61,9.95 21.59,10.44C21.57,10.93 21.06,11.44 20.55,11.94L16.42,16.08L15,14.66L19.25,10.42L18.29,9.46L16.87,10.87L13.12,7.12L16.96,3.29C17.35,2.9 18,2.9 18.37,3.29L20.71,5.63C21.1,6 21.1,6.65 20.71,7.04M3,17.25L12.56,7.68L16.31,11.43L6.75,21H3V17.25Z",Z0="M18.4,10.6C16.55,9 14.15,8 11.5,8C6.85,8 2.92,11.03 1.54,15.22L3.9,16C4.95,12.81 7.95,10.5 11.5,10.5C13.45,10.5 15.23,11.22 16.62,12.38L13,16H22V7L18.4,10.6Z",K0="M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M7,6H17V19H7V6M9,8V17H11V8H9M13,8V17H15V8H13Z",X0="M12.5,8C9.85,8 7.45,9 5.6,10.6L2,7V16H11L7.38,12.38C8.77,11.22 10.54,10.5 12.5,10.5C16.04,10.5 19.05,12.81 20.1,16L22.47,15.22C21.08,11.03 17.15,8 12.5,8Z",Y0={grad:.9,turn:360,rad:360/(2*Math.PI)},cn=function(e){return typeof e=="string"?e.length>0:typeof e=="number"},rt=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},Rt=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e>t?e:t},Wu=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},ql=function(e){return{r:Rt(e.r,0,255),g:Rt(e.g,0,255),b:Rt(e.b,0,255),a:Rt(e.a)}},es=function(e){return{r:rt(e.r),g:rt(e.g),b:rt(e.b),a:rt(e.a,3)}},J0=/^#([0-9a-f]{3,8})$/i,Li=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},Hu=function(e){var t=e.r,n=e.g,r=e.b,i=e.a,s=Math.max(t,n,r),a=s-Math.min(t,n,r),o=a?s===t?(n-r)/a:s===n?2+(r-t)/a:4+(t-n)/a:0;return{h:60*(o<0?o+6:o),s:s?a/s*100:0,v:s/255*100,a:i}},$u=function(e){var t=e.h,n=e.s,r=e.v,i=e.a;t=t/360*6,n/=100,r/=100;var s=Math.floor(t),a=r*(1-n),o=r*(1-(t-s)*n),l=r*(1-(1-t+s)*n),u=s%6;return{r:255*[r,o,a,a,l,r][u],g:255*[l,r,r,o,a,a][u],b:255*[a,a,l,r,r,o][u],a:i}},Gl=function(e){return{h:Wu(e.h),s:Rt(e.s,0,100),l:Rt(e.l,0,100),a:Rt(e.a)}},Zl=function(e){return{h:rt(e.h),s:rt(e.s),l:rt(e.l),a:rt(e.a,3)}},Kl=function(e){return $u((n=(t=e).s,{h:t.h,s:(n*=((r=t.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:t.a}));var t,n,r},ni=function(e){return{h:(t=Hu(e)).h,s:(i=(200-(n=t.s))*(r=t.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a};var t,n,r,i},Q0=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,e1=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,t1=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,n1=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Xl={string:[[function(e){var t=J0.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?rt(parseInt(e[3]+e[3],16)/255,2):1}:e.length===6||e.length===8?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:e.length===8?rt(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=t1.exec(e)||n1.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:ql({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=Q0.exec(e)||e1.exec(e);if(!t)return null;var n,r,i=Gl({h:(n=t[1],r=t[2],r===void 0&&(r="deg"),Number(n)*(Y0[r]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return Kl(i)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,r=e.b,i=e.a,s=i===void 0?1:i;return cn(t)&&cn(n)&&cn(r)?ql({r:Number(t),g:Number(n),b:Number(r),a:Number(s)}):null},"rgb"],[function(e){var t=e.h,n=e.s,r=e.l,i=e.a,s=i===void 0?1:i;if(!cn(t)||!cn(n)||!cn(r))return null;var a=Gl({h:Number(t),s:Number(n),l:Number(r),a:Number(s)});return Kl(a)},"hsl"],[function(e){var t=e.h,n=e.s,r=e.v,i=e.a,s=i===void 0?1:i;if(!cn(t)||!cn(n)||!cn(r))return null;var a=(function(o){return{h:Wu(o.h),s:Rt(o.s,0,100),v:Rt(o.v,0,100),a:Rt(o.a)}})({h:Number(t),s:Number(n),v:Number(r),a:Number(s)});return $u(a)},"hsv"]]},Yl=function(e,t){for(var n=0;n<t.length;n++){var r=t[n][0](e);if(r)return[r,t[n][1]]}return[null,void 0]},r1=function(e){return typeof e=="string"?Yl(e.trim(),Xl.string):typeof e=="object"&&e!==null?Yl(e,Xl.object):[null,void 0]},ts=function(e,t){var n=ni(e);return{h:n.h,s:Rt(n.s+100*t,0,100),l:n.l,a:n.a}},ns=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},Jl=function(e,t){var n=ni(e);return{h:n.h,s:n.s,l:Rt(n.l+100*t,0,100),a:n.a}},Ql=(function(){function e(t){this.parsed=r1(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return this.parsed!==null},e.prototype.brightness=function(){return rt(ns(this.rgba),2)},e.prototype.isDark=function(){return ns(this.rgba)<.5},e.prototype.isLight=function(){return ns(this.rgba)>=.5},e.prototype.toHex=function(){return t=es(this.rgba),n=t.r,r=t.g,i=t.b,a=(s=t.a)<1?Li(rt(255*s)):"","#"+Li(n)+Li(r)+Li(i)+a;var t,n,r,i,s,a},e.prototype.toRgb=function(){return es(this.rgba)},e.prototype.toRgbString=function(){return t=es(this.rgba),n=t.r,r=t.g,i=t.b,(s=t.a)<1?"rgba("+n+", "+r+", "+i+", "+s+")":"rgb("+n+", "+r+", "+i+")";var t,n,r,i,s},e.prototype.toHsl=function(){return Zl(ni(this.rgba))},e.prototype.toHslString=function(){return t=Zl(ni(this.rgba)),n=t.h,r=t.s,i=t.l,(s=t.a)<1?"hsla("+n+", "+r+"%, "+i+"%, "+s+")":"hsl("+n+", "+r+"%, "+i+"%)";var t,n,r,i,s},e.prototype.toHsv=function(){return t=Hu(this.rgba),{h:rt(t.h),s:rt(t.s),v:rt(t.v),a:rt(t.a,3)};var t},e.prototype.invert=function(){return _t({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},e.prototype.saturate=function(t){return t===void 0&&(t=.1),_t(ts(this.rgba,t))},e.prototype.desaturate=function(t){return t===void 0&&(t=.1),_t(ts(this.rgba,-t))},e.prototype.grayscale=function(){return _t(ts(this.rgba,-1))},e.prototype.lighten=function(t){return t===void 0&&(t=.1),_t(Jl(this.rgba,t))},e.prototype.darken=function(t){return t===void 0&&(t=.1),_t(Jl(this.rgba,-t))},e.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},e.prototype.alpha=function(t){return typeof t=="number"?_t({r:(n=this.rgba).r,g:n.g,b:n.b,a:t}):rt(this.rgba.a,3);var n},e.prototype.hue=function(t){var n=ni(this.rgba);return typeof t=="number"?_t({h:t,s:n.s,l:n.l,a:n.a}):rt(n.h)},e.prototype.isEqual=function(t){return this.toHex()===_t(t).toHex()},e})(),_t=function(e){return e instanceof Ql?e:new Ql(e)};function i1(e,t,n,r,i,s,a){var l;const o=e.shiftKey?_(t)*10:_(t);e.key==="ArrowUp"||e.key==="ArrowRight"?(n(n()+o),e.preventDefault()):e.key==="ArrowDown"||e.key==="ArrowLeft"?(n(n()-o),e.preventDefault()):e.key==="Home"?(n(_(r)),e.preventDefault()):e.key==="End"?(n(_(i)),e.preventDefault()):e.key==="PageUp"?(n(n()+_(t)*10),e.preventDefault()):e.key==="PageDown"&&(n(n()-_(t)*10),e.preventDefault()),n(s(n())),(l=a.onInput)==null||l.call(a,n())}var a1=fe('<input type="hidden"/>'),s1=fe('<div role="slider" tabindex="0"><div class="track svelte-equw93"></div> <div class="thumb svelte-equw93"></div></div> <!>',1);function na(e,t){be(t,!0);let n=j(t,"min",3,0),r=j(t,"max",3,100),i=j(t,"step",3,1),s=j(t,"value",15,50),a=j(t,"ariaValueText",3,L=>L.toString()),o=j(t,"direction",3,"horizontal"),l=j(t,"reverse",3,!1),u=j(t,"keyboardOnly",3,!1),d=j(t,"slider",7),v=j(t,"isDragging",7,!1);const g=ue(()=>typeof n()=="string"?parseFloat(n()):n()),c=ue(()=>typeof r()=="string"?parseFloat(r()):r()),p=ue(()=>typeof i()=="string"?parseFloat(i()):i());function f(L){const b=1/_(p),P=Math.round(L*b)/b;return Math.max(_(g),Math.min(_(c),P))}const m={horizontal:{clientSize:"clientWidth",offset:"left",client:"clientX"},vertical:{clientSize:"clientHeight",offset:"top",client:"clientY"}};function h(L){var V,J,$;const b=((V=d())==null?void 0:V[m[o()].clientSize])||120,P=((J=d())==null?void 0:J.getBoundingClientRect()[m[o()].offset])||0;let U=L[m[o()].client]-P;o()==="vertical"&&(U=-1*U+b),l()?s(_(c)-U/b*(_(c)-_(g))):s(U/b*(_(c)-_(g))+_(g)),s(f(s())),($=t.onInput)==null||$.call(t,s())}function y(L){h(L),v(!0)}function x(L){v()&&h(L)}function S(){v(!1)}function k(L){L.preventDefault(),h({clientX:L.changedTouches[0].clientX,clientY:L.changedTouches[0].clientY})}const A=ue(()=>((s()-_(g))/(_(c)-_(g))*1).toFixed(4));var I=s1();Kn("mousemove",Xn,x),Kn("mouseup",Xn,S);var R=de(I);let O;R.__keydown=[i1,p,s,g,c,f,t],R.__mousedown=function(...L){var b;(b=u()?void 0:y)==null||b.apply(this,L)},R.__touchstart=function(...L){var b;(b=u()?void 0:k)==null||b.apply(this,L)},R.__touchmove=function(...L){var b;(b=u()?void 0:k)==null||b.apply(this,L)},R.__touchend=function(...L){var b;(b=u()?void 0:k)==null||b.apply(this,L)};let B;Ct(R,L=>d(L),()=>d());var N=G(R,2);{var E=L=>{var b=a1();Ge(b),Ae(()=>{Ve(b,"name",t.name),zt(b,s())}),Y(L,b)};Re(N,L=>{t.name&&L(E)})}Ae((L,b,P)=>{O=ot(R,1,"slider svelte-equw93",null,O,L),Ve(R,"aria-orientation",o()),Ve(R,"aria-valuemax",_(c)),Ve(R,"aria-valuemin",_(g)),Ve(R,"aria-valuenow",s()),Ve(R,"aria-valuetext",b),Ve(R,"aria-label",t.ariaLabel),Ve(R,"aria-labelledby",t.ariaLabelledBy),Ve(R,"aria-controls",t.ariaControls),B=Xt(R,"",B,P)},[()=>({reverse:l()}),()=>a()(s()),()=>({"--position":_(A)})]),Y(e,I),ye()}ht(["keydown","mousedown","touchstart","touchmove","touchend"]);function rs(e,t){e.preventDefault(),t(e.changedTouches[0])}var o1=fe('<div class="picker svelte-11q4mn5"><!> <div class="s svelte-11q4mn5"><!></div> <div class="v svelte-11q4mn5"><!></div></div>');function l1(e,t){be(t,!0);let n=j(t,"s",15),r=j(t,"v",15),i=pe(void 0),s=!1,a=pe(ft({x:100,y:0})),o=ue(()=>_t({h:t.h,s:100,v:100,a:1}).toHex());function l(I,R,O){return Math.min(Math.max(R,I),O)}function u(I){if(!_(i))return;const{width:R,left:O,height:B,top:N}=_(i).getBoundingClientRect(),E={x:l(I.clientX-O,0,R),y:l(I.clientY-N,0,B)};n(l(E.x/R,0,1)*100),r(l((B-E.y)/B,0,1)*100),c()}function d(I){I.preventDefault(),I.button===0&&(s=!0,u(I))}function v(){s=!1}function g(I){s&&u(I)}Me(()=>{typeof n()=="number"&&typeof r()=="number"&&_(i)&&te(a,{x:n(),y:100-r()},!0)});function c(I={}){t.onInput({s:n(),v:r(),...I})}var p=o1();Kn("mouseup",Xn,v),Kn("mousemove",Xn,g),p.__mousedown=d,p.__touchstart=[rs,u],p.__touchmove=[rs,u],p.__touchend=[rs,u];let f;var m=q(p);pt(m,()=>t.components.pickerIndicator,(I,R)=>{R(I,{get pos(){return _(a)},get isDark(){return t.isDark}})});var h=G(m,2);let y;var x=q(h);na(x,{get value(){return n()},onInput:I=>c({s:I}),keyboardOnly:!0,ariaValueText:I=>`${I}%`,get ariaLabel(){return t.texts.label.s}}),H(h);var S=G(h,2);let k;var A=q(S);na(A,{get value(){return r()},onInput:I=>c({v:I}),keyboardOnly:!0,ariaValueText:I=>`${I}%`,direction:"vertical",get ariaLabel(){return t.texts.label.v}}),H(S),H(p),Ct(p,I=>te(i,I),()=>_(i)),Ae((I,R,O)=>{f=Xt(p,"",f,I),y=Xt(h,"",y,R),k=Xt(S,"",k,O)},[()=>({"--picker-color-bg":_(o)}),()=>({"--pos-y":_(a).y}),()=>({"--pos-x":_(a).x})]),Y(e,p),ye()}ht(["mousedown","touchstart","touchmove","touchend"]);var c1=fe('<div class="picker-indicator svelte-1hqcl2m"></div>');function u1(e,t){be(t,!0);var n=c1();let r;Ae(i=>r=Xt(n,"",r,i),[()=>({"--pos-x":t.pos.x,"--pos-y":t.pos.y})]),Y(e,n),ye()}function d1(e,t,n,r){const i=e.target;t.test(i.value)&&(n(i.value),r.onInput({hex:n()}))}var f1=fe('<input class="svelte-oo0nmo"/>'),h1=fe('<input type="number" min="0" max="255" class="svelte-oo0nmo"/> <input type="number" min="0" max="255" class="svelte-oo0nmo"/> <input type="number" min="0" max="255" class="svelte-oo0nmo"/>',1),v1=fe('<input type="number" min="0" max="360" class="svelte-oo0nmo"/> <input type="number" min="0" max="100" class="svelte-oo0nmo"/> <input type="number" min="0" max="100" class="svelte-oo0nmo"/>',1),p1=fe('<input type="number" min="0" max="1" step="0.01" class="svelte-oo0nmo"/>'),g1=(e,t,n)=>te(t,_(n),!0),m1=fe('<button type="button" class="svelte-oo0nmo"><span class="disappear svelte-oo0nmo" aria-hidden="true"> </span> <span class="appear svelte-oo0nmo"> </span></button>'),b1=fe('<div class="button-like svelte-oo0nmo"> </div>'),y1=fe('<div class="text-input svelte-oo0nmo"><div class="input-container svelte-oo0nmo"><!> <!></div> <!></div>');function w1(e,t){be(t,!0);let n=j(t,"rgb",15),r=j(t,"hsv",15),i=j(t,"hex",15);const s=/^#?([A-F0-9]{6}|[A-F0-9]{8})$/i;let a=pe(ft(t.textInputModes[0]||"hex")),o=ue(()=>t.textInputModes[(t.textInputModes.indexOf(_(a))+1)%t.textInputModes.length]),l=ue(()=>Math.round(r().h)),u=ue(()=>Math.round(r().s)),d=ue(()=>Math.round(r().v)),v=ue(()=>r().a===void 0?1:Math.round(r().a*100)/100);function g(R){return function(O){n({...n(),[R]:parseFloat(O.target.value)}),t.onInput({rgb:n()})}}function c(R){return function(O){r({...r(),[R]:parseFloat(O.target.value)}),t.onInput({hsv:r()})}}var p=y1(),f=q(p),m=q(f);{var h=R=>{var O=f1();Ge(O),O.__input=[d1,s,i,t],Xt(O,"",{},{flex:3}),Ae(()=>{Ve(O,"aria-label",t.texts.label.hex),zt(O,i())}),Y(R,O)},y=R=>{var O=ge(),B=de(O);{var N=L=>{var b=h1(),P=de(b);Ge(P);var U=ue(()=>g("r"));P.__input=function(...M){var F;(F=_(U))==null||F.apply(this,M)};var V=G(P,2);Ge(V);var J=ue(()=>g("g"));V.__input=function(...M){var F;(F=_(J))==null||F.apply(this,M)};var $=G(V,2);Ge($);var ne=ue(()=>g("b"));$.__input=function(...M){var F;(F=_(ne))==null||F.apply(this,M)},Ae(()=>{Ve(P,"aria-label",t.texts.label.r),zt(P,n().r),Ve(V,"aria-label",t.texts.label.g),zt(V,n().g),Ve($,"aria-label",t.texts.label.b),zt($,n().b)}),Y(L,b)},E=L=>{var b=v1(),P=de(b);Ge(P);var U=ue(()=>c("h"));P.__input=function(...M){var F;(F=_(U))==null||F.apply(this,M)};var V=G(P,2);Ge(V);var J=ue(()=>c("s"));V.__input=function(...M){var F;(F=_(J))==null||F.apply(this,M)};var $=G(V,2);Ge($);var ne=ue(()=>c("v"));$.__input=function(...M){var F;(F=_(ne))==null||F.apply(this,M)},Ae(()=>{Ve(P,"aria-label",t.texts.label.h),zt(P,_(l)),Ve(V,"aria-label",t.texts.label.s),zt(V,_(u)),Ve($,"aria-label",t.texts.label.v),zt($,_(d))}),Y(L,b)};Re(B,L=>{_(a)==="rgb"?L(N):L(E,!1)},!0)}Y(R,O)};Re(m,R=>{_(a)==="hex"?R(h):R(y,!1)})}var x=G(m,2);{var S=R=>{var O=p1();Ge(O);var B=ue(()=>_(a)==="hsv"?c("a"):g("a"));O.__input=function(...N){var E;(E=_(B))==null||E.apply(this,N)},Ae(()=>{Ve(O,"aria-label",t.texts.label.a),zt(O,_(v))}),Y(R,O)};Re(x,R=>{t.isAlpha&&R(S)})}H(f);var k=G(f,2);{var A=R=>{var O=m1();O.__click=[g1,a,o];var B=q(O),N=q(B,!0);H(B);var E=G(B,2),L=q(E);H(E),H(O),Ae(()=>{it(N,t.texts.color[_(a)]),it(L,`${t.texts.changeTo??""} ${t.texts.color[_(o)]??""}`)}),Y(R,O)},I=R=>{var O=b1(),B=q(O,!0);H(O),Ae(()=>it(B,t.texts.color[_(a)])),Y(R,O)};Re(k,R=>{t.textInputModes.length>1?R(A):R(I,!1)})}H(p),Y(e,p),ye()}ht(["input","click"]);function Ri(e){e.preventDefault()}var _1=fe('<label class="svelte-1fiep8z"><div class="container svelte-1fiep8z"><input type="color" aria-haspopup="dialog" class="svelte-1fiep8z"/> <div class="alpha svelte-1fiep8z"></div> <div class="color svelte-1fiep8z"></div></div> </label>');function x1(e,t){be(t,!0);let n=j(t,"labelElement",15),r=j(t,"name",3,void 0);var i=_1();i.__click=[Ri],i.__mousedown=[Ri];var s=q(i),a=q(s);Ge(a),a.__click=[Ri],a.__mousedown=[Ri];var o=G(a,4);let l;H(s);var u=G(s);H(i),Ct(i,d=>n(d),()=>n()),Ae(d=>{Ve(i,"dir",t.dir),Ve(a,"name",r()),zt(a,t.hex),l=Xt(o,"",l,d),it(u,` ${t.label??""}`),i.dir=i.dir},[()=>({background:t.hex})]),Y(e,i),ye()}ht(["click","mousedown"]);var k1=fe('<div aria-label="color picker"><!></div>');function E1(e,t){be(t,!0);let n=j(t,"wrapper",15);var r=k1();let i;var s=q(r);Pe(s,()=>t.children),H(r),Ct(r,a=>n(a),()=>n()),Ae(a=>{i=ot(r,1,"wrapper svelte-1my9y0u",null,i,a),Ve(r,"role",t.isDialog?"dialog":void 0)},[()=>({"is-open":t.isOpen})]),Y(e,r),ye()}const is={label:{h:"hue channel",s:"saturation channel",v:"brightness channel",r:"red channel",g:"green channel",b:"blue channel",a:"alpha channel",hex:"hex color",withoutColor:"without color"},color:{rgb:"rgb",hsv:"hsv",hex:"hex"},changeTo:"change to "},ju="a[href], area[href], input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]";function C1(e){return function(t){if(t.target===window)return;const n=t.target;if(!e.contains(n))return;const r=e.querySelectorAll(ju),i=r[0],s=r[r.length-1];function a(l){return l.code==="Tab"&&!l.shiftKey}function o(l){return l.code==="Tab"&&l.shiftKey}a(t)&&t.target===s?(t.preventDefault(),i.focus()):o(t)&&t.target===i&&(t.preventDefault(),s.focus())}}const S1=e=>{const t=e.querySelector(ju);t&&t.focus();const n=C1(e);return document.addEventListener("keydown",n),{destroy(){document.removeEventListener("keydown",n)}}};var T1=fe('<label class="nullability-checkbox svelte-1es9m0r"><div class="svelte-1es9m0r"><input type="checkbox" class="svelte-1es9m0r"/> <span class="svelte-1es9m0r"></span></div> </label>');function A1(e,t){be(t,!0);let n=j(t,"isUndefined",15);var r=T1(),i=q(r),s=q(i);Ge(s),lt(2),H(i);var a=G(i);H(r),Ae(()=>it(a,` ${t.texts.label.withoutColor??""}`)),ii(s,n),Y(e,r),ye()}var I1=fe('<input type="hidden"/>'),O1=fe('<div class="a svelte-1ym4c24"><!></div>'),L1=fe('<!> <!> <div class="h svelte-1ym4c24"><!></div> <!> <!> <!>',1),R1=fe("<span><!> <!></span>");function P1(e,t){be(t,!0);let n=j(t,"components",19,()=>({})),r=j(t,"label",3,"Choose a color"),i=j(t,"name",3,void 0),s=j(t,"nullable",3,!1),a=j(t,"rgb",31,()=>ft(s()?null:{r:255,g:0,b:0,a:1})),o=j(t,"hsv",31,()=>ft(s()?null:{h:0,s:100,v:100,a:1})),l=j(t,"hex",31,()=>ft(s()?null:"#ff0000")),u=j(t,"color",15,null),d=j(t,"isDark",15,!1),v=j(t,"isAlpha",3,!0),g=j(t,"isDialog",3,!0),c=j(t,"isOpen",31,()=>!g()),p=j(t,"position",3,"responsive"),f=j(t,"dir",3,"ltr"),m=j(t,"isTextInput",3,!0),h=j(t,"textInputModes",19,()=>["hex","rgb","hsv"]),y=j(t,"sliderDirection",3,"vertical"),x=j(t,"disableCloseClickOutside",3,!1),S=j(t,"a11yColors",19,()=>[{bgHex:"#ffffff"}]),k=j(t,"a11yLevel",3,"AA"),A=j(t,"texts",3,void 0),I=j(t,"a11yTexts",3,void 0),R=pe(ft({r:255,g:0,b:0,a:1})),O=pe(ft({h:0,s:100,v:100,a:1})),B=pe("#ff0000"),N=pe(!1),E=pe(ft(_(N))),L=pe(void 0),b=pe(void 0),P=pe(void 0),U,V=pe(1080),J=pe(720);const $=12,ne={pickerIndicator:u1,textInput:w1,input:x1,nullabilityCheckbox:A1,wrapper:E1};function M(){return{...ne,...n()}}function F(){var z,T,C;return{label:{...is.label,...(z=A())==null?void 0:z.label},color:{...is.color,...(T=A())==null?void 0:T.color},changeTo:((C=A())==null?void 0:C.changeTo)??is.changeTo}}function oe({target:z}){var T,C,D;g()&&((T=_(b))!=null&&T.contains(z)||(C=_(b))!=null&&C.isSameNode(z)?c(!c()):c()&&!((D=_(P))!=null&&D.contains(z))&&!x()&&c(!1))}function re({key:z,target:T}){var C;!g()||!_(b)||!_(L)||(z==="Enter"&&_(b).contains(T)?(c(!c()),setTimeout(()=>{_(P)&&(U=S1(_(P)))})):z==="Escape"&&c()&&(c(!1),_(L).contains(T)&&((C=_(b))==null||C.focus(),U==null||U.destroy())))}function X(){return!(o()&&a()&&o().h===_(O).h&&o().s===_(O).s&&o().v===_(O).v&&o().a===_(O).a&&a().r===_(R).r&&a().g===_(R).g&&a().b===_(R).b&&a().a===_(R).a&&l()===_(B))}function Ee(){var z,T,C,D,K,Q;if(_(N)&&!_(E)){te(E,!0),o(null),a(null),l(null),(z=t.onInput)==null||z.call(t,{color:u(),hsv:o(),rgb:a(),hex:l()});return}else if(_(E)&&!_(N)){te(E,!1),o(Un(_(O))),a(Un(_(R))),l(Un(_(B))),(T=t.onInput)==null||T.call(t,{color:u(),hsv:o(),rgb:a(),hex:l()});return}else if(!o()&&!a()&&!l()){te(N,te(E,!0),!0),(C=t.onInput)==null||C.call(t,{color:null,hsv:o(),rgb:a(),hex:l()});return}else if(!X())return;te(N,!1),o()&&o().a===void 0&&o({...o(),a:1}),_(O).a===void 0&&te(O,{..._(O),a:1},!0),a()&&a().a===void 0&&a({...a(),a:1}),_(R).a===void 0&&te(R,{..._(R),a:1},!0),((D=l())==null?void 0:D.substring(7))==="ff"&&l(l().substring(0,7)),((K=_(B))==null?void 0:K.substring(7))==="ff"&&te(B,_(B).substring(0,7),!0),o()&&(o().h!==_(O).h||o().s!==_(O).s||o().v!==_(O).v||o().a!==_(O).a||!a()&&!l())?(u(_t(o())),a(u().toRgb()),l(u().toHex())):a()&&(a().r!==_(R).r||a().g!==_(R).g||a().b!==_(R).b||a().a!==_(R).a||!o()&&!l())?(u(_t(a())),l(u().toHex()),o(u().toHsv())):l()&&(l()!==_(B)||!o()&&!a())&&(u(_t(l())),a(u().toRgb()),o(u().toHsv())),u()&&d(u().isDark()),!(!l()||!o()||!a())&&(te(O,Un(o()),!0),te(R,Un(a()),!0),te(B,l(),!0),te(E,_(N),!0),(Q=t.onInput)==null||Q.call(t,{color:u(),hsv:o(),rgb:a(),hex:l()}))}Me(()=>{(o()||a()||l())&&Ee()}),Me(()=>{_(N),Ee()});function _e(z){return T=>{o()||(te(N,!1),te(E,!1),o(Un(_(O)))),o({...o(),[z]:T})}}function me(z){return T=>{o()||(te(N,!1),te(E,!1),o(Un(_(O)))),o({...o(),...Object.fromEntries(z.map(C=>[C,T[C]]))})}}async function Ce(){if(await hc(),p()==="fixed"||!c()||!g()||!_(b)||!_(P))return;const z=_(P).getBoundingClientRect(),T=_(b).getBoundingClientRect();if((p()==="responsive"||p()==="responsive-y")&&(T.top+z.height+$>_(J)?_(P).style.top=`-${z.height+$}px`:_(P).style.top=`${T.height+$}px`),p()==="responsive"||p()==="responsive-x")if(f()==="rtl"){const C=T.left+T.width-z.width<0;console.log(C,T.left-z.width,T.left,z.width),C?_(P).style.left="0px":_(P).style.left=`${T.width-z.width}px`}else T.left+z.width>_(V)?_(P).style.left=`${T.width-z.width}px`:_(P).style.left="0px"}Me(()=>{_(V)&&_(J)&&c()&&Ce()});const ce=ue(M);var xe=R1();Kn("mousedown",Xn,oe),Kn("keyup",Xn,re),Kn("scroll",Xn,Ce);var Be=q(xe);{var De=z=>{var T=ge(),C=de(T);pt(C,()=>_(ce).input,(D,K)=>{K(D,{get hex(){return l()},get label(){return r()},get name(){return i()},get dir(){return f()},get labelElement(){return _(b)},set labelElement(Q){te(b,Q,!0)}})}),Y(z,T)},w=z=>{var T=ge(),C=de(T);{var D=K=>{var Q=I1();Ge(Q),Ae(()=>{zt(Q,l()),Ve(Q,"name",i())}),Y(K,Q)};Re(C,K=>{i()&&K(D)},!0)}Y(z,T)};Re(Be,z=>{g()?z(De):z(w,!1)})}var Z=G(Be,2);pt(Z,()=>_(ce).wrapper,(z,T)=>{T(z,{get isOpen(){return c()},get isDialog(){return g()},get wrapper(){return _(P)},set wrapper(C){te(P,C,!0)},children:(C,D)=>{var K=L1(),Q=de(K);{var W=We=>{var Oe=ge(),Ye=de(Oe);{let et=ue(F);pt(Ye,()=>_(ce).nullabilityCheckbox,(Ke,bt)=>{bt(Ke,{get texts(){return _(et)},get isUndefined(){return _(N)},set isUndefined(Je){te(N,Je,!0)}})})}Y(We,Oe)};Re(Q,We=>{s()&&We(W)})}var ie=G(Q,2);{let We=ue(M),Oe=ue(()=>{var Je;return((Je=o())==null?void 0:Je.h)??_(O).h}),Ye=ue(()=>{var Je;return((Je=o())==null?void 0:Je.s)??_(O).s}),et=ue(()=>{var Je;return((Je=o())==null?void 0:Je.v)??_(O).v}),Ke=ue(()=>me(["s","v"])),bt=ue(F);l1(ie,{get components(){return _(We)},get h(){return _(Oe)},get s(){return _(Ye)},get v(){return _(et)},get onInput(){return _(Ke)},get isDark(){return d()},get texts(){return _(bt)}})}var le=G(ie,2),ae=q(le);{let We=ue(()=>{var et;return((et=o())==null?void 0:et.h)??_(O).h}),Oe=ue(()=>_e("h")),Ye=ue(()=>y()==="vertical");na(ae,{min:0,max:360,step:1,get value(){return _(We)},get onInput(){return _(Oe)},get direction(){return y()},get reverse(){return _(Ye)},get ariaLabel(){return F().label.h}})}H(le);var ve=G(le,2);{var Ue=We=>{var Oe=O1();let Ye;var et=q(Oe);{let Ke=ue(()=>{var an;return((an=o())==null?void 0:an.a)??_(O).a}),bt=ue(()=>_e("a")),Je=ue(()=>y()==="vertical");na(et,{min:0,max:1,step:.01,get value(){return _(Ke)},get onInput(){return _(bt)},get direction(){return y()},get reverse(){return _(Je)},get ariaLabel(){return F().label.a}})}H(Oe),Ae(Ke=>Ye=Xt(Oe,"",Ye,Ke),[()=>({"--alphaless-color":(l()?l():_(B)).substring(0,7)})]),Y(We,Oe)};Re(ve,We=>{v()&&We(Ue)})}var Ie=G(ve,2);{var nt=We=>{var Oe=ge(),Ye=de(Oe);{let et=ue(()=>l()??_(B)),Ke=ue(()=>a()??_(R)),bt=ue(()=>o()??_(O)),Je=ue(F);pt(Ye,()=>_(ce).textInput,(an,Ur)=>{Ur(an,{get hex(){return _(et)},get rgb(){return _(Ke)},get hsv(){return _(bt)},onInput:St=>{St.hsv?o(St.hsv):St.rgb?a(St.rgb):St.hex&&l(St.hex)},get isAlpha(){return v()},get textInputModes(){return h()},get texts(){return _(Je)}})})}Y(We,Oe)};Re(Ie,We=>{m()&&We(nt)})}var rn=G(Ie,2);{var dt=We=>{var Oe=ge(),Ye=de(Oe);{let et=ue(M),Ke=ue(()=>l()||"#00000000");pt(Ye,()=>_(ce).a11yNotice,(bt,Je)=>{Je(bt,{get components(){return _(et)},get a11yColors(){return S()},get hex(){return _(Ke)},get a11yTexts(){return I()},get a11yLevel(){return k()}})})}Y(We,Oe)};Re(rn,We=>{M().a11yNotice&&We(dt)})}Y(C,K)},$$slots:{default:!0}})}),H(xe),Ct(xe,z=>te(L,z),()=>_(L)),Ae(()=>ot(xe,1,`color-picker ${y()??""}`,"svelte-1ym4c24")),Mo("innerWidth",z=>te(V,z,!0)),Mo("innerHeight",z=>te(J,z,!0)),Y(e,xe),ye()}var D1=(e,t)=>te(t,!_(t)),N1=(e,t,n)=>t(_(n).label),F1=fe('<button type="button" class="btn-icond btn-lg"><!></button>'),B1=(e,t,n)=>He(Gn,_(n)),z1=fe('<button type="button" aria-label="Select color" class="w-8 h-8 rounded-full ring-2 ring-gray-200 hover:ring-primary-500 transition"></button>'),M1=fe('<div class="grid h-screen grid-rows-[auto_1fr_auto]"><header class="bg-surface-100 shadow flex flex-wrap items-center gap-3"><div class="flex-none px-8 bg-primary rounded select-none text-left font-bold text-success-700 flex items-center gap-2" style="min-width: 180px;"><img alt="Midori Icon" class="w-16 h-16 object-contain"/> <span class="hidden sm:inline">HGペイント（歩行グラフィックペイント）</span> <span class="sm:hidden flex flex-col"><span>HGペイント</span> <span>（歩行グラフィックペイント）</span></span></div> <div class="flex flex-1 flex-wrap justify-center items-center gap-3"><!> <div class="input-group grid-cols-[1fr_auto]"><input class="ig-input" type="text" placeholder="レイヤー名" maxlength="32"/> <button title="レイヤー名の編集"><!></button></div> <button type="button" class="btn-icond btn-lg"><!></button> <button type="button" class="btn-icond btn-lg"><!></button></div> <!> <div class="w-[12ch] flex justify-between font-mono text-sm tabular-nums"><span class="text-left">不透明度</span> <span class="text-right"> </span></div> <div class="my-2 w-full basis-full max-w-[300px] mt-2"><!></div></header> <div class="grid grid-cols-1 md:grid-cols-[auto_1fr_auto]"><aside class="bg-surface-200 p-4 space-y-4"><!></aside> <main class="bg-white flex items-center justify-center gap-4 px-4"><!> <div></div> <!></main> <aside class="bg-surface-200 p-4 space-y-4"><!> <!></aside></div> <footer class="bg-surface-100 shadow p-2 flex flex-wrap items-center justify-center gap-2"><!> <nav class="btn-group preset-outlined-surface-200-800 flex gap-4"><!> <!> <!> <!> <!></nav> <nav class="btn-group preset-outlined-surface-200-800 flex gap-2"></nav> <!> <!> <!> <!> <!> <!> <div class="w-full text-left flex flex-wrap items-center gap-4"><div class="rounded-full ring-2 ring-black ring-offset-2 ring-offset-white"><!></div> <input type="color" class="w-10 h-10 rounded-full border-none p-0"/> <div class="flex gap-2"></div></div></footer></div>');function Z1(e,t){be(t,!0);const n=()=>Qe(Gn,"$color",i),r=()=>Qe(ti,"$isOnionSkin",i),[i,s]=tn(),a=globalThis.innerWidth<768;let o=pe(0);const l=()=>{setTimeout(()=>{te(o,performance.now(),!0)})};Me(()=>(document.addEventListener("pointerup",l),()=>document.removeEventListener("pointerup",l)));const u=async ee=>{if(d(ee)||!ee.ctrlKey)return;let he=ee.key;switch(ee.getModifierState("CapsLock")&&(he=/[a-z]/.test(he)?he.toUpperCase():he.toLowerCase()),he){case"1":ee.preventDefault(),te(J,U.pen.label,!0);break;case"2":ee.preventDefault(),te(J,U.eraser.label,!0);break;case"3":ee.preventDefault(),te(J,U.dropper.label,!0);break;case"4":ee.preventDefault(),te(J,U.fill.label,!0);break;case"5":ee.preventDefault(),te(J,U.translate.label,!0);break;case"e":ee.preventDefault(),te(ne,!_(ne));break;case"f":ee.preventDefault(),te(M,!_(M));break;case"g":ee.preventDefault(),te(F,!_(F));break;case"d":ee.preventDefault(),te(oe,!_(oe));break;case"o":ee.preventDefault(),ti.update(se=>!se);break;case"z":ee.preventDefault(),X(U.undo.label);break;case"Z":ee.preventDefault(),X(U.redo.label);break;case"s":ee.preventDefault(),X(U.save.label);break;case"c":{ee.preventDefault();const se=await new Promise(Se=>xr().toBlob(Se));if(!se)return;const we=new ClipboardItem({"image/png":se});await navigator.clipboard.write([we])}break}};Me(()=>{if(_(y))return window.removeEventListener("keydown",u),window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)});const d=ee=>{var se;const he=ee.target;return!((se=getSelection())!=null&&se.isCollapsed)||he.tagName==="INPUT"||he.tagName==="TEXTAREA"||he.isContentEditable},v=async ee=>{var xi,Io;if(!_(h)||(xi=_(h))!=null&&xi.locked)return;const he=Mi(),{width:se,height:we}=zn,Se=await createImageBitmap(ee),Le=document.createElement("canvas");Le.width=se,Le.height=we;const ze=Le.getContext("2d",{willReadFrequently:!0});if(!ze)return;ze.imageSmoothingEnabled=!1;const vt=Se.width,Ft=Se.height,sn=Math.min(se/vt,we/Ft),on=vt*sn,ur=Ft*sn,Vn=(se-on)/2,kn=(we-ur)/2;ze.drawImage(Se,Vn,kn,on,ur);const{data:En}=ze.getImageData(0,0,se,we);for(let ki=0;ki<we;ki++)for(let Ei=0;Ei<se;Ei++){const Oo=(ki*se+Ei)*4,[Zu,Ku,Xu,Lo]=En.subarray(Oo,Oo+4);Lo&&(Rn.value=`rgba(${Zu}, ${Ku}, ${Xu}, ${Lo/255})`,_(h).drawByDot(Ei*he,ki*he),_(h).used=!0)}(Io=_(h))==null||Io.trace(),l()},g=ee=>{var we,Se;if(d(ee)||!_(h)||(we=_(h))!=null&&we.locked)return;let he=null;for(const Le of((Se=ee.clipboardData)==null?void 0:Se.items)??[])Le.kind==="file"&&Le.type.startsWith("image/")&&(he=Le);if(!he)return;const se=he.getAsFile();se&&v(se)};Me(()=>{if(_(y))return window.removeEventListener("paste",g),window.addEventListener("paste",g),()=>window.removeEventListener("paste",g)});let c=pe(!1);Me(()=>{_(m)&&(_(m).addEventListener("dragover",ee=>{ee.preventDefault(),te(c,!0)}),_(m).addEventListener("dragleave",()=>{te(c,!1)}),_(m).addEventListener("drop",ee=>{if(ee.preventDefault(),te(c,!1),!ee.dataTransfer)return;const[he]=ee.dataTransfer.files;(he.type.startsWith("image/")||he.name.endsWith(".cur"))&&v(he)}))});const p=(ee,he)=>{if(!_(h))return;const se=xr().getContext("2d",{willReadFrequently:!0});if(!se)return;const{data:we}=se.getImageData(0,0,_(k),S),Se=(he*_(k)+ee)*4,[Le,ze,vt,Ft]=we.subarray(Se,Se+4);if(Ft){te(ne,!1);const sn=`#${[Le,ze,vt].map(on=>on.toString(16).padStart(2,"0")).join("")}`;He(Gn,sn)}else te(ne,!0)},f=async(ee,he)=>{var vt;if(!_(h))return;const se=(vt=n().slice(1).match(/.{2}/g))==null?void 0:vt.map(Ft=>Number.parseInt(Ft,16));if((se==null?void 0:se.length)!==3)return;const[we,Se,Le]=se,ze=tf(_(h).data,_(k),S,ee,he,_(ne)?[0,0,0,0]:[we,Se,Le,255]);ze&&(_(h).data=ze)};let m=pe(void 0),h=pe(void 0),y=pe(null),x=pe(null);const S=a?Math.floor(globalThis.innerWidth*.9/48)*48:480;let k=pe(ft(S)),A=pe(0);Me(()=>{I()});const I=async()=>{if(!_(m))return;te(A,performance.now(),!0);const ee=ir,he=ar,se=Math.floor(S*(ee/he));cf(_(m),se,S),te(k,se,!0);const we=Vc.value,Se=Ys.value;we==null||we.canvas.classList.add("upper-canvas"),Se==null||Se.canvas.classList.add("gimp-checkered-background"),te(y,we,!0),te(x,Se,!0),we&&(we.opacity=32),of(1,he),document.documentElement.style.setProperty("--grid-cell-size",`${Mi()}px`),te(h,new Yt("レイヤー #1"),!0)};Me(()=>{_(y)&&document.addEventListener("pointermove",ee=>{if(!_(y))return;const[he,se]=Yn(ee);_(y).clear(),_(y).drawByDot(he,se)},{passive:!0})}),Me(()=>{if(!_(y))return;let ee=null,he=null;df((Se,Le,ze)=>{var vt,Ft,sn,on,ur;if(ee===null&&(ee=Se),he===null&&(he=Le),_(J)===U.dropper.label||(ze&2)!==0)p(Se,Le),we=!0;else if(!((vt=_(h))!=null&&vt.locked))if(_(J)===U.translate.label)(Ft=_(h))==null||Ft.translateByDot(Se-ee,Le-he);else{const Vn=vf(Se,Le,ee,he);switch(_(J)){case U.pen.label:for(const[kn,En]of Vn)_(ne)?(sn=_(h))==null||sn.eraseByDot(kn,En):(on=_(h))==null||on.drawByDot(kn,En);break;case U.eraser.label:for(const[kn,En]of Vn)(ur=_(h))==null||ur.eraseByDot(kn,En);break}}ee=Se,he=Le});const se=()=>{var Se;(Se=_(h))!=null&&Se.modified()&&(_(h).trace(),P())};let we=!1;ff((Se,Le,ze)=>{var vt;ee=null,he=null,!((vt=_(h))!=null&&vt.locked)&&(_(J)===U.fill.label&&!we&&f(Se,Le),we=!1,se())}),uf((Se,Le,ze)=>{})}),Me(()=>{_(h)&&(te(R,[_(h).opacity],!0),te(O,_(h).visible,!0),te(B,_(h).name,!0),te(N,!0),te(E,_(h).locked,!0))});let R=pe(ft([100])),O=pe(!0),B=pe(""),N=pe(!0),E=pe(!1);Me(()=>{_(h)&&(_(h).opacity=_(R)[0])}),Me(()=>{_(h)&&(_(h).visible=_(O))}),Me(()=>{_(h)&&(_(h).name=_(B))}),Me(()=>{_(h)&&(_(h).locked=_(E))}),Me(()=>{wc.value=n(),Rn.value=n()});let L=pe(ft([]));const b=32,P=()=>{if(_(J)===U.translate.label)return;const ee=_(L).indexOf(n());ee!==0&&(ee!==-1&&_(L).splice(ee,1),_(L).unshift(n()),_(L).length>b&&_(L).pop(),te(L,[..._(L)],!0))},U={pen:{label:"ペン",mdi:G0,icon:Af},eraser:{label:"消しゴム",mdi:H0,icon:qo},dropper:{label:"カラーピッカー",mdi:$0,icon:If},fill:{label:"塗りつぶし",mdi:j0,icon:Tf},translate:{label:"ハンドツール",mdi:q0,icon:Sf},erasable:{icon:qo},flip:{icon:kf},grid:{icon:Ef},undo:{label:"戻る",mdi:X0,icon:Nf},redo:{label:"進む",mdi:Z0,icon:Lf},save:{label:"画像を保存",mdi:W0,icon:Rf},clear:{label:"全消し",mdi:K0,icon:Ir}};let V=[U.pen,U.eraser,U.dropper,U.fill,U.translate],J=pe(ft(Wo.value??U.pen.label));const $=ee=>{const he=`fill="${_(oe)?"white":"black"}" stroke="${_(oe)?"black":"white"}" stroke-width="1"`,se=`<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><path d="${ee}" ${he}/></svg>`;return`data:image/svg+xml;base64,${btoa(se)}`};Me(()=>{var ee;if(Wo.value=_(J),_(y)){const he=_(J)===U.fill.label?"21 19":"3 21",se=(ee=V.find(we=>we.label===_(J)))==null?void 0:ee.mdi;if(!se)return;_(y).canvas.style.cursor=`url('${$(se)}') ${he}, auto`}});let ne=pe(!1),M=pe(!1);Me(()=>{Xs.value=_(M)});let F=pe(!0),oe=pe(!1);Me(()=>{_(oe)?document.body.classList.add("hg-paint-gimp-dark"):document.body.classList.remove("hg-paint-gimp-dark")});let re=[U.undo,U.redo,U.save,U.clear];const X=ee=>{var he,se,we,Se;switch(ee){case U.undo.label:(he=_(h))==null||he.undo(),l();break;case U.redo.label:(se=_(h))==null||se.redo(),l();break;case U.save.label:{const Le=xr().toDataURL("image/png"),ze=document.createElement("a");ze.href=Le,ze.download="drawing.png",ze.click()}break;case U.clear.label:(we=_(h))==null||we.clear(),(Se=_(h))==null||Se.trace();break}};var Ee=M1(),_e=q(Ee),me=q(_e),Ce=q(me);lt(4),H(me);var ce=G(me,2),xe=q(ce);Hn(xe,{controlActive:"bg-secondary-500",get checked(){return _(E)},onCheckedChange:se=>{te(E,se.checked,!0)},inactiveChild:se=>{Zo(se,{size:"14"})},activeChild:se=>{Zo(se,{size:"14"})},$$slots:{inactiveChild:!0,activeChild:!0}});var Be=G(xe,2),De=q(Be);Ge(De);var w=G(De,2);w.__click=[D1,N];var Z=q(w);{var z=ee=>{Pf(ee,{size:18})},T=ee=>{wf(ee,{size:18})};Re(Z,ee=>{_(N)?ee(z):ee(T,!1)})}H(w),H(Be);var C=G(Be,2);C.__click=()=>{if(_(E)||!_(h)||_(h).used&&!confirm(`${_(h).name}を削除しますか？`))return;_(h).delete();const{prev:ee,next:he}=_(h);he?te(h,he,!0):ee?te(h,ee,!0):(bs(),te(h,new Yt("レイヤー #1"),!0))};var D=q(C);Ir(D,{size:18}),H(C);var K=G(C,2);K.__click=async()=>{_(E)||!_(h)||!confirm("全レイヤーを削除しますか？")||(Tr([]),bs(),te(h,new Yt("レイヤー #1"),!0))};var Q=q(K);yf(Q,{size:18}),H(K),H(ce);var W=G(ce,2);Hn(W,{controlActive:"bg-secondary-500",get checked(){return _(O)},onCheckedChange:se=>{te(O,se.checked,!0)},inactiveChild:se=>{ws(se,{size:"14"})},activeChild:se=>{ws(se,{size:"14"})},$$slots:{inactiveChild:!0,activeChild:!0}});var ie=G(W,2),le=G(q(ie),2),ae=q(le);H(le),H(ie);var ve=G(ie,2),Ue=q(ve);oo(Ue,{get value(){return _(R)},onValueChange:ee=>te(R,ee.value,!0),markers:[25,50,75]}),H(ve),H(_e);var Ie=G(_e,2),nt=q(Ie),rn=q(nt);Uf(rn,{get initTimestamp(){return _(A)},get pointerupTimestamp(){return _(o)},get activeLayer(){return _(h)},set activeLayer(ee){te(h,ee,!0)}}),H(nt);var dt=G(nt,2),We=q(dt);{var Oe=ee=>{L0(ee,{get initTimestamp(){return _(A)}})};Re(We,ee=>{a||ee(Oe)})}var Ye=G(We,2);let et;Ct(Ye,ee=>te(m,ee),()=>_(m));var Ke=G(Ye,2);{var bt=ee=>{s0(ee,{})};Re(Ke,ee=>{a||ee(bt)})}H(dt);var Je=G(dt,2),an=q(Je);sh(an,{});var Ur=G(an,2);v0(Ur,{get pointerupTimestamp(){return _(o)},get activeLayer(){return _(h)},set activeLayer(ee){te(h,ee,!0)}}),H(Je),H(Ie);var St=G(Ie,2),_n=q(St);pl(_n,{name:"tool",get value(){return _(J)},onValueChange:ee=>{ee.value&&te(J,ee.value,!0)},children:(ee,he)=>{var se=ge(),we=de(se);mt(we,17,()=>V,gt,(Se,Le)=>{var ze=ge(),vt=de(ze);pt(vt,()=>pl.Item,(Ft,sn)=>{sn(Ft,{get value(){return _(Le).label},children:(on,ur)=>{var Vn=ge(),kn=de(Vn);pt(kn,()=>_(Le).icon,(En,xi)=>{xi(En,{})}),Y(on,Vn)},$$slots:{default:!0}})}),Y(Se,ze)}),Y(ee,se)},$$slots:{default:!0}});var xn=G(_n,2),mo=q(xn);Hn(mo,{controlActive:"bg-secondary-500",get checked(){return _(ne)},onCheckedChange:se=>{te(ne,se.checked,!0)},inactiveChild:se=>{var we=ge(),Se=de(we);pt(Se,()=>U.erasable.icon,(Le,ze)=>{ze(Le,{size:"14"})}),Y(se,we)},activeChild:se=>{var we=ge(),Se=de(we);pt(Se,()=>U.erasable.icon,(Le,ze)=>{ze(Le,{size:"14"})}),Y(se,we)},$$slots:{inactiveChild:!0,activeChild:!0}});var bo=G(mo,2);Hn(bo,{controlActive:"bg-secondary-500",get checked(){return _(M)},onCheckedChange:se=>{te(M,se.checked,!0)},inactiveChild:se=>{var we=ge(),Se=de(we);pt(Se,()=>U.flip.icon,(Le,ze)=>{ze(Le,{size:"14"})}),Y(se,we)},activeChild:se=>{var we=ge(),Se=de(we);pt(Se,()=>U.flip.icon,(Le,ze)=>{ze(Le,{size:"14"})}),Y(se,we)},$$slots:{inactiveChild:!0,activeChild:!0}});var yo=G(bo,2);Hn(yo,{controlActive:"bg-secondary-500",get checked(){return _(F)},onCheckedChange:se=>{te(F,se.checked,!0)},inactiveChild:se=>{var we=ge(),Se=de(we);pt(Se,()=>U.grid.icon,(Le,ze)=>{ze(Le,{size:"14"})}),Y(se,we)},activeChild:se=>{var we=ge(),Se=de(we);pt(Se,()=>U.grid.icon,(Le,ze)=>{ze(Le,{size:"14"})}),Y(se,we)},$$slots:{inactiveChild:!0,activeChild:!0}});var wo=G(yo,2);Hn(wo,{controlActive:"bg-secondary-500",get checked(){return _(oe)},onCheckedChange:se=>{te(oe,se.checked,!0)},inactiveChild:se=>{Df(se,{size:"14"})},activeChild:se=>{Cf(se,{size:"14"})},$$slots:{inactiveChild:!0,activeChild:!0}});var qu=G(wo,2);Hn(qu,{controlActive:"bg-secondary-500",get checked(){return r()},onCheckedChange:se=>{ti.set(se.checked)},inactiveChild:se=>{Go(se,{size:"14"})},activeChild:se=>{Go(se,{size:"14"})},$$slots:{inactiveChild:!0,activeChild:!0}}),H(xn);var Ca=G(xn,2);mt(Ca,21,()=>re,gt,(ee,he)=>{var se=F1();se.__click=[N1,X,he];var we=q(se);pt(we,()=>_(he).icon,(Se,Le)=>{Le(Se,{size:18})}),H(se),Y(ee,se)}),H(Ca);var _o=G(Ca,2);x0(_o);var xo=G(_o,2);F0(xo,{init:I,get activeLayer(){return _(h)},set activeLayer(ee){te(h,ee,!0)},get initTimestamp(){return _(A)},set initTimestamp(ee){te(A,ee,!0)}});var ko=G(xo,2);e0(ko,{init:I,get activeLayer(){return _(h)},set activeLayer(ee){te(h,ee,!0)},get initTimestamp(){return _(A)},set initTimestamp(ee){te(A,ee,!0)}});var Eo=G(ko,2);$b(Eo,{get width(){return _(k)},get height(){return S}});var Co=G(Eo,2);y0(Co,{get activeLayer(){return _(h)},set activeLayer(ee){te(h,ee,!0)}});var So=G(Co,2);U0(So,{});var To=G(So,2),Sa=q(To),Gu=q(Sa);P1(Gu,{label:"",isAlpha:!1,get hex(){return Dd(),n()},set hex(ee){He(Gn,ee)}}),H(Sa);var Ta=G(Sa,2);Ge(Ta);var Ao=G(Ta,2);mt(Ao,21,()=>_(L),gt,(ee,he)=>{var se=z1();se.__click=[B1,n,he],Ae(()=>Xt(se,`background-color:${_(he)??""};`)),Y(ee,se)}),H(Ao),H(To),H(St),H(Ee),Ae(ee=>{Ve(Ce,"src",`${gc??""}/midori.png`),De.disabled=_(N),ot(w,1,`ig-btn ${_(N)?"":"preset-filled"}`),it(ae,`${_(R)??""}%`),et=ot(Ye,1,"relative",null,et,ee)},[()=>({"hg-paint-grid-mode":_(F),"hg-paint-dragover":_(c)})]),pn(De,()=>_(B),ee=>te(B,ee)),pn(Ta,n,ee=>He(Gn,ee)),Y(e,Ee),ye(),s()}ht(["click"]);export{Z1 as component};
