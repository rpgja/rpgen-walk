var ed=Object.defineProperty;var To=e=>{throw TypeError(e)};var td=(e,t,n)=>t in e?ed(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var $t=(e,t,n)=>td(e,typeof t!="symbol"?t+"":t,n),Ao=(e,t,n)=>t.has(e)||To("Cannot "+n);var it=(e,t,n)=>(Ao(e,t,"read from private field"),n?n.call(e):t.get(e)),Sn=(e,t,n)=>t.has(e)?To("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Tt=(e,t,n,r)=>(Ao(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);import{c as nd,l as rd,m as id,a as J,d as be,j as ft,f as de,p as ta,t as nr,o as Zn}from"../chunks/DOFUlVd3.js";import{aM as Ql,aV as ad,aY as sd,aZ as od,H as Ms,h as et,I as Di,a as Vs,a_ as ec,S as xr,a0 as tc,l as x,ar as ld,ai as cd,K as ud,U as Io,a4 as Zr,e as An,J as dd,a9 as fd,b as rs,s as hd,a$ as na,b0 as ra,c as pr,R as Oo,ak as vd,C as Ro,a7 as nc,r as rc,p as pd,b1 as gd,b2 as Sa,F as ic,d as ac,b3 as md,a2 as bd,b4 as yd,a6 as wd,b5 as _d,G as Us,b6 as xd,X as sc,b7 as kd,am as Ed,ag as oc,i as fi,D as Ws,n as Cd,ac as Sd,b8 as Td,aK as Ad,b9 as Id,aF as Hs,ax as Od,ab as Fe,ba as lc,aD as cc,bb as Rd,bc as Pd,t as ye,x as we,y as j,A as K,z as H,v as ue,aE as ce,bd as Ld,g as Me,al as te,aC as me,w as Oe,as as dt,u as Dd,aB as uc,be as Nd,bf as Fd,T as pt,bg as Kn}from"../chunks/CYbKrHmN.js";import{a as xi,b as Bd,s as st}from"../chunks/zGMIEQhb.js";import{p as $,r as Be,s as $e,a as He,d as Qe,e as rn,i as De,b as Ct,c as vt,m as zd}from"../chunks/BLgdI1FU.js";import{b as Ge,s as Ne,a as Ve,c as lt,d as is,r as Ze,e as Qt,i as as,f as ss,g as Mt}from"../chunks/BkTpSrff.js";import{b as dc}from"../chunks/CO_Hug6C.js";import{B as fc}from"../chunks/BNq3RvOS.js";import{w as wn,g as Vt,a as hc,o as Md}from"../chunks/DluSDrEB.js";import{p as jt}from"../chunks/9SghuWi5.js";const Vd=[];function Vn(e,t=!1,n=!1){return Oi(e,new Map,"",Vd,null,n)}function Oi(e,t,n,r,i=null,a=!1){if(typeof e=="object"&&e!==null){var s=t.get(e);if(s!==void 0)return s;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(Ql(e)){var o=Array(e.length);t.set(e,o),i!==null&&t.set(i,o);for(var c=0;c<e.length;c+=1){var u=e[c];c in e&&(o[c]=Oi(u,t,n,r,null,a))}return o}if(ad(e)===sd){o={},t.set(e,o),i!==null&&t.set(i,o);for(var d in e)o[d]=Oi(e[d],t,n,r,null,a);return o}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function"&&!a)return Oi(e.toJSON(),t,n,r,e)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return e}}function Ri(e,t,n){et&&Di();var r=new fc(e),i=!od();Ms(()=>{var a=t();i&&a!==null&&typeof a=="object"&&(a={}),r.ensure(a,n)})}function gt(e,t){return t}function Ud(e,t,n){for(var r=e.items,i=[],a=t.length,s=0;s<a;s++)yd(t[s].e,i,!0);var o=a>0&&i.length===0&&n!==null;if(o){var c=n.parentNode;wd(c),c.append(n),r.clear(),Zt(e,t[0].prev,t[a-1].next)}_d(i,()=>{for(var u=0;u<a;u++){var d=t[u];o||(r.delete(d.k),Zt(e,d.prev,d.next)),ac(d.e,!o)}})}function mt(e,t,n,r,i,a=null){var s=e,o={flags:t,items:new Map,first:null},c=(t&ec)!==0;if(c){var u=e;s=et?xr(tc(u)):u.appendChild(Vs())}et&&Di();var d=null,g=!1,p=new Map,l=ld(()=>{var h=n();return Ql(h)?h:h==null?[]:nc(h)}),v,f;function m(){Wd(f,v,o,p,s,i,t,r,n),a!==null&&(v.length===0?d?rc(d):d=rs(()=>a(s)):d!==null&&pd(d,()=>{d=null}))}Ms(()=>{f??(f=Us),v=x(l);var h=v.length;if(g&&h===0)return;g=h===0;let y=!1;if(et){var _=cd(s)===ud;_!==(h===0)&&(s=Io(),xr(s),Zr(!1),y=!0)}if(et){for(var E=null,k,T=0;T<h;T++){if(An.nodeType===dd&&An.data===fd){s=An,y=!0,Zr(!1);break}var I=v[T],P=r(I,T);k=os(An,o,E,null,I,P,T,i,t,n),o.items.set(P,k),E=k}h>0&&xr(Io())}if(et)h===0&&a&&(d=rs(()=>a(s)));else if(hd()){var O=new Set,D=pr;for(T=0;T<h;T+=1){I=v[T],P=r(I,T);var N=o.items.get(P)??p.get(P);N?(t&(na|ra))!==0&&vc(N,I,T,t):(k=os(null,o,null,null,I,P,T,i,t,n,!0),p.set(P,k)),O.add(P)}for(const[C,L]of o.items)O.has(C)||D.skipped_effects.add(L.e);D.oncommit(m)}else m();y&&Zr(!0),x(l)}),et&&(s=An)}function Wd(e,t,n,r,i,a,s,o,c){var q,Q,M,B;var u=(s&md)!==0,d=(s&(na|ra))!==0,g=t.length,p=n.items,l=n.first,v=l,f,m=null,h,y=[],_=[],E,k,T,I;if(u)for(I=0;I<g;I+=1)E=t[I],k=o(E,I),T=p.get(k),T!==void 0&&((q=T.a)==null||q.measure(),(h??(h=new Set)).add(T));for(I=0;I<g;I+=1){if(E=t[I],k=o(E,I),T=p.get(k),T===void 0){var P=r.get(k);if(P!==void 0){r.delete(k),p.set(k,P);var O=m?m.next:v;Zt(n,m,P),Zt(n,P,O),Ta(P,O,i),m=P}else{var D=v?v.e.nodes_start:i;m=os(D,n,m,m===null?n.first:m.next,E,k,I,a,s,c)}p.set(k,m),y=[],_=[],v=m.next;continue}if(d&&vc(T,E,I,s),(T.e.f&Sa)!==0&&(rc(T.e),u&&((Q=T.a)==null||Q.unfix(),(h??(h=new Set)).delete(T))),T!==v){if(f!==void 0&&f.has(T)){if(y.length<_.length){var N=_[0],C;m=N.prev;var L=y[0],b=y[y.length-1];for(C=0;C<y.length;C+=1)Ta(y[C],N,i);for(C=0;C<_.length;C+=1)f.delete(_[C]);Zt(n,L.prev,b.next),Zt(n,m,L),Zt(n,b,N),v=N,m=b,I-=1,y=[],_=[]}else f.delete(T),Ta(T,v,i),Zt(n,T.prev,T.next),Zt(n,T,m===null?n.first:m.next),Zt(n,m,T),m=T;continue}for(y=[],_=[];v!==null&&v.k!==k;)(v.e.f&Sa)===0&&(f??(f=new Set)).add(v),_.push(v),v=v.next;if(v===null)continue;T=v}y.push(T),m=T,v=T.next}if(v!==null||f!==void 0){for(var R=f===void 0?[]:nc(f);v!==null;)(v.e.f&Sa)===0&&R.push(v),v=v.next;var V=R.length;if(V>0){var U=(s&ec)!==0&&g===0?i:null;if(u){for(I=0;I<V;I+=1)(M=R[I].a)==null||M.measure();for(I=0;I<V;I+=1)(B=R[I].a)==null||B.fix()}Ud(n,R,U)}}u&&ic(()=>{var re;if(h!==void 0)for(T of h)(re=T.a)==null||re.apply()}),e.first=n.first&&n.first.e,e.last=m&&m.e;for(var Y of r.values())ac(Y.e);r.clear()}function vc(e,t,n,r){(r&na)!==0&&Oo(e.v,t),(r&ra)!==0?Oo(e.i,n):e.i=n}function os(e,t,n,r,i,a,s,o,c,u,d){var g=(c&na)!==0,p=(c&gd)===0,l=g?p?vd(i,!1,!1):Ro(i):i,v=(c&ra)===0?s:Ro(s),f={i:v,v:l,k:a,a:null,e:null,prev:n,next:r};try{if(e===null){var m=document.createDocumentFragment();m.append(e=Vs())}return f.e=rs(()=>o(e,l,v,u),et),f.e.prev=n&&n.e,f.e.next=r&&r.e,n===null?d||(t.first=f):(n.next=f,n.e.next=f.e),r!==null&&(r.prev=f,r.e.prev=f.e),f}finally{}}function Ta(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,i=t?t.e.nodes_start:n,a=e.e.nodes_start;a!==null&&a!==r;){var s=bd(a);i.before(a),a=s}}function Zt(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Hd(e,t,n,r,i,a){let s=et;et&&Di();var o=null;et&&An.nodeType===xd&&(o=An,Di());var c=et?An:e,u=new fc(c,!1);Ms(()=>{const d=t()||null;var g=kd;if(d===null){u.ensure(null,null),xi(!0);return}return u.ensure(d,p=>{if(d){if(o=et?o:document.createElementNS(g,d),nd(o,o),r){et&&rd(d)&&o.append(document.createComment(""));var l=et?tc(o):o.appendChild(Vs());et&&(l===null?Zr(!1):xr(l)),r(o,l)}Us.nodes_end=o,p.before(o)}et&&xr(p)}),xi(!0),()=>{d&&xi(!1)}},sc),Ed(()=>{xi(!0)}),s&&(Zr(!0),xr(c))}function $d(e,t,n){oc(()=>{var r=fi(()=>t(e,n==null?void 0:n())||{});if(n&&(r!=null&&r.update)){var i=!1,a={};Ws(()=>{var s=n();Cd(s),i&&Sd(a,s)&&(a=s,r.update(s))}),i=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}const jd=()=>performance.now(),hn={tick:e=>requestAnimationFrame(e),now:()=>jd(),tasks:new Set};function pc(){const e=hn.now();hn.tasks.forEach(t=>{t.c(e)||(hn.tasks.delete(t),t.f())}),hn.tasks.size!==0&&hn.tick(pc)}function qd(e){let t;return hn.tasks.size===0&&hn.tick(pc),{promise:new Promise(n=>{hn.tasks.add(t={c:e,f:n})}),abort(){hn.tasks.delete(t)}}}function ki(e,t){Hs(()=>{e.dispatchEvent(new CustomEvent(t))})}function Gd(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function Po(e){const t={},n=e.split(";");for(const r of n){const[i,a]=r.split(":");if(!i||a===void 0)break;const s=Gd(i.trim());t[s]=a.trim()}return t}const Zd=e=>e;function Kd(e,t,n,r){var i=(e&Id)!==0,a="both",s,o=t.inert,c=t.style.overflow,u,d;function g(){return Hs(()=>s??(s=n()(t,(r==null?void 0:r())??{},{direction:a})))}var p={is_global:i,in(){t.inert=o,ki(t,"introstart"),u=ls(t,g(),d,1,()=>{ki(t,"introend"),u==null||u.abort(),u=s=void 0,t.style.overflow=c})},out(m){t.inert=!0,ki(t,"outrostart"),d=ls(t,g(),u,0,()=>{ki(t,"outroend"),m==null||m()})},stop:()=>{u==null||u.abort(),d==null||d.abort()}},l=Us;if((l.transitions??(l.transitions=[])).push(p),Bd){var v=i;if(!v){for(var f=l.parent;f&&(f.f&sc)!==0;)for(;(f=f.parent)&&(f.f&Td)===0;);v=!f||(f.f&Ad)!==0}v&&oc(()=>{fi(()=>p.in())})}}function ls(e,t,n,r,i){var a=r===1;if(Od(t)){var s,o=!1;return ic(()=>{if(!o){var m=t({direction:a?"in":"out"});s=ls(e,m,n,r,i)}}),{abort:()=>{o=!0,s==null||s.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(n==null||n.deactivate(),!(t!=null&&t.duration))return i(),{abort:Fe,deactivate:Fe,reset:Fe,t:()=>r};const{delay:c=0,css:u,tick:d,easing:g=Zd}=t;var p=[];if(a&&n===void 0&&(d&&d(0,1),u)){var l=Po(u(0,1));p.push(l,l)}var v=()=>1-r,f=e.animate(p,{duration:c,fill:"forwards"});return f.onfinish=()=>{f.cancel();var m=(n==null?void 0:n.t())??1-r;n==null||n.abort();var h=r-m,y=t.duration*Math.abs(h),_=[];if(y>0){var E=!1;if(u)for(var k=Math.ceil(y/16.666666666666668),T=0;T<=k;T+=1){var I=m+h*g(T/k),P=Po(u(I,1-I));_.push(P),E||(E=P.overflow==="hidden")}E&&(e.style.overflow="hidden"),v=()=>{var O=f.currentTime;return m+h*g(O/y)},d&&qd(()=>{if(f.playState!=="running")return!1;var O=v();return d(O,1-O),!0})}f=e.animate(_,{duration:y,fill:"forwards"}),f.onfinish=()=>{v=()=>r,d==null||d(r,1-r),i()}},{abort:()=>{f&&(f.cancel(),f.effect=null,f.onfinish=Fe)},deactivate:()=>{i=Fe},reset:()=>{r===0&&(d==null||d(1,0))},t:()=>v()}}function vn(e,t,n=t){var r=new WeakSet;lc(e,"input",async i=>{var a=i?e.defaultValue:e.value;if(a=Aa(e)?Ia(a):a,n(a),pr!==null&&r.add(pr),await cc(),a!==(a=t())){var s=e.selectionStart,o=e.selectionEnd,c=e.value.length;if(e.value=a??"",o!==null){var u=e.value.length;s===o&&o===c&&u>c?(e.selectionStart=u,e.selectionEnd=u):(e.selectionStart=s,e.selectionEnd=Math.min(o,u))}}}),(et&&e.defaultValue!==e.value||fi(t)==null&&e.value)&&(n(Aa(e)?Ia(e.value):e.value),pr!==null&&r.add(pr)),Ws(()=>{var i=t();if(e===document.activeElement){var a=Rd??pr;if(r.has(a))return}Aa(e)&&i===Ia(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function ni(e,t,n=t){lc(e,"change",r=>{var i=r?e.defaultChecked:e.checked;n(i)}),(et&&e.defaultChecked!==e.checked||fi(t)==null)&&n(e.checked),Ws(()=>{var r=t();e.checked=!!r})}function Aa(e){var t=e.type;return t==="number"||t==="range"}function Ia(e){return e===""?null:+e}function Lo(e,t){Pd(window,["resize"],()=>Hs(()=>t(window[e])))}const gc=typeof window<"u",Do=e=>gc?localStorage.getItem(e):null,No=(e,t)=>{gc&&(t===null?localStorage.removeItem(e):localStorage.setItem(e,t))};var On,ci;class hi{constructor(t,n){Sn(this,On);Sn(this,ci);Tt(this,On,t),Tt(this,ci,n)}get value(){return Do(it(this,On))}set value(t){var n;this.value!==t&&(No(it(this,On),t),(n=it(this,ci))==null||n.call(this))}get json(){try{const t=Do(it(this,On));return t?JSON.parse(t):null}finally{this.value=null}}set json(t){t===null&&No(it(this,On),null),this.value=JSON.stringify(t)}}On=new WeakMap,ci=new WeakMap;const Fo=new hi("tool"),mc=new hi("color"),bc=new hi("standard"),yc=new hi("fps"),wc=new hi("preview");let $s=!1,rr,ir,Ft,ia,Ot;const Xt=(e,t)=>e+t*Ft,_c=e=>[e%Ft,Math.floor(e/Ft)],Pi=(e,t,n,r)=>{$s=!0,rr=e,ir=t;const i=xc(r);ia=i.length,Ft=n,Ot=i,ri.clear();for(const[a,s]of i.entries())ri.set(s,a*Ft);Jn.clear(),Ut.clear(),ii.clear()},ri=new Map,Jn=new Map,Ut=new Map,ii=new Map,ke={w:{key:"w",label:"後"},a:{key:"a",label:"左"},s:{key:"s",label:"前"},d:{key:"d",label:"右"},q:{key:"q",label:"左後"},e:{key:"e",label:"右後"},z:{key:"z",label:"左前"},c:{key:"c",label:"右前"}},Kr=e=>e.map(t=>t.key).join(""),xc=e=>e.split("").map(t=>t in ke?ke[t]:{key:t,label:""}),js={label:"RPGEN",w:16,h:16,frames:2,ways:[ke.w,ke.d,ke.s,ke.a]},kc={label:"RPGツクール2000",w:24,h:32,frames:3,ways:[ke.w,ke.d,ke.s,ke.a]},Ec={label:"RPGツクールXP",w:32,h:48,frames:4,ways:[ke.s,ke.a,ke.d,ke.w]},Cc={label:"RPGツクールVX",w:32,h:32,frames:3,ways:[ke.s,ke.a,ke.d,ke.w]},Sc={label:"RPGツクールMV",w:48,h:48,frames:3,ways:[ke.s,ke.a,ke.d,ke.w]},Ni=[js,kc,Ec,Cc,Sc],Tn=Ni.find(e=>e.label===bc.value)??js,Rn=Object.freeze(Object.defineProperty({__proto__:null,RPGEN:js,RPGMaker2000:kc,RPGMakerMV:Sc,RPGMakerVX:Cc,RPGMakerXP:Ec,canvasByI:Ut,dataURLByI:ii,defaultStandard:Tn,get frames(){return Ft},get height(){return ir},iByWay:ri,init:Pi,layersByI:Jn,get ready(){return $s},standards:Ni,strToWays:xc,toI:Xt,toXY:_c,way:ke,get ways(){return ia},get waysOrder(){return Ot},waysToStr:Kr,get width(){return rr}},Symbol.toStringTag,{value:"Module"}));var un;function Tc(e){return{lang:(e==null?void 0:e.lang)??(un==null?void 0:un.lang),message:e==null?void 0:e.message,abortEarly:(e==null?void 0:e.abortEarly)??(un==null?void 0:un.abortEarly),abortPipeEarly:(e==null?void 0:e.abortPipeEarly)??(un==null?void 0:un.abortPipeEarly)}}var Oa;function Xd(e){return Oa==null?void 0:Oa.get(e)}var Ra;function Yd(e){return Ra==null?void 0:Ra.get(e)}var Pa;function Jd(e,t){var n;return(n=Pa==null?void 0:Pa.get(e))==null?void 0:n.get(t)}function ai(e){var n,r;const t=typeof e;return t==="string"?`"${e}"`:t==="number"||t==="bigint"||t==="boolean"?`${e}`:t==="object"||t==="function"?(e&&((r=(n=Object.getPrototypeOf(e))==null?void 0:n.constructor)==null?void 0:r.name))??"null":t}function kt(e,t,n,r,i){const a=i&&"input"in i?i.input:n.value,s=(i==null?void 0:i.expected)??e.expects??null,o=(i==null?void 0:i.received)??ai(a),c={kind:e.kind,type:e.type,input:a,expected:s,received:o,message:`Invalid ${t}: ${s?`Expected ${s} but r`:"R"}eceived ${o}`,requirement:e.requirement,path:i==null?void 0:i.path,issues:i==null?void 0:i.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},u=e.kind==="schema",d=(i==null?void 0:i.message)??e.message??Jd(e.reference,c.lang)??(u?Yd(c.lang):null)??r.message??Xd(c.lang);d!==void 0&&(c.message=typeof d=="function"?d(c):d),u&&(n.typed=!1),n.issues?n.issues.push(c):n.issues=[c]}function vi(e){return{version:1,vendor:"valibot",validate(t){return e["~run"]({value:t},Tc())}}}function Qd(e,t){const n=[...new Set(e)];return n.length>1?`(${n.join(` ${t} `)})`:n[0]??"never"}function Ac(e,t){return{kind:"validation",type:"check",reference:Ac,async:!1,expects:null,requirement:e,message:t,"~run"(n,r){return n.typed&&!this.requirement(n.value)&&kt(this,"input",n,r),n}}}function Lr(e){return{kind:"validation",type:"integer",reference:Lr,async:!1,expects:null,requirement:Number.isInteger,message:e,"~run"(t,n){return t.typed&&!this.requirement(t.value)&&kt(this,"integer",t,n),t}}}function Dr(e,t){return{kind:"validation",type:"max_value",reference:Dr,async:!1,expects:`<=${e instanceof Date?e.toJSON():ai(e)}`,requirement:e,message:t,"~run"(n,r){return n.typed&&!(n.value<=this.requirement)&&kt(this,"value",n,r,{received:n.value instanceof Date?n.value.toJSON():ai(n.value)}),n}}}function Nr(e,t){return{kind:"validation",type:"min_value",reference:Nr,async:!1,expects:`>=${e instanceof Date?e.toJSON():ai(e)}`,requirement:e,message:t,"~run"(n,r){return n.typed&&!(n.value>=this.requirement)&&kt(this,"value",n,r,{received:n.value instanceof Date?n.value.toJSON():ai(n.value)}),n}}}function Ic(e,t){return{kind:"validation",type:"regex",reference:Ic,async:!1,expects:`${e}`,requirement:e,message:t,"~run"(n,r){return n.typed&&!this.requirement.test(n.value)&&kt(this,"format",n,r),n}}}function Fr(e){return{kind:"transformation",type:"transform",reference:Fr,async:!1,operation:e,"~run"(t){return t.value=this.operation(t.value),t}}}function Oc(){return{kind:"transformation",type:"trim",reference:Oc,async:!1,"~run"(e){return e.value=e.value.trim(),e}}}function Rc(e){return{kind:"validation",type:"url",reference:Rc,async:!1,expects:null,requirement(t){try{return new URL(t),!0}catch{return!1}},message:e,"~run"(t,n){return t.typed&&!this.requirement(t.value)&&kt(this,"URL",t,n),t}}}function ef(e,t,n){return typeof e.fallback=="function"?e.fallback(t,n):e.fallback}function tf(e,t,n){return typeof e.default=="function"?e.default(t,n):e.default}function mn(e){return{kind:"schema",type:"number",reference:mn,expects:"number",async:!1,message:e,get"~standard"(){return vi(this)},"~run"(t,n){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:kt(this,"type",t,n),t}}}function Pc(e,t){return{kind:"schema",type:"strict_object",reference:Pc,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return vi(this)},"~run"(n,r){var a;const i=n.value;if(i&&typeof i=="object"){n.typed=!0,n.value={};for(const s in this.entries){const o=this.entries[s];if(s in i||(o.type==="exact_optional"||o.type==="optional"||o.type==="nullish")&&o.default!==void 0){const c=s in i?i[s]:tf(o),u=o["~run"]({value:c},r);if(u.issues){const d={type:"object",origin:"value",input:i,key:s,value:c};for(const g of u.issues)g.path?g.path.unshift(d):g.path=[d],(a=n.issues)==null||a.push(g);if(n.issues||(n.issues=u.issues),r.abortEarly){n.typed=!1;break}}u.typed||(n.typed=!1),n.value[s]=u.value}else if(o.fallback!==void 0)n.value[s]=ef(o);else if(o.type!=="exact_optional"&&o.type!=="optional"&&o.type!=="nullish"&&(kt(this,"key",n,r,{input:void 0,expected:`"${s}"`,path:[{type:"object",origin:"key",input:i,key:s,value:i[s]}]}),r.abortEarly))break}if(!n.issues||!r.abortEarly){for(const s in i)if(!(s in this.entries)){kt(this,"key",n,r,{input:s,expected:"never",path:[{type:"object",origin:"key",input:i,key:s,value:i[s]}]});break}}}else kt(this,"type",n,r);return n}}}function Mn(e){return{kind:"schema",type:"string",reference:Mn,expects:"string",async:!1,message:e,get"~standard"(){return vi(this)},"~run"(t,n){return typeof t.value=="string"?t.typed=!0:kt(this,"type",t,n),t}}}function Bo(e){let t;if(e)for(const n of e)t?t.push(...n.issues):t=n.issues;return t}function aa(e,t){return{kind:"schema",type:"union",reference:aa,expects:Qd(e.map(n=>n.expects),"|"),async:!1,options:e,message:t,get"~standard"(){return vi(this)},"~run"(n,r){let i,a,s;for(const o of this.options){const c=o["~run"]({value:n.value},r);if(c.typed)if(c.issues)a?a.push(c):a=[c];else{i=c;break}else s?s.push(c):s=[c]}if(i)return i;if(a){if(a.length===1)return a[0];kt(this,"type",n,r,{issues:Bo(a)}),n.typed=!0}else{if((s==null?void 0:s.length)===1)return s[0];kt(this,"type",n,r,{issues:Bo(s)})}return n}}}function ar(...e){return{...e[0],pipe:e,get"~standard"(){return vi(this)},"~run"(t,n){for(const r of e)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=r["~run"](t,n))}return t}}}function In(e,t,n){const r=e["~run"]({value:t},Tc(n));return{typed:r.typed,success:!r.issues,output:r.value,issues:r.issues}}const nf=ar(aa([Mn(),mn()]),Fr(e=>Number(e)),mn(),Lr(),Nr(16),Dr(256)),rf=ar(aa([Mn(),mn()]),Fr(e=>Number(e)),mn(),Lr(),Nr(16),Dr(256)),af=ar(aa([Mn(),mn()]),Fr(e=>Number(e)),mn(),Lr(),Nr(1),Dr(8)),sf=ar(Mn(),Oc(),Ic(/^[a-z]+$/),Ac(e=>e.length===new Set(e).size)),Lc=ar(Mn(),Fr(e=>Number(e)),mn(),Lr(),Nr(2),Dr(8)),Dc=ar(Mn(),Fr(e=>Number(e)),mn(),Lr(),Nr(0),Dr(1)),Nc=ar(Mn(),Rc());var of=(e,t,n,r,i,a)=>{const s=(g,p)=>{const l=(p*t+g)*4;return[e[l],e[l+1],e[l+2],e[l+3]]},o=(g,p,l)=>{const v=(p*t+g)*4;[e[v],e[v+1],e[v+2],e[v+3]]=l},c=(g,p)=>g.every((l,v)=>l===p[v]),u=s(r,i);if(c(u,a))return null;const d=[[r,i]];for(;d.length>0;){const g=d.pop();if(!g)break;const[p,l]=g;if(p<0||l<0||p>=t||l>=n)continue;const v=s(p,l);c(v,u)&&(o(p,l,a),d.push([p+1,l],[p-1,l],[p,l+1],[p,l-1]))}return e},wt,Xl,lf=(Xl=class{constructor(){Sn(this,wt);Tt(this,wt,{value:null,prev:null,next:null})}add(e){const t={value:e,prev:it(this,wt),next:null};it(this,wt).next=t,Tt(this,wt,t)}undo(){const{prev:e}=it(this,wt);return e===null||e.value===null?null:(Tt(this,wt,e),it(this,wt).value)}redo(){const{next:e}=it(this,wt);return e===null||e.value===null?null:(Tt(this,wt,e),it(this,wt).value)}},wt=new WeakMap,Xl),pn=null,At,It,Xr,cs,yt,Fi=0,ot=[],Tr,ui,Yl,sr=(Yl=class{constructor(e,t){Sn(this,Tr);Sn(this,ui);Tt(this,Tr,e),Tt(this,ui,t??null)}get value(){return it(this,Tr)}set value(e){var t;Tt(this,Tr,e),(t=it(this,ui))==null||t.call(this)}},Tr=new WeakMap,ui=new WeakMap,Yl),Dn=new sr("#222222"),cf=new sr(2),uf=new sr(16),df=new sr(32),qs=new sr(!1,()=>{pn&&(pn.style.transform=`scaleX(${qs.value?-1:1})`)}),Bi=()=>Xr,ff=(e=1,t=64,n=It)=>{Xr=Math.floor(Math.floor(n/t)*e),Fc()},us=0,ds=0,fs=0,hs=0,vs=0,ps=0,Hn=null,Fc=()=>{us=0,ds=0,fs=0,hs=0,vs=0,ps=0,Hn=null},kr=()=>ot.filter(e=>e!==null),hf=(e,t)=>pn==null?void 0:pn.insertBefore(e,t.nextSibling),Ar=e=>{for(const n of ot)n==null||n.canvas.remove();ot=e,ms();let t=cs.canvas;for(const n of ot)n&&(hf(n.canvas,t),t=n.canvas)},Gs=new sr(null),Bc=new sr(null),vf=(e,t=640,n=360)=>{const r=document.createElement("div");e.innerHTML="",e.append(r),pn=r,At=Math.floor(t),It=Math.floor(n),r.innerHTML="",r.style.position="relative",r.style.zIndex="0",r.style.display="inline-block",r.style.width=`${t}px`,r.style.height=`${n}px`,Fi=0,cs=new en(""),yt=new en(""),yt.canvas.style.zIndex=String(2**16+3),Gs.value=cs,Bc.value=yt,ot=[]},Xn=e=>{const{clientX:t,clientY:n}=e,r=yt.canvas.getBoundingClientRect();let i=Math.floor(t-r.left);const a=Math.floor(n-r.top);return qs.value&&(i=At-i),[i,a,e.buttons]},pf=e=>{yt.canvas.addEventListener("click",t=>requestAnimationFrame(()=>e(...Xn(t))),{passive:!0}),yt.canvas.addEventListener("contextmenu",t=>t.preventDefault()),yt.canvas.addEventListener("auxclick",t=>{t.preventDefault(),requestAnimationFrame(()=>e(...Xn(t)))})},gf=e=>{yt.canvas.addEventListener("pointerdown",t=>{Fc(),yt.canvas.setPointerCapture(t.pointerId),gs=!0,requestAnimationFrame(()=>e(...Xn(t)))},{passive:!0}),yt.canvas.addEventListener("pointermove",t=>{if(gs){for(const n of t.getCoalescedEvents())requestAnimationFrame(()=>e(...Xn(n)));requestAnimationFrame(()=>e(...Xn(t)))}},{passive:!0}),yt.canvas.addEventListener("touchstart",t=>t.preventDefault()),yt.canvas.addEventListener("touchmove",t=>t.preventDefault())},gs=!1,mf=e=>{yt.canvas.addEventListener("pointerup",t=>{yt.canvas.releasePointerCapture(t.pointerId),gs=!1,requestAnimationFrame(()=>e(...Xn(t)))},{passive:!0})},Gn,di,Jl,en=(Jl=class{constructor(e="",t=""){$t(this,"canvas");$t(this,"ctx");$t(this,"name");$t(this,"index");$t(this,"history",new lf);$t(this,"hash",0);Sn(this,Gn,!0);Sn(this,di,100);$t(this,"locked",!1);$t(this,"used",!1);$t(this,"uuid");this.name=e,this.uuid=t||crypto.randomUUID();const n=document.createElement("canvas");pn==null||pn.append(n),n.width=At,n.height=It,n.style.position="absolute",n.style.zIndex=String(++Fi),n.style.left="0",n.style.top="0",this.canvas=n;const r=n.getContext("2d",{willReadFrequently:!0});if(!r)throw new Error("Failed to get 2D rendering context");this.ctx=r,ot.push(this),this.index=ot.length-1,this.trace()}get meta(){const{name:e,index:t,hash:n,visible:r,opacity:i,locked:a,used:s,uuid:o}=this;return{name:e,index:t,hash:n,visible:r,opacity:i,locked:a,used:s,uuid:o}}set meta(e){this.name=e.name,this.index=e.index,this.hash=e.hash,this.visible=e.visible,this.opacity=e.opacity,this.locked=e.locked,this.used=e.used,this.uuid=e.uuid}delete(){ot[this.index]=null,this.canvas.remove()}get below(){const e=ot.slice(0,this.index).findLast(t=>t);return e||null}get above(){const e=ot.slice(this.index+1).find(t=>t);return e||null}swap(e){const t=this.index;if(e===t)return;const n=ot[e];n&&([ot[t],ot[e]]=[ot[e],ot[t]],[this.index,n.index]=[n.index,this.index],[this.canvas.style.zIndex,n.canvas.style.zIndex]=[n.canvas.style.zIndex,this.canvas.style.zIndex])}get visible(){return it(this,Gn)}set visible(e){Tt(this,Gn,e),this.canvas.style.visibility=it(this,Gn)?"visible":"hidden"}get editable(){return!this.locked&&it(this,Gn)}get opacity(){return it(this,di)}set opacity(e){Tt(this,di,e),this.canvas.style.opacity=`${e}%`}get data(){return this.ctx.getImageData(0,0,At,It).data}set data(e){const t=this.ctx.createImageData(At,It);t.data.set(e),this.ctx.putImageData(t,0,0)}modified(){const e=bf(this.data);return this.hash!==e?(this.hash=e,this.used=!0,!0):!1}trace(){this.history.add(this.data)}undo(){if(!this.editable)return;const e=this.history.undo();e&&(this.data=e)}redo(){if(!this.editable)return;const e=this.history.redo();e&&(this.data=e)}clear(){this.editable&&this.ctx.clearRect(0,0,At,It)}fill(e){this.editable&&(this.ctx.fillStyle=e,this.ctx.fillRect(0,0,At,It))}paste(e){if(!this.editable)return;const{width:t,height:n}=e,r=Math.min(At/t,It/n),i=t*r|0,a=n*r|0,s=At-i>>1,o=It-a>>1;this.ctx.drawImage(e,s,o,i,a)}translateByDot(e,t){if(!this.editable)return;const n=Xr;us+=e,ds+=t;const r=Math.round(us/n)*n,i=Math.round(ds/n)*n;(r!==fs||i!==hs)&&(Hn||(Hn=this.ctx.getImageData(0,0,At,It)),this.clear(),this.ctx.putImageData(Hn,r,i),fs=r,hs=i)}translate(e,t){this.editable&&(Hn||(Hn=this.ctx.getImageData(0,0,At,It)),vs+=e,ps+=t,this.clear(),this.ctx.putImageData(Hn,Math.floor(vs),Math.floor(ps)))}eraseByDot(e,t){if(!this.editable)return;const n=Xr,r=Math.floor(e/n)*n,i=Math.floor(t/n)*n;this.ctx.clearRect(r,i,n,n)}drawByDot(e,t){if(!this.editable)return;this.ctx.fillStyle=Dn.value;const n=Xr,r=Math.floor(e/n)*n,i=Math.floor(t/n)*n;this.ctx.fillRect(r,i,n,n)}erase(e,t){this.editable&&(this.ctx.globalCompositeOperation="destination-out",this.ctx.beginPath(),this.ctx.arc(e,t,df.value>>1,0,Math.PI*2),this.ctx.fill(),this.ctx.globalCompositeOperation="source-over")}draw(e,t){if(!this.editable)return;this.ctx.fillStyle=Dn.value;const n=uf.value,r=n>>1;this.ctx.fillRect(e-r,t-r,n,n)}drawLine(e,t,n,r){this.editable&&(this.ctx.strokeStyle=Dn.value,this.ctx.lineWidth=cf.value,this.ctx.lineCap="round",this.ctx.beginPath(),this.ctx.moveTo(e,t),this.ctx.lineTo(n,r),this.ctx.stroke())}},Gn=new WeakMap,di=new WeakMap,Jl),Er=()=>{const e=document.createElement("canvas");e.width=At,e.height=It;const t=e.getContext("2d",{willReadFrequently:!0});if(!t)throw new Error("Failed to get 2D rendering context");for(const n of ot)!n||!n.visible||(t.globalAlpha=n.opacity/100,t.drawImage(n.canvas,0,0));return e},ms=()=>{Fi=2;const e=kr();for(const[t,n]of e.entries())n.index=t,n.canvas.style.zIndex=String(++Fi);ot=e},bf=e=>{let t=2166136261;for(let n=0;n<e.length;n++)t^=e[n],t=Math.imul(t,16777619);return t>>>0},yf=(e,t,n,r)=>{const i=n-e,a=r-t,s=Math.max(...[i,a].map(Math.abs))||1,o=i/s,c=a/s;return[...new Array(s).keys()].map(u=>[u*o+e,u*c+t].map(Math.round))};const $n=wn(mc.value??Dn.value),Yn=wn(0),zo=In(Lc,yc.value),Fn=wn(zo.success?zo.output:2),Mo=In(Dc,wc.value),zi=wn(Mo.success?Mo.output:0),Qn=wn(100),Ir=wn(!1),Yt=wn(!1),Kt=wn("");/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 */const wf={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var _f=id("<svg><!><!></svg>");function je(e,t){ye(t,!0);const n=$(t,"color",3,"currentColor"),r=$(t,"size",3,24),i=$(t,"strokeWidth",3,2),a=$(t,"absoluteStrokeWidth",3,!1),s=$(t,"iconNode",19,()=>[]),o=Be(t,["$$slots","$$events","$$legacy","name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","children"]);var c=_f();Ge(c,g=>({...wf,...o,width:r(),height:r(),stroke:n(),"stroke-width":g,class:["lucide-icon lucide",t.name&&`lucide-${t.name}`,t.class]}),[()=>a()?Number(i())*24/Number(r()):i()]);var u=j(c);mt(u,17,s,gt,(g,p)=>{var l=ce(()=>Ld(x(p),2));let v=()=>x(l)[0],f=()=>x(l)[1];var m=be(),h=ue(m);Hd(h,v,!0,(y,_)=>{Ge(y,()=>({...f()}))}),J(g,m)});var d=K(u);Ne(d,()=>t.children??Fe),H(c),J(e,c),we()}function zc(e,t){ye(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Be(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 5v14"}],["path",{d:"m19 12-7 7-7-7"}]];je(e,$e({name:"arrow-down"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=be(),o=ue(s);Ne(o,()=>t.children??Fe),J(i,s)},$$slots:{default:!0}})),we()}function xf(e,t){ye(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Be(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]];je(e,$e({name:"arrow-left"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=be(),o=ue(s);Ne(o,()=>t.children??Fe),J(i,s)},$$slots:{default:!0}})),we()}function kf(e,t){ye(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Be(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M5 12h14"}],["path",{d:"m12 5 7 7-7 7"}]];je(e,$e({name:"arrow-right"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=be(),o=ue(s);Ne(o,()=>t.children??Fe),J(i,s)},$$slots:{default:!0}})),we()}function gr(e,t){ye(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Be(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m5 12 7-7 7 7"}],["path",{d:"M12 19V5"}]];je(e,$e({name:"arrow-up"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=be(),o=ue(s);Ne(o,()=>t.children??Fe),J(i,s)},$$slots:{default:!0}})),we()}function Ef(e,t){ye(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Be(t,["$$slots","$$events","$$legacy"]);const r=[["circle",{cx:"11",cy:"13",r:"9"}],["path",{d:"M14.35 4.65 16.3 2.7a2.41 2.41 0 0 1 3.4 0l1.6 1.6a2.4 2.4 0 0 1 0 3.4l-1.95 1.95"}],["path",{d:"m22 2-1.5 1.5"}]];je(e,$e({name:"bomb"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=be(),o=ue(s);Ne(o,()=>t.children??Fe),J(i,s)},$$slots:{default:!0}})),we()}function Cf(e,t){ye(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Be(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M20 6 9 17l-5-5"}]];je(e,$e({name:"check"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=be(),o=ue(s);Ne(o,()=>t.children??Fe),J(i,s)},$$slots:{default:!0}})),we()}function Vo(e,t){ye(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Be(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21"}],["path",{d:"M22 21H7"}],["path",{d:"m5 11 9 9"}]];je(e,$e({name:"eraser"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=be(),o=ue(s);Ne(o,()=>t.children??Fe),J(i,s)},$$slots:{default:!0}})),we()}function Sf(e,t){ye(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Be(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m15 18-.722-3.25"}],["path",{d:"M2 8a10.645 10.645 0 0 0 20 0"}],["path",{d:"m20 15-1.726-2.05"}],["path",{d:"m4 15 1.726-2.05"}],["path",{d:"m9 18 .722-3.25"}]];je(e,$e({name:"eye-closed"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=be(),o=ue(s);Ne(o,()=>t.children??Fe),J(i,s)},$$slots:{default:!0}})),we()}function bs(e,t){ye(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Be(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"}],["circle",{cx:"12",cy:"12",r:"3"}]];je(e,$e({name:"eye"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=be(),o=ue(s);Ne(o,()=>t.children??Fe),J(i,s)},$$slots:{default:!0}})),we()}function Tf(e,t){ye(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Be(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 17h.01"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3"}]];je(e,$e({name:"file-question"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=be(),o=ue(s);Ne(o,()=>t.children??Fe),J(i,s)},$$slots:{default:!0}})),we()}function Af(e,t){ye(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Be(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m3 7 5 5-5 5V7"}],["path",{d:"m21 7-5 5 5 5V7"}],["path",{d:"M12 20v2"}],["path",{d:"M12 14v2"}],["path",{d:"M12 8v2"}],["path",{d:"M12 2v2"}]];je(e,$e({name:"flip-horizontal-2"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=be(),o=ue(s);Ne(o,()=>t.children??Fe),J(i,s)},$$slots:{default:!0}})),we()}function If(e,t){ye(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Be(t,["$$slots","$$events","$$legacy"]);const r=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 9h18"}],["path",{d:"M3 15h18"}],["path",{d:"M9 3v18"}],["path",{d:"M15 3v18"}]];je(e,$e({name:"grid-3x3"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=be(),o=ue(s);Ne(o,()=>t.children??Fe),J(i,s)},$$slots:{default:!0}})),we()}function Uo(e,t){ye(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Be(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M13 13.74a2 2 0 0 1-2 0L2.5 8.87a1 1 0 0 1 0-1.74L11 2.26a2 2 0 0 1 2 0l8.5 4.87a1 1 0 0 1 0 1.74z"}],["path",{d:"m20 14.285 1.5.845a1 1 0 0 1 0 1.74L13 21.74a2 2 0 0 1-2 0l-8.5-4.87a1 1 0 0 1 0-1.74l1.5-.845"}]];je(e,$e({name:"layers-2"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=be(),o=ue(s);Ne(o,()=>t.children??Fe),J(i,s)},$$slots:{default:!0}})),we()}function Wo(e,t){ye(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Be(t,["$$slots","$$events","$$legacy"]);const r=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}]];je(e,$e({name:"lock"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=be(),o=ue(s);Ne(o,()=>t.children??Fe),J(i,s)},$$slots:{default:!0}})),we()}function Of(e,t){ye(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Be(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"}]];je(e,$e({name:"moon"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=be(),o=ue(s);Ne(o,()=>t.children??Fe),J(i,s)},$$slots:{default:!0}})),we()}function Rf(e,t){ye(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Be(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 2v20"}],["path",{d:"m15 19-3 3-3-3"}],["path",{d:"m19 9 3 3-3 3"}],["path",{d:"M2 12h20"}],["path",{d:"m5 9-3 3 3 3"}],["path",{d:"m9 5 3-3 3 3"}]];je(e,$e({name:"move"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=be(),o=ue(s);Ne(o,()=>t.children??Fe),J(i,s)},$$slots:{default:!0}})),we()}function Pf(e,t){ye(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Be(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"}],["path",{d:"m5 2 5 5"}],["path",{d:"M2 13h15"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"}]];je(e,$e({name:"paint-bucket"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=be(),o=ue(s);Ne(o,()=>t.children??Fe),J(i,s)},$$slots:{default:!0}})),we()}function Lf(e,t){ye(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Be(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}]];je(e,$e({name:"pen"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=be(),o=ue(s);Ne(o,()=>t.children??Fe),J(i,s)},$$slots:{default:!0}})),we()}function Df(e,t){ye(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Be(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m12 9-8.414 8.414A2 2 0 0 0 3 18.828v1.344a2 2 0 0 1-.586 1.414A2 2 0 0 1 3.828 21h1.344a2 2 0 0 0 1.414-.586L15 12"}],["path",{d:"m18 9 .4.4a1 1 0 1 1-3 3l-3.8-3.8a1 1 0 1 1 3-3l.4.4 3.4-3.4a1 1 0 1 1 3 3z"}],["path",{d:"m2 22 .414-.414"}]];je(e,$e({name:"pipette"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=be(),o=ue(s);Ne(o,()=>t.children??Fe),J(i,s)},$$slots:{default:!0}})),we()}function Nf(e,t){ye(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Be(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];je(e,$e({name:"plus"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=be(),o=ue(s);Ne(o,()=>t.children??Fe),J(i,s)},$$slots:{default:!0}})),we()}function Ff(e,t){ye(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Be(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M21 7v6h-6"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7"}]];je(e,$e({name:"redo"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=be(),o=ue(s);Ne(o,()=>t.children??Fe),J(i,s)},$$slots:{default:!0}})),we()}function Bf(e,t){ye(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Be(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7"}]];je(e,$e({name:"save"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=be(),o=ue(s);Ne(o,()=>t.children??Fe),J(i,s)},$$slots:{default:!0}})),we()}function zf(e,t){ye(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Be(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"}]];je(e,$e({name:"square-pen"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=be(),o=ue(s);Ne(o,()=>t.children??Fe),J(i,s)},$$slots:{default:!0}})),we()}function Mf(e,t){ye(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Be(t,["$$slots","$$events","$$legacy"]);const r=[["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M12 2v2"}],["path",{d:"M12 20v2"}],["path",{d:"m4.93 4.93 1.41 1.41"}],["path",{d:"m17.66 17.66 1.41 1.41"}],["path",{d:"M2 12h2"}],["path",{d:"M20 12h2"}],["path",{d:"m6.34 17.66-1.41 1.41"}],["path",{d:"m19.07 4.93-1.41 1.41"}]];je(e,$e({name:"sun"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=be(),o=ue(s);Ne(o,()=>t.children??Fe),J(i,s)},$$slots:{default:!0}})),we()}function Or(e,t){ye(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Be(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17"}]];je(e,$e({name:"trash-2"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=be(),o=ue(s);Ne(o,()=>t.children??Fe),J(i,s)},$$slots:{default:!0}})),we()}function Vf(e,t){ye(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Be(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M3 7v6h6"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"}]];je(e,$e({name:"undo"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=be(),o=ue(s);Ne(o,()=>t.children??Fe),J(i,s)},$$slots:{default:!0}})),we()}function Br(e,t){ye(t,!0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let n=Be(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];je(e,$e({name:"x"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=be(),o=ue(s);Ne(o,()=>t.children??Fe),J(i,s)},$$slots:{default:!0}})),we()}var Uf=de('<img alt="frame" class="gimp-checkered-background w-full h-full object-cover bg-surface-500"/>'),Wf=de('<div tabindex="0" role="button"><div class="absolute top-1 left-1 bg-primary-600/80 text-white text-xs font-bold rounded-full w-4 h-4 flex items-center justify-center"> </div> <!></div>'),Hf=de('<div class="flex items-center gap-4"><div class="flex gap-4"></div> <div class="w-6 text-sm font-semibold"><!></div></div>'),$f=de('<section class="space-y-4 p-4 max-h-[70vh] overflow-y-auto overflow-x-hidden [scrollbar-gutter:stable]"><!></section>');function jf(e,t){ye(t,!0);const n=()=>Qe(Yn,"$activeIndex",r),[r,i]=rn();let a=$(t,"activeLayer",15,void 0),s=0;Me(()=>{t.initTimestamp&&(He(Yn,0),s=0)}),Me(()=>{if(!t.initTimestamp)return;Jn.set(s,kr());const d=Jn.get(n());d?(Ar(d),a(d[d.length-1])):(Ar([]),a(new en("レイヤー #1")))});let o=me(0);Me(()=>{if(!t.initTimestamp||!t.pointerupTimestamp)return;const d=Er();Ut.set(n(),d);const g=d.toDataURL("image/png");ii.set(n(),g),te(o,performance.now(),!0)});var c=$f(),u=j(c);Ri(u,()=>t.initTimestamp,d=>{var g=be(),p=ue(g);{var l=v=>{var f=be(),m=ue(f);mt(m,17,()=>Array(ia),gt,(h,y,_)=>{var E=Hf(),k=j(E);mt(k,21,()=>Array(Ft),gt,(D,N,C)=>{var L=be(),b=ue(L);Ri(b,()=>Xt(C,_),R=>{var V=Wf();V.__keydown=()=>{},V.__click=()=>{const Q=Xt(C,_);n()!==Q&&(s=n(),He(Yn,Q))};var U=j(V),Y=j(U,!0);H(U);var q=K(U,2);Ri(q,()=>x(o),Q=>{var M=Uf();Oe(B=>Ve(M,"src",B),[()=>ii.get(Xt(C,_))??"https://placehold.co/32x32?text=new"]),J(Q,M)}),H(V),Oe((Q,M)=>{lt(V,1,Q),st(Y,M)},[()=>`relative w-16 h-16 rounded-container overflow-hidden cursor-pointer ${n()===Xt(C,_)?"ring-4 ring-primary-500 ring-offset-2":""}`,()=>Xt(C,_)+1]),J(R,V)}),J(D,L)}),H(k);var T=K(k,2),I=j(T);{var P=D=>{gr(D,{})},O=D=>{var N=be(),C=ue(N);{var L=R=>{xf(R,{})},b=R=>{var V=be(),U=ue(V);{var Y=Q=>{zc(Q,{})},q=Q=>{var M=be(),B=ue(M);{var re=Z=>{kf(Z,{})},oe=Z=>{var fe=be(),_e=ue(fe);{var ve=ge=>{gr(ge,{class:"rotate-315"})},Ee=ge=>{var Ae=be(),Te=ue(Ae);{var Ie=G=>{gr(G,{class:"rotate-45"})},w=G=>{var z=be(),A=ue(z);{var S=X=>{gr(X,{class:"rotate-225"})},F=X=>{var ee=be(),W=ue(ee);{var ie=ae=>{gr(ae,{class:"rotate-135"})},le=ae=>{Tf(ae,{})};De(W,ae=>{Ot[_]===ke.c?ae(ie):ae(le,!1)},!0)}J(X,ee)};De(A,X=>{Ot[_]===ke.z?X(S):X(F,!1)},!0)}J(G,z)};De(Te,G=>{Ot[_]===ke.e?G(Ie):G(w,!1)},!0)}J(ge,Ae)};De(_e,ge=>{Ot[_]===ke.q?ge(ve):ge(Ee,!1)},!0)}J(Z,fe)};De(B,Z=>{Ot[_]===ke.d?Z(re):Z(oe,!1)},!0)}J(Q,M)};De(U,Q=>{Ot[_]===ke.s?Q(Y):Q(q,!1)},!0)}J(R,V)};De(C,R=>{Ot[_]===ke.a?R(L):R(b,!1)},!0)}J(D,N)};De(I,D=>{Ot[_]===ke.w?D(P):D(O,!1)})}H(T),H(E),J(h,E)}),J(v,f)};De(p,v=>{$s&&v(l)})}J(d,g)}),H(c),J(e,c),we(),i()}ft(["keydown","click"]);var Ei=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var La,Ho;function qf(){if(Ho)return La;Ho=1;function e(t){var n=t[0],r=t[1]/100,i=t[2]/100,a,s;return i===0?[0,0,0]:(i*=2,r*=i<=1?i:2-i,s=(i+r)/2,a=2*r/(i+r),[n,a*100,s*100])}return La=e,La}var Gf=qf();const Zf=zr(Gf);var Da,$o;function Kf(){if($o)return Da;$o=1;function e(t){var n=t[0],r=t[1]/100,i=t[2]/100,a,s;return s=(2-r)*i,a=r*i,a/=s<=1?s:2-s,a=a||0,s/=2,[n,a*100,s*100]}return Da=e,Da}var Xf=Kf();const Yf=zr(Xf);function Jf(e){var t=e[0],n=e[1],r=e[2],i=Math.max(t,n,r),a=Math.min(t,n,r),s=i-a,o=s&&60*(i===t?(n-r)/s%6:i===n?(r-t)/s+2:(t-n)/s+4);return[o<0?o+360:o,i&&s*100/i,i*100/255]}function Qf(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,i=r*n,a=i*(1-Math.abs(t%2-1)),s=r-i,o=(a+s)*255+.5|0,c=(i+s)*255+.5|0,u=s*255+.5|0,d=t|0;return d===1?[o,c,u]:d===2?[u,c,o]:d===3?[u,o,c]:d===4?[o,u,c]:d===5?[c,u,o]:[c,o,u]}var Na,jo;function eh(){if(jo)return Na;jo=1;function e(t,n,r){return Math.min(Math.max(t,n),r)}return Na=e,Na}var Fa,qo;function th(){if(qo)return Fa;qo=1;var e=eh();function t(r){var i=Math.round(e(r,0,255)),a=i.toString(16);return a.length==1?"0"+a:a}function n(r){var i=r.length===4?t(r[3]*255):"";return"#"+t(r[0])+t(r[1])+t(r[2])+i}return Fa=n,Fa}var nh=th();const rh=zr(nh);var Ba,Go;function ih(){if(Go)return Ba;Go=1;function e(n){for(var r="#",i=1;i<n.length;i++){var a=n.charAt(i);r+=a+a}return r}function t(n){(n.length===4||n.length===5)&&(n=e(n));var r=[parseInt(n.substring(1,3),16),parseInt(n.substring(3,5),16),parseInt(n.substring(5,7),16)];if(n.length===9){var i=parseFloat((parseInt(n.substring(7,9),16)/255).toFixed(2));r.push(i)}return r}return Ba=t,Ba}var ah=ih();const sh=zr(ah);function Zo(e,t){return e?[za(e[0])?Mc(e[0]):t[0],za(e[1])?Mi(e[1]):t[1],za(e[2])?Mi(e[2]):t[2]]:t}function Ko(e){return[Mc(e[0]),Mi(e[1]),Mi(e[2])]}function Mc(e){var t=Math.round(e%360*10)/10;return t<0?t+360:t}function Mi(e){return e<0?0:e>100?100:(e*10+.5|0)/10}function za(e){return typeof e=="number"&&isFinite(e)}var Yr=typeof globalThis<"u"?globalThis:self,Ma="PointerEvent"in Yr?function(e,t,n){e.addEventListener("pointerdown",function(r){r.button===0&&t(r)!==!1&&this.setPointerCapture(r.pointerId)}),e.addEventListener("pointermove",function(r){this.hasPointerCapture(r.pointerId)&&n(r)})}:"ontouchend"in Yr?function(e,t,n){var r=!1;e.addEventListener("touchstart",function(i){i.touches.length===1&&t(i.touches[0])!==!1&&(r=!0,i.preventDefault())}),e.addEventListener("touchmove",function(i){r&&i.touches.length===1&&(i.preventDefault(),n(i.touches[0]))})}:function(e,t,n){var r=function(a){n(a)},i=function(){removeEventListener("mouseup",i),removeEventListener("mousemove",r)};e.addEventListener("mousedown",function(a){a.button===0&&t(a)!==!1&&(addEventListener("mousemove",r),addEventListener("mouseup",i))})},Un={hsv:[0,100,100],hsl:[0,100,50],wheelDiameter:200,wheelThickness:20,handleDiameter:16,wheelReflectsSaturation:!0,onChange:function(){}},ys=Yr.DOMMatrix||Yr.WebKitCSSMatrix||Yr.MSCSSMatrix,oh=function(e){for(var t=[e];e=e.parentElement;)t.push(e);for(var n=new ys,r=t.length-1;r>=0;r--){var i=getComputedStyle(t[r]),a=i.transform;if(a&&a!=="none"){var s=i.transformOrigin.split(" ").map(parseFloat);n=n.translate(s[0],s[1]).multiply(new ys(a)).translate(-s[0],-s[1])}}return n.inverse()},Va=function(e,t){return e===t||e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},lh=(function(){function e(t){var n=this;this.options=t,this.wheelDiameter=this.options.wheelDiameter||Un.wheelDiameter,this.wheelThickness=this.options.wheelThickness||Un.wheelThickness,this.handleDiameter=this.options.handleDiameter||Un.handleDiameter,this.onChange=this.options.onChange||Un.onChange,this.wheelReflectsSaturation=this.options.wheelReflectsSaturation!==void 0?this.options.wheelReflectsSaturation:Un.wheelReflectsSaturation,this.rootElement=this.options.appendTo.appendChild(Wr("div","reinvented-color-wheel")),this.hueWheelElement=this.rootElement.appendChild(Wr("canvas","reinvented-color-wheel--hue-wheel")),this.hueWheelContext=this.hueWheelElement.getContext("2d"),this.hueHandleElement=this.rootElement.appendChild(Wr("div","reinvented-color-wheel--hue-handle")),this.svSpaceElement=this.rootElement.appendChild(Wr("canvas","reinvented-color-wheel--sv-space")),this.svSpaceContext=this.svSpaceElement.getContext("2d"),this.svHandleElement=this.rootElement.appendChild(Wr("div","reinvented-color-wheel--sv-handle")),this._redrawHueWheel=function(){n._redrawHueWheelRequested=!1;var u=n.wheelDiameter,d=u/2,g=d-n.wheelThickness/2,p=Math.PI/180,l=n.wheelReflectsSaturation?","+n._hsl[1]+"%,"+n._hsl[2]+"%)":",100%,50%)",v=n.hueWheelContext;v.clearRect(0,0,u,u),v.lineWidth=n.wheelThickness;for(var f=0;f<360;f++)v.beginPath(),v.arc(d,d,g,(f-90.7)*p,(f-89.3)*p),v.strokeStyle="hsl("+f+l,v.stroke()},this.hueWheelContext.imageSmoothingEnabled=!1,this.svSpaceContext.imageSmoothingEnabled=!1,this._hsv=Zo(t.hsv?t.hsv:t.hsl?e.hsl2hsv(t.hsl):t.rgb?e.rgb2hsv(t.rgb):t.hex?e.rgb2hsv(e.hex2rgb(t.hex)):void 0,Un.hsv),this._hsl=Ko(e.hsv2hsl(this._hsv)),this._rgb=e.hsv2rgb(this._hsv),this._hex=e.rgb2hex(this._rgb);var r=function(u,d){var g=n._inverseTransform.multiply(new ys("matrix(1,0,0,1,"+u+","+d+")"));return{x:g.e,y:g.f}},i=function(u){n._inverseTransform=oh(u);var d=u.getBoundingClientRect();n._center=r(d.left+d.width/2,d.top+d.height/2)},a=function(u){i(n.hueWheelElement);var d=r(u.clientX,u.clientY),g=d.x-n._center.x,p=d.y-n._center.y,l=n.wheelDiameter/2-n.wheelThickness;if(g*g+p*p<l*l)return!1;s(u)},s=function(u){var d=r(u.clientX,u.clientY),g=d.x-n._center.x,p=d.y-n._center.y,l=Math.atan2(p,g);n.hsv=[l*180/Math.PI+90,n.hsv[1],n.hsv[2]]},o=function(u){var d=r(u.clientX,u.clientY),g=100/n.svSpaceElement.width,p=(d.x-n._center.x)*g+50,l=(n._center.y-d.y)*g+50;n.hsv=[n._hsv[0],p,l]},c=function(u){i(n.svSpaceElement),o(u)};Ma(this.hueWheelElement,a,s),Ma(this.svSpaceElement,c,o),Ma(this.svHandleElement,c,o),this.redraw()}return Object.defineProperty(e.prototype,"hsv",{get:function(){return this._hsv},set:function(t){Va(this._hsv,t)||this._setHSV(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hsl",{get:function(){return this._hsl},set:function(t){Va(this._hsl,t)||this._setHSV(e.hsl2hsv(t))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rgb",{get:function(){return this._rgb},set:function(t){Va(this._rgb,t)||this._setHSV(e.rgb2hsv(t))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hex",{get:function(){return this._hex},set:function(t){this._hex!==t&&(this.rgb=e.hex2rgb(t))},enumerable:!1,configurable:!0}),e.prototype.setHSV=function(){this.hsv=arguments},e.prototype.setHSL=function(){this.hsl=arguments},e.prototype.redraw=function(){this.hueWheelElement.width=this.hueWheelElement.height=this.wheelDiameter,this.svSpaceElement.width=this.svSpaceElement.height=(this.wheelDiameter-this.wheelThickness*2)*Math.SQRT1_2;var t=this.hueHandleElement.style,n=this.svHandleElement.style;t.width=t.height=n.width=n.height=this.handleDiameter+"px",t.marginLeft=t.marginTop=n.marginLeft=n.marginTop=-this.handleDiameter/2+"px",this._redrawHueWheel(),this._redrawHueHandle(),this._redrawSvSpace(),this._redrawSvHandle()},e.prototype._setHSV=function(t){var n=this._hsv,r=this._hsv=Zo(t,n),i=n[0]-r[0],a=n[1]-r[1]||n[2]-r[2];i&&(this._hsl=[r[0],this._hsl[1],this._hsl[2]],this._redrawHueHandle(),this._updateSvBackground()),a&&(this._hsl=Ko(e.hsv2hsl(r)),this._redrawSvHandle(),this.wheelReflectsSaturation&&!this._redrawHueWheelRequested&&(requestAnimationFrame(this._redrawHueWheel),this._redrawHueWheelRequested=!0)),(i||a)&&(this._rgb=e.hsv2rgb(r),this._hex=e.rgb2hex(this._rgb),this.onChange(this))},e.prototype._redrawSvSpace=function(){this._updateSvBackground();var t=this.svSpaceElement.width,n=this.svSpaceContext,r=n.createLinearGradient(0,0,t,0),i=n.createLinearGradient(0,0,0,t);r.addColorStop(0,"rgba(255,255,255,1)"),r.addColorStop(1,"rgba(255,255,255,0)"),i.addColorStop(0,"rgba(0,0,0,0)"),i.addColorStop(1,"rgba(0,0,0,1)"),n.fillStyle=r,n.fillRect(0,0,t,t),n.fillStyle=i,n.fillRect(0,0,t,t)},e.prototype._updateSvBackground=function(){this.svSpaceElement.style.backgroundColor="hsl("+this._hsv[0]+",100%,50%)"},e.prototype._redrawHueHandle=function(){var t=this.wheelDiameter/2,n=t-this.wheelThickness/2,r=(this._hsv[0]-90)*Math.PI/180,i=this.hueHandleElement.style;i.left=n*Math.cos(r)+t+"px",i.top=n*Math.sin(r)+t+"px"},e.prototype._redrawSvHandle=function(){var t=this.svSpaceElement.width,n=this.svHandleElement.style,r=(this.wheelDiameter-t)/2,i=this._hsv;n.left=r+t*i[1]/100+"px",n.top=r+t*(1-i[2]/100)+"px"},e.default=e,e.defaultOptions=Un,e.hsv2hsl=Yf,e.hsl2hsv=Zf,e.hsv2rgb=Qf,e.rgb2hsv=Jf,e.rgb2hex=rh,e.hex2rgb=sh,e})();function Wr(e,t){var n=document.createElement(e);return n.className=t,n}var ch=de("<center></center>");function uh(e,t){ye(t,!0);const n=()=>Qe($n,"$color",r),[r,i]=rn(),a=lh;let s=me(void 0),o=me(void 0);const c=n();Me(()=>{te(o,new a({appendTo:x(s),hex:c,wheelDiameter:200,wheelThickness:20,handleDiameter:16,wheelReflectsSaturation:!1,onChange:d=>{He($n,d.hex)}}),!0)}),Me(()=>{x(o)&&(x(o).hex=n())});var u=ch();Ct(u,d=>te(s,d),()=>x(s)),J(e,u),we(),i()}function Pn(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ua={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Xo;function dh(){return Xo||(Xo=1,(function(e,t){(function(n){e.exports=n()})(function(){return(function n(r,i,a){function s(u,d){if(!i[u]){if(!r[u]){var g=typeof Pn=="function"&&Pn;if(!d&&g)return g(u,!0);if(o)return o(u,!0);var p=new Error("Cannot find module '"+u+"'");throw p.code="MODULE_NOT_FOUND",p}var l=i[u]={exports:{}};r[u][0].call(l.exports,function(v){var f=r[u][1][v];return s(f||v)},l,l.exports,n,r,i,a)}return i[u].exports}for(var o=typeof Pn=="function"&&Pn,c=0;c<a.length;c++)s(a[c]);return s})({1:[function(n,r,i){var a=n("./utils"),s=n("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(c){for(var u,d,g,p,l,v,f,m=[],h=0,y=c.length,_=y,E=a.getTypeOf(c)!=="string";h<c.length;)_=y-h,g=E?(u=c[h++],d=h<y?c[h++]:0,h<y?c[h++]:0):(u=c.charCodeAt(h++),d=h<y?c.charCodeAt(h++):0,h<y?c.charCodeAt(h++):0),p=u>>2,l=(3&u)<<4|d>>4,v=1<_?(15&d)<<2|g>>6:64,f=2<_?63&g:64,m.push(o.charAt(p)+o.charAt(l)+o.charAt(v)+o.charAt(f));return m.join("")},i.decode=function(c){var u,d,g,p,l,v,f=0,m=0,h="data:";if(c.substr(0,h.length)===h)throw new Error("Invalid base64 input, it looks like a data url.");var y,_=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===o.charAt(64)&&_--,c.charAt(c.length-2)===o.charAt(64)&&_--,_%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=s.uint8array?new Uint8Array(0|_):new Array(0|_);f<c.length;)u=o.indexOf(c.charAt(f++))<<2|(p=o.indexOf(c.charAt(f++)))>>4,d=(15&p)<<4|(l=o.indexOf(c.charAt(f++)))>>2,g=(3&l)<<6|(v=o.indexOf(c.charAt(f++))),y[m++]=u,l!==64&&(y[m++]=d),v!==64&&(y[m++]=g);return y}},{"./support":30,"./utils":32}],2:[function(n,r,i){var a=n("./external"),s=n("./stream/DataWorker"),o=n("./stream/Crc32Probe"),c=n("./stream/DataLengthProbe");function u(d,g,p,l,v){this.compressedSize=d,this.uncompressedSize=g,this.crc32=p,this.compression=l,this.compressedContent=v}u.prototype={getContentWorker:function(){var d=new s(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),g=this;return d.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new s(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(d,g,p){return d.pipe(new o).pipe(new c("uncompressedSize")).pipe(g.compressWorker(p)).pipe(new c("compressedSize")).withStreamInfo("compression",g)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var a=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var a=n("./utils"),s=(function(){for(var o,c=[],u=0;u<256;u++){o=u;for(var d=0;d<8;d++)o=1&o?3988292384^o>>>1:o>>>1;c[u]=o}return c})();r.exports=function(o,c){return o!==void 0&&o.length?a.getTypeOf(o)!=="string"?(function(u,d,g,p){var l=s,v=p+g;u^=-1;for(var f=p;f<v;f++)u=u>>>8^l[255&(u^d[f])];return-1^u})(0|c,o,o.length,0):(function(u,d,g,p){var l=s,v=p+g;u^=-1;for(var f=p;f<v;f++)u=u>>>8^l[255&(u^d.charCodeAt(f))];return-1^u})(0|c,o,o.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var a=null;a=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:a}},{lie:37}],7:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),o=n("./utils"),c=n("./stream/GenericWorker"),u=a?"uint8array":"array";function d(g,p){c.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=p,this.meta={}}i.magic="\b\0",o.inherits(d,c),d.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(u,g.data),!1)},d.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(p){g.push({data:p,meta:g.meta})}},i.compressWorker=function(g){return new d("Deflate",g)},i.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function a(l,v){var f,m="";for(f=0;f<v;f++)m+=String.fromCharCode(255&l),l>>>=8;return m}function s(l,v,f,m,h,y){var _,E,k=l.file,T=l.compression,I=y!==u.utf8encode,P=o.transformTo("string",y(k.name)),O=o.transformTo("string",u.utf8encode(k.name)),D=k.comment,N=o.transformTo("string",y(D)),C=o.transformTo("string",u.utf8encode(D)),L=O.length!==k.name.length,b=C.length!==D.length,R="",V="",U="",Y=k.dir,q=k.date,Q={crc32:0,compressedSize:0,uncompressedSize:0};v&&!f||(Q.crc32=l.crc32,Q.compressedSize=l.compressedSize,Q.uncompressedSize=l.uncompressedSize);var M=0;v&&(M|=8),I||!L&&!b||(M|=2048);var B=0,re=0;Y&&(B|=16),h==="UNIX"?(re=798,B|=(function(Z,fe){var _e=Z;return Z||(_e=fe?16893:33204),(65535&_e)<<16})(k.unixPermissions,Y)):(re=20,B|=(function(Z){return 63&(Z||0)})(k.dosPermissions)),_=q.getUTCHours(),_<<=6,_|=q.getUTCMinutes(),_<<=5,_|=q.getUTCSeconds()/2,E=q.getUTCFullYear()-1980,E<<=4,E|=q.getUTCMonth()+1,E<<=5,E|=q.getUTCDate(),L&&(V=a(1,1)+a(d(P),4)+O,R+="up"+a(V.length,2)+V),b&&(U=a(1,1)+a(d(N),4)+C,R+="uc"+a(U.length,2)+U);var oe="";return oe+=`
\0`,oe+=a(M,2),oe+=T.magic,oe+=a(_,2),oe+=a(E,2),oe+=a(Q.crc32,4),oe+=a(Q.compressedSize,4),oe+=a(Q.uncompressedSize,4),oe+=a(P.length,2),oe+=a(R.length,2),{fileRecord:g.LOCAL_FILE_HEADER+oe+P+R,dirRecord:g.CENTRAL_FILE_HEADER+a(re,2)+oe+a(N.length,2)+"\0\0\0\0"+a(B,4)+a(m,4)+P+R+N}}var o=n("../utils"),c=n("../stream/GenericWorker"),u=n("../utf8"),d=n("../crc32"),g=n("../signature");function p(l,v,f,m){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=f,this.encodeFileName=m,this.streamFiles=l,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(p,c),p.prototype.push=function(l){var v=l.meta.percent||0,f=this.entriesCount,m=this._sources.length;this.accumulate?this.contentBuffer.push(l):(this.bytesWritten+=l.data.length,c.prototype.push.call(this,{data:l.data,meta:{currentFile:this.currentFile,percent:f?(v+100*(f-m-1))/f:100}}))},p.prototype.openedSource=function(l){this.currentSourceOffset=this.bytesWritten,this.currentFile=l.file.name;var v=this.streamFiles&&!l.file.dir;if(v){var f=s(l,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:f.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(l){this.accumulate=!1;var v=this.streamFiles&&!l.file.dir,f=s(l,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(f.dirRecord),v)this.push({data:(function(m){return g.DATA_DESCRIPTOR+a(m.crc32,4)+a(m.compressedSize,4)+a(m.uncompressedSize,4)})(l),meta:{percent:100}});else for(this.push({data:f.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var l=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var f=this.bytesWritten-l,m=(function(h,y,_,E,k){var T=o.transformTo("string",k(E));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(h,2)+a(h,2)+a(y,4)+a(_,4)+a(T.length,2)+T})(this.dirRecords.length,f,l,this.zipComment,this.encodeFileName);this.push({data:m,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(l){this._sources.push(l);var v=this;return l.on("data",function(f){v.processChunk(f)}),l.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),l.on("error",function(f){v.error(f)}),this},p.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(l){var v=this._sources;if(!c.prototype.error.call(this,l))return!1;for(var f=0;f<v.length;f++)try{v[f].error(l)}catch{}return!0},p.prototype.lock=function(){c.prototype.lock.call(this);for(var l=this._sources,v=0;v<l.length;v++)l[v].lock()},r.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var a=n("../compressions"),s=n("./ZipFileWorker");i.generateWorker=function(o,c,u){var d=new s(c.streamFiles,u,c.platform,c.encodeFileName),g=0;try{o.forEach(function(p,l){g++;var v=(function(y,_){var E=y||_,k=a[E];if(!k)throw new Error(E+" is not a valid compression method !");return k})(l.options.compression,c.compression),f=l.options.compressionOptions||c.compressionOptions||{},m=l.dir,h=l.date;l._compressWorker(v,f).withStreamInfo("file",{name:p,dir:m,date:h,comment:l.comment||"",unixPermissions:l.unixPermissions,dosPermissions:l.dosPermissions}).pipe(d)}),d.entriesCount=g}catch(p){d.error(p)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new a;for(var o in this)typeof this[o]!="function"&&(s[o]=this[o]);return s}}(a.prototype=n("./object")).loadAsync=n("./load"),a.support=n("./support"),a.defaults=n("./defaults"),a.version="3.10.1",a.loadAsync=function(s,o){return new a().loadAsync(s,o)},a.external=n("./external"),r.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var a=n("./utils"),s=n("./external"),o=n("./utf8"),c=n("./zipEntries"),u=n("./stream/Crc32Probe"),d=n("./nodejsUtils");function g(p){return new s.Promise(function(l,v){var f=p.decompressed.getContentWorker().pipe(new u);f.on("error",function(m){v(m)}).on("end",function(){f.streamInfo.crc32!==p.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):l()}).resume()})}r.exports=function(p,l){var v=this;return l=a.extend(l||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),d.isNode&&d.isStream(p)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",p,!0,l.optimizedBinaryString,l.base64).then(function(f){var m=new c(l);return m.load(f),m}).then(function(f){var m=[s.Promise.resolve(f)],h=f.files;if(l.checkCRC32)for(var y=0;y<h.length;y++)m.push(g(h[y]));return s.Promise.all(m)}).then(function(f){for(var m=f.shift(),h=m.files,y=0;y<h.length;y++){var _=h[y],E=_.fileNameStr,k=a.resolve(_.fileNameStr);v.file(k,_.decompressed,{binary:!0,optimizedBinaryString:!0,date:_.date,dir:_.dir,comment:_.fileCommentStr.length?_.fileCommentStr:null,unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions,createFolders:l.createFolders}),_.dir||(v.file(k).unsafeOriginalName=E)}return m.zipComment.length&&(v.comment=m.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var a=n("../utils"),s=n("../stream/GenericWorker");function o(c,u){s.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(u)}a.inherits(o,s),o.prototype._bindStream=function(c){var u=this;(this._stream=c).pause(),c.on("data",function(d){u.push({data:d,meta:{percent:0}})}).on("error",function(d){u.isPaused?this.generatedError=d:u.error(d)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},o.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var a=n("readable-stream").Readable;function s(o,c,u){a.call(this,c),this._helper=o;var d=this;o.on("data",function(g,p){d.push(g)||d._helper.pause(),u&&u(p)}).on("error",function(g){d.emit("error",g)}).on("end",function(){d.push(null)})}n("../utils").inherits(s,a),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,s);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,s)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var s=new Buffer(a);return s.fill(0),s},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(n,r,i){function a(k,T,I){var P,O=o.getTypeOf(T),D=o.extend(I||{},d);D.date=D.date||new Date,D.compression!==null&&(D.compression=D.compression.toUpperCase()),typeof D.unixPermissions=="string"&&(D.unixPermissions=parseInt(D.unixPermissions,8)),D.unixPermissions&&16384&D.unixPermissions&&(D.dir=!0),D.dosPermissions&&16&D.dosPermissions&&(D.dir=!0),D.dir&&(k=h(k)),D.createFolders&&(P=m(k))&&y.call(this,P,!0);var N=O==="string"&&D.binary===!1&&D.base64===!1;I&&I.binary!==void 0||(D.binary=!N),(T instanceof g&&T.uncompressedSize===0||D.dir||!T||T.length===0)&&(D.base64=!1,D.binary=!0,T="",D.compression="STORE",O="string");var C=null;C=T instanceof g||T instanceof c?T:v.isNode&&v.isStream(T)?new f(k,T):o.prepareContent(k,T,D.binary,D.optimizedBinaryString,D.base64);var L=new p(k,C,D);this.files[k]=L}var s=n("./utf8"),o=n("./utils"),c=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),d=n("./defaults"),g=n("./compressedObject"),p=n("./zipObject"),l=n("./generate"),v=n("./nodejsUtils"),f=n("./nodejs/NodejsStreamInputAdapter"),m=function(k){k.slice(-1)==="/"&&(k=k.substring(0,k.length-1));var T=k.lastIndexOf("/");return 0<T?k.substring(0,T):""},h=function(k){return k.slice(-1)!=="/"&&(k+="/"),k},y=function(k,T){return T=T!==void 0?T:d.createFolders,k=h(k),this.files[k]||a.call(this,k,null,{dir:!0,createFolders:T}),this.files[k]};function _(k){return Object.prototype.toString.call(k)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(k){var T,I,P;for(T in this.files)P=this.files[T],(I=T.slice(this.root.length,T.length))&&T.slice(0,this.root.length)===this.root&&k(I,P)},filter:function(k){var T=[];return this.forEach(function(I,P){k(I,P)&&T.push(P)}),T},file:function(k,T,I){if(arguments.length!==1)return k=this.root+k,a.call(this,k,T,I),this;if(_(k)){var P=k;return this.filter(function(D,N){return!N.dir&&P.test(D)})}var O=this.files[this.root+k];return O&&!O.dir?O:null},folder:function(k){if(!k)return this;if(_(k))return this.filter(function(O,D){return D.dir&&k.test(O)});var T=this.root+k,I=y.call(this,T),P=this.clone();return P.root=I.name,P},remove:function(k){k=this.root+k;var T=this.files[k];if(T||(k.slice(-1)!=="/"&&(k+="/"),T=this.files[k]),T&&!T.dir)delete this.files[k];else for(var I=this.filter(function(O,D){return D.name.slice(0,k.length)===k}),P=0;P<I.length;P++)delete this.files[I[P].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(k){var T,I={};try{if((I=o.extend(k||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=I.type.toLowerCase(),I.compression=I.compression.toUpperCase(),I.type==="binarystring"&&(I.type="string"),!I.type)throw new Error("No output type specified.");o.checkSupport(I.type),I.platform!=="darwin"&&I.platform!=="freebsd"&&I.platform!=="linux"&&I.platform!=="sunos"||(I.platform="UNIX"),I.platform==="win32"&&(I.platform="DOS");var P=I.comment||this.comment||"";T=l.generateWorker(this,I,P)}catch(O){(T=new c("error")).error(O)}return new u(T,I.type||"string",I.mimeType)},generateAsync:function(k,T){return this.generateInternalStream(k).accumulate(T)},generateNodeStream:function(k,T){return(k=k||{}).type||(k.type="nodebuffer"),this.generateInternalStream(k).toNodejsStream(T)}};r.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var a=n("./DataReader");function s(o){a.call(this,o);for(var c=0;c<this.data.length;c++)o[c]=255&o[c]}n("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data[this.zero+o]},s.prototype.lastIndexOfSignature=function(o){for(var c=o.charCodeAt(0),u=o.charCodeAt(1),d=o.charCodeAt(2),g=o.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===c&&this.data[p+1]===u&&this.data[p+2]===d&&this.data[p+3]===g)return p-this.zero;return-1},s.prototype.readAndCheckSignature=function(o){var c=o.charCodeAt(0),u=o.charCodeAt(1),d=o.charCodeAt(2),g=o.charCodeAt(3),p=this.readData(4);return c===p[0]&&u===p[1]&&d===p[2]&&g===p[3]},s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var a=n("../utils");function s(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var c,u=0;for(this.checkOffset(o),c=this.index+o-1;c>=this.index;c--)u=(u<<8)+this.byteAt(c);return this.index+=o,u},readString:function(o){return a.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=s},{"../utils":32}],19:[function(n,r,i){var a=n("./Uint8ArrayReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var a=n("./DataReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},s.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},s.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},s.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var a=n("./ArrayReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var a=n("../utils"),s=n("../support"),o=n("./ArrayReader"),c=n("./StringReader"),u=n("./NodeBufferReader"),d=n("./Uint8ArrayReader");r.exports=function(g){var p=a.getTypeOf(g);return a.checkSupport(p),p!=="string"||s.uint8array?p==="nodebuffer"?new u(g):s.uint8array?new d(a.transformTo("uint8array",g)):new o(a.transformTo("array",g)):new c(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var a=n("./GenericWorker"),s=n("../utils");function o(c){a.call(this,"ConvertWorker to "+c),this.destType=c}s.inherits(o,a),o.prototype.processChunk=function(c){this.push({data:s.transformTo(this.destType,c.data),meta:c.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var a=n("./GenericWorker"),s=n("../crc32");function o(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(o,a),o.prototype.processChunk=function(c){this.streamInfo.crc32=s(c.data,this.streamInfo.crc32||0),this.push(c)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var a=n("../utils"),s=n("./GenericWorker");function o(c){s.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}a.inherits(o,s),o.prototype.processChunk=function(c){if(c){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+c.data.length}s.prototype.processChunk.call(this,c)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var a=n("../utils"),s=n("./GenericWorker");function o(c){s.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(d){u.dataIsReady=!0,u.data=d,u.max=d&&d.length||0,u.type=a.getTypeOf(d),u.isPaused||u._tickAndRepeat()},function(d){u.error(d)})}a.inherits(o,s),o.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,u);break;case"uint8array":c=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":c=this.data.slice(this.index,u)}return this.index=u,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function a(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,o){return this._listeners[s].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,o){if(this._listeners[s])for(var c=0;c<this._listeners[s].length;c++)this._listeners[s][c].call(this,o)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var o=this;return s.on("data",function(c){o.processChunk(c)}),s.on("end",function(){o.end()}),s.on("error",function(c){o.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,o){return this.extraStreamInfo[s]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=a},{}],29:[function(n,r,i){var a=n("../utils"),s=n("./ConvertWorker"),o=n("./GenericWorker"),c=n("../base64"),u=n("../support"),d=n("../external"),g=null;if(u.nodestream)try{g=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(v,f){return new d.Promise(function(m,h){var y=[],_=v._internalType,E=v._outputType,k=v._mimeType;v.on("data",function(T,I){y.push(T),f&&f(I)}).on("error",function(T){y=[],h(T)}).on("end",function(){try{var T=(function(I,P,O){switch(I){case"blob":return a.newBlob(a.transformTo("arraybuffer",P),O);case"base64":return c.encode(P);default:return a.transformTo(I,P)}})(E,(function(I,P){var O,D=0,N=null,C=0;for(O=0;O<P.length;O++)C+=P[O].length;switch(I){case"string":return P.join("");case"array":return Array.prototype.concat.apply([],P);case"uint8array":for(N=new Uint8Array(C),O=0;O<P.length;O++)N.set(P[O],D),D+=P[O].length;return N;case"nodebuffer":return Buffer.concat(P);default:throw new Error("concat : unsupported type '"+I+"'")}})(_,y),k);m(T)}catch(I){h(I)}y=[]}).resume()})}function l(v,f,m){var h=f;switch(f){case"blob":case"arraybuffer":h="uint8array";break;case"base64":h="string"}try{this._internalType=h,this._outputType=f,this._mimeType=m,a.checkSupport(h),this._worker=v.pipe(new s(h)),v.lock()}catch(y){this._worker=new o("error"),this._worker.error(y)}}l.prototype={accumulate:function(v){return p(this,v)},on:function(v,f){var m=this;return v==="data"?this._worker.on(v,function(h){f.call(m,h.data,h.meta)}):this._worker.on(v,function(){a.delay(f,arguments,m)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},v)}},r.exports=l},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(a),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var a=n("./utils"),s=n("./support"),o=n("./nodejsUtils"),c=n("./stream/GenericWorker"),u=new Array(256),d=0;d<256;d++)u[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;u[254]=u[254]=1;function g(){c.call(this,"utf-8 decode"),this.leftOver=null}function p(){c.call(this,"utf-8 encode")}i.utf8encode=function(l){return s.nodebuffer?o.newBufferFrom(l,"utf-8"):(function(v){var f,m,h,y,_,E=v.length,k=0;for(y=0;y<E;y++)(64512&(m=v.charCodeAt(y)))==55296&&y+1<E&&(64512&(h=v.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(h-56320),y++),k+=m<128?1:m<2048?2:m<65536?3:4;for(f=s.uint8array?new Uint8Array(k):new Array(k),y=_=0;_<k;y++)(64512&(m=v.charCodeAt(y)))==55296&&y+1<E&&(64512&(h=v.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(h-56320),y++),m<128?f[_++]=m:(m<2048?f[_++]=192|m>>>6:(m<65536?f[_++]=224|m>>>12:(f[_++]=240|m>>>18,f[_++]=128|m>>>12&63),f[_++]=128|m>>>6&63),f[_++]=128|63&m);return f})(l)},i.utf8decode=function(l){return s.nodebuffer?a.transformTo("nodebuffer",l).toString("utf-8"):(function(v){var f,m,h,y,_=v.length,E=new Array(2*_);for(f=m=0;f<_;)if((h=v[f++])<128)E[m++]=h;else if(4<(y=u[h]))E[m++]=65533,f+=y-1;else{for(h&=y===2?31:y===3?15:7;1<y&&f<_;)h=h<<6|63&v[f++],y--;1<y?E[m++]=65533:h<65536?E[m++]=h:(h-=65536,E[m++]=55296|h>>10&1023,E[m++]=56320|1023&h)}return E.length!==m&&(E.subarray?E=E.subarray(0,m):E.length=m),a.applyFromCharCode(E)})(l=a.transformTo(s.uint8array?"uint8array":"array",l))},a.inherits(g,c),g.prototype.processChunk=function(l){var v=a.transformTo(s.uint8array?"uint8array":"array",l.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var f=v;(v=new Uint8Array(f.length+this.leftOver.length)).set(this.leftOver,0),v.set(f,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var m=(function(y,_){var E;for((_=_||y.length)>y.length&&(_=y.length),E=_-1;0<=E&&(192&y[E])==128;)E--;return E<0||E===0?_:E+u[y[E]]>_?E:_})(v),h=v;m!==v.length&&(s.uint8array?(h=v.subarray(0,m),this.leftOver=v.subarray(m,v.length)):(h=v.slice(0,m),this.leftOver=v.slice(m,v.length))),this.push({data:i.utf8decode(h),meta:l.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=g,a.inherits(p,c),p.prototype.processChunk=function(l){this.push({data:i.utf8encode(l.data),meta:l.meta})},i.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var a=n("./support"),s=n("./base64"),o=n("./nodejsUtils"),c=n("./external");function u(f){return f}function d(f,m){for(var h=0;h<f.length;++h)m[h]=255&f.charCodeAt(h);return m}n("setimmediate"),i.newBlob=function(f,m){i.checkSupport("blob");try{return new Blob([f],{type:m})}catch{try{var h=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return h.append(f),h.getBlob(m)}catch{throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(f,m,h){var y=[],_=0,E=f.length;if(E<=h)return String.fromCharCode.apply(null,f);for(;_<E;)m==="array"||m==="nodebuffer"?y.push(String.fromCharCode.apply(null,f.slice(_,Math.min(_+h,E)))):y.push(String.fromCharCode.apply(null,f.subarray(_,Math.min(_+h,E)))),_+=h;return y.join("")},stringifyByChar:function(f){for(var m="",h=0;h<f.length;h++)m+=String.fromCharCode(f[h]);return m},applyCanBeUsed:{uint8array:(function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}})()}};function p(f){var m=65536,h=i.getTypeOf(f),y=!0;if(h==="uint8array"?y=g.applyCanBeUsed.uint8array:h==="nodebuffer"&&(y=g.applyCanBeUsed.nodebuffer),y)for(;1<m;)try{return g.stringifyByChunk(f,h,m)}catch{m=Math.floor(m/2)}return g.stringifyByChar(f)}function l(f,m){for(var h=0;h<f.length;h++)m[h]=f[h];return m}i.applyFromCharCode=p;var v={};v.string={string:u,array:function(f){return d(f,new Array(f.length))},arraybuffer:function(f){return v.string.uint8array(f).buffer},uint8array:function(f){return d(f,new Uint8Array(f.length))},nodebuffer:function(f){return d(f,o.allocBuffer(f.length))}},v.array={string:p,array:u,arraybuffer:function(f){return new Uint8Array(f).buffer},uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return o.newBufferFrom(f)}},v.arraybuffer={string:function(f){return p(new Uint8Array(f))},array:function(f){return l(new Uint8Array(f),new Array(f.byteLength))},arraybuffer:u,uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return o.newBufferFrom(new Uint8Array(f))}},v.uint8array={string:p,array:function(f){return l(f,new Array(f.length))},arraybuffer:function(f){return f.buffer},uint8array:u,nodebuffer:function(f){return o.newBufferFrom(f)}},v.nodebuffer={string:p,array:function(f){return l(f,new Array(f.length))},arraybuffer:function(f){return v.nodebuffer.uint8array(f).buffer},uint8array:function(f){return l(f,new Uint8Array(f.length))},nodebuffer:u},i.transformTo=function(f,m){if(m=m||"",!f)return m;i.checkSupport(f);var h=i.getTypeOf(m);return v[h][f](m)},i.resolve=function(f){for(var m=f.split("/"),h=[],y=0;y<m.length;y++){var _=m[y];_==="."||_===""&&y!==0&&y!==m.length-1||(_===".."?h.pop():h.push(_))}return h.join("/")},i.getTypeOf=function(f){return typeof f=="string"?"string":Object.prototype.toString.call(f)==="[object Array]"?"array":a.nodebuffer&&o.isBuffer(f)?"nodebuffer":a.uint8array&&f instanceof Uint8Array?"uint8array":a.arraybuffer&&f instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(f){if(!a[f.toLowerCase()])throw new Error(f+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(f){var m,h,y="";for(h=0;h<(f||"").length;h++)y+="\\x"+((m=f.charCodeAt(h))<16?"0":"")+m.toString(16).toUpperCase();return y},i.delay=function(f,m,h){setImmediate(function(){f.apply(h||null,m||[])})},i.inherits=function(f,m){function h(){}h.prototype=m.prototype,f.prototype=new h},i.extend=function(){var f,m,h={};for(f=0;f<arguments.length;f++)for(m in arguments[f])Object.prototype.hasOwnProperty.call(arguments[f],m)&&h[m]===void 0&&(h[m]=arguments[f][m]);return h},i.prepareContent=function(f,m,h,y,_){return c.Promise.resolve(m).then(function(E){return a.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader<"u"?new c.Promise(function(k,T){var I=new FileReader;I.onload=function(P){k(P.target.result)},I.onerror=function(P){T(P.target.error)},I.readAsArrayBuffer(E)}):E}).then(function(E){var k=i.getTypeOf(E);return k?(k==="arraybuffer"?E=i.transformTo("uint8array",E):k==="string"&&(_?E=s.decode(E):h&&y!==!0&&(E=(function(T){return d(T,a.uint8array?new Uint8Array(T.length):new Array(T.length))})(E))),E):c.Promise.reject(new Error("Can't read the data of '"+f+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var a=n("./reader/readerFor"),s=n("./utils"),o=n("./signature"),c=n("./zipEntry"),u=n("./support");function d(g){this.files=[],this.loadOptions=g}d.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(p)+", expected "+s.pretty(g)+")")}},isSignature:function(g,p){var l=this.reader.index;this.reader.setIndex(g);var v=this.reader.readString(4)===p;return this.reader.setIndex(l),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),p=u.uint8array?"uint8array":"array",l=s.transformTo(p,g);this.zipComment=this.loadOptions.decodeFileName(l)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,p,l,v=this.zip64EndOfCentralSize-44;0<v;)g=this.reader.readInt(2),p=this.reader.readInt(4),l=this.reader.readData(p),this.zip64ExtensibleData[g]={id:g,length:p,value:l}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,p;for(g=0;g<this.files.length;g++)p=this.files[g],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(g=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var p=g;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var l=this.centralDirOffset+this.centralDirSize;this.zip64&&(l+=20,l+=12+this.zip64EndOfCentralSize);var v=p-l;if(0<v)this.isSignature(p,o.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(g){this.reader=a(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var a=n("./reader/readerFor"),s=n("./utils"),o=n("./compressedObject"),c=n("./crc32"),u=n("./utf8"),d=n("./compressions"),g=n("./support");function p(l,v){this.options=l,this.loadOptions=v}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(l){var v,f;if(l.skip(22),this.fileNameLength=l.readInt(2),f=l.readInt(2),this.fileName=l.readData(this.fileNameLength),l.skip(f),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=(function(m){for(var h in d)if(Object.prototype.hasOwnProperty.call(d,h)&&d[h].magic===m)return d[h];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,v,l.readData(this.compressedSize))},readCentralPart:function(l){this.versionMadeBy=l.readInt(2),l.skip(2),this.bitFlag=l.readInt(2),this.compressionMethod=l.readString(2),this.date=l.readDate(),this.crc32=l.readInt(4),this.compressedSize=l.readInt(4),this.uncompressedSize=l.readInt(4);var v=l.readInt(2);if(this.extraFieldsLength=l.readInt(2),this.fileCommentLength=l.readInt(2),this.diskNumberStart=l.readInt(2),this.internalFileAttributes=l.readInt(2),this.externalFileAttributes=l.readInt(4),this.localHeaderOffset=l.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");l.skip(v),this.readExtraFields(l),this.parseZIP64ExtraField(l),this.fileComment=l.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var l=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),l==0&&(this.dosPermissions=63&this.externalFileAttributes),l==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var l=a(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=l.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=l.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=l.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=l.readInt(4))}},readExtraFields:function(l){var v,f,m,h=l.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});l.index+4<h;)v=l.readInt(2),f=l.readInt(2),m=l.readData(f),this.extraFields[v]={id:v,length:f,value:m};l.setIndex(h)},handleUTF8:function(){var l=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var f=s.transformTo(l,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(f)}var m=this.findExtraFieldUnicodeComment();if(m!==null)this.fileCommentStr=m;else{var h=s.transformTo(l,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(h)}}},findExtraFieldUnicodePath:function(){var l=this.extraFields[28789];if(l){var v=a(l.value);return v.readInt(1)!==1||c(this.fileName)!==v.readInt(4)?null:u.utf8decode(v.readData(l.length-5))}return null},findExtraFieldUnicodeComment:function(){var l=this.extraFields[25461];if(l){var v=a(l.value);return v.readInt(1)!==1||c(this.fileComment)!==v.readInt(4)?null:u.utf8decode(v.readData(l.length-5))}return null}},r.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function a(v,f,m){this.name=v,this.dir=m.dir,this.date=m.date,this.comment=m.comment,this.unixPermissions=m.unixPermissions,this.dosPermissions=m.dosPermissions,this._data=f,this._dataBinary=m.binary,this.options={compression:m.compression,compressionOptions:m.compressionOptions}}var s=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),c=n("./utf8"),u=n("./compressedObject"),d=n("./stream/GenericWorker");a.prototype={internalStream:function(v){var f=null,m="string";try{if(!v)throw new Error("No output type specified.");var h=(m=v.toLowerCase())==="string"||m==="text";m!=="binarystring"&&m!=="text"||(m="string"),f=this._decompressWorker();var y=!this._dataBinary;y&&!h&&(f=f.pipe(new c.Utf8EncodeWorker)),!y&&h&&(f=f.pipe(new c.Utf8DecodeWorker))}catch(_){(f=new d("error")).error(_)}return new s(f,m,"")},async:function(v,f){return this.internalStream(v).accumulate(f)},nodeStream:function(v,f){return this.internalStream(v||"nodebuffer").toNodejsStream(f)},_compressWorker:function(v,f){if(this._data instanceof u&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var m=this._decompressWorker();return this._dataBinary||(m=m.pipe(new c.Utf8EncodeWorker)),u.createWorkerFrom(m,v,f)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof d?this._data:new o(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},l=0;l<g.length;l++)a.prototype[g[l]]=p;r.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(a){var s,o,c=a.MutationObserver||a.WebKitMutationObserver;if(c){var u=0,d=new c(v),g=a.document.createTextNode("");d.observe(g,{characterData:!0}),s=function(){g.data=u=++u%2}}else if(a.setImmediate||a.MessageChannel===void 0)s="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var f=a.document.createElement("script");f.onreadystatechange=function(){v(),f.onreadystatechange=null,f.parentNode.removeChild(f),f=null},a.document.documentElement.appendChild(f)}:function(){setTimeout(v,0)};else{var p=new a.MessageChannel;p.port1.onmessage=v,s=function(){p.port2.postMessage(0)}}var l=[];function v(){var f,m;o=!0;for(var h=l.length;h;){for(m=l,l=[],f=-1;++f<h;)m[f]();h=l.length}o=!1}r.exports=function(f){l.push(f)!==1||o||s()}}).call(this,typeof Ei<"u"?Ei:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var a=n("immediate");function s(){}var o={},c=["REJECTED"],u=["FULFILLED"],d=["PENDING"];function g(h){if(typeof h!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,h!==s&&f(this,h)}function p(h,y,_){this.promise=h,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof _=="function"&&(this.onRejected=_,this.callRejected=this.otherCallRejected)}function l(h,y,_){a(function(){var E;try{E=y(_)}catch(k){return o.reject(h,k)}E===h?o.reject(h,new TypeError("Cannot resolve promise with itself")):o.resolve(h,E)})}function v(h){var y=h&&h.then;if(h&&(typeof h=="object"||typeof h=="function")&&typeof y=="function")return function(){y.apply(h,arguments)}}function f(h,y){var _=!1;function E(I){_||(_=!0,o.reject(h,I))}function k(I){_||(_=!0,o.resolve(h,I))}var T=m(function(){y(k,E)});T.status==="error"&&E(T.value)}function m(h,y){var _={};try{_.value=h(y),_.status="success"}catch(E){_.status="error",_.value=E}return _}(r.exports=g).prototype.finally=function(h){if(typeof h!="function")return this;var y=this.constructor;return this.then(function(_){return y.resolve(h()).then(function(){return _})},function(_){return y.resolve(h()).then(function(){throw _})})},g.prototype.catch=function(h){return this.then(null,h)},g.prototype.then=function(h,y){if(typeof h!="function"&&this.state===u||typeof y!="function"&&this.state===c)return this;var _=new this.constructor(s);return this.state!==d?l(_,this.state===u?h:y,this.outcome):this.queue.push(new p(_,h,y)),_},p.prototype.callFulfilled=function(h){o.resolve(this.promise,h)},p.prototype.otherCallFulfilled=function(h){l(this.promise,this.onFulfilled,h)},p.prototype.callRejected=function(h){o.reject(this.promise,h)},p.prototype.otherCallRejected=function(h){l(this.promise,this.onRejected,h)},o.resolve=function(h,y){var _=m(v,y);if(_.status==="error")return o.reject(h,_.value);var E=_.value;if(E)f(h,E);else{h.state=u,h.outcome=y;for(var k=-1,T=h.queue.length;++k<T;)h.queue[k].callFulfilled(y)}return h},o.reject=function(h,y){h.state=c,h.outcome=y;for(var _=-1,E=h.queue.length;++_<E;)h.queue[_].callRejected(y);return h},g.resolve=function(h){return h instanceof this?h:o.resolve(new this(s),h)},g.reject=function(h){var y=new this(s);return o.reject(y,h)},g.all=function(h){var y=this;if(Object.prototype.toString.call(h)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=h.length,E=!1;if(!_)return this.resolve([]);for(var k=new Array(_),T=0,I=-1,P=new this(s);++I<_;)O(h[I],I);return P;function O(D,N){y.resolve(D).then(function(C){k[N]=C,++T!==_||E||(E=!0,o.resolve(P,k))},function(C){E||(E=!0,o.reject(P,C))})}},g.race=function(h){var y=this;if(Object.prototype.toString.call(h)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=h.length,E=!1;if(!_)return this.resolve([]);for(var k=-1,T=new this(s);++k<_;)I=h[k],y.resolve(I).then(function(P){E||(E=!0,o.resolve(T,P))},function(P){E||(E=!0,o.reject(T,P))});var I;return T}},{immediate:36}],38:[function(n,r,i){var a={};(0,n("./lib/utils/common").assign)(a,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var a=n("./zlib/deflate"),s=n("./utils/common"),o=n("./utils/strings"),c=n("./zlib/messages"),u=n("./zlib/zstream"),d=Object.prototype.toString,g=0,p=-1,l=0,v=8;function f(h){if(!(this instanceof f))return new f(h);this.options=s.assign({level:p,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:l,to:""},h||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var _=a.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(_!==g)throw new Error(c[_]);if(y.header&&a.deflateSetHeader(this.strm,y.header),y.dictionary){var E;if(E=typeof y.dictionary=="string"?o.string2buf(y.dictionary):d.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(_=a.deflateSetDictionary(this.strm,E))!==g)throw new Error(c[_]);this._dict_set=!0}}function m(h,y){var _=new f(y);if(_.push(h,!0),_.err)throw _.msg||c[_.err];return _.result}f.prototype.push=function(h,y){var _,E,k=this.strm,T=this.options.chunkSize;if(this.ended)return!1;E=y===~~y?y:y===!0?4:0,typeof h=="string"?k.input=o.string2buf(h):d.call(h)==="[object ArrayBuffer]"?k.input=new Uint8Array(h):k.input=h,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new s.Buf8(T),k.next_out=0,k.avail_out=T),(_=a.deflate(k,E))!==1&&_!==g)return this.onEnd(_),!(this.ended=!0);k.avail_out!==0&&(k.avail_in!==0||E!==4&&E!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(s.shrinkBuf(k.output,k.next_out))):this.onData(s.shrinkBuf(k.output,k.next_out)))}while((0<k.avail_in||k.avail_out===0)&&_!==1);return E===4?(_=a.deflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===g):E!==2||(this.onEnd(g),!(k.avail_out=0))},f.prototype.onData=function(h){this.chunks.push(h)},f.prototype.onEnd=function(h){h===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=h,this.msg=this.strm.msg},i.Deflate=f,i.deflate=m,i.deflateRaw=function(h,y){return(y=y||{}).raw=!0,m(h,y)},i.gzip=function(h,y){return(y=y||{}).gzip=!0,m(h,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var a=n("./zlib/inflate"),s=n("./utils/common"),o=n("./utils/strings"),c=n("./zlib/constants"),u=n("./zlib/messages"),d=n("./zlib/zstream"),g=n("./zlib/gzheader"),p=Object.prototype.toString;function l(f){if(!(this instanceof l))return new l(f);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},f||{});var m=this.options;m.raw&&0<=m.windowBits&&m.windowBits<16&&(m.windowBits=-m.windowBits,m.windowBits===0&&(m.windowBits=-15)),!(0<=m.windowBits&&m.windowBits<16)||f&&f.windowBits||(m.windowBits+=32),15<m.windowBits&&m.windowBits<48&&(15&m.windowBits)==0&&(m.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var h=a.inflateInit2(this.strm,m.windowBits);if(h!==c.Z_OK)throw new Error(u[h]);this.header=new g,a.inflateGetHeader(this.strm,this.header)}function v(f,m){var h=new l(m);if(h.push(f,!0),h.err)throw h.msg||u[h.err];return h.result}l.prototype.push=function(f,m){var h,y,_,E,k,T,I=this.strm,P=this.options.chunkSize,O=this.options.dictionary,D=!1;if(this.ended)return!1;y=m===~~m?m:m===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof f=="string"?I.input=o.binstring2buf(f):p.call(f)==="[object ArrayBuffer]"?I.input=new Uint8Array(f):I.input=f,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new s.Buf8(P),I.next_out=0,I.avail_out=P),(h=a.inflate(I,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&O&&(T=typeof O=="string"?o.string2buf(O):p.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,h=a.inflateSetDictionary(this.strm,T)),h===c.Z_BUF_ERROR&&D===!0&&(h=c.Z_OK,D=!1),h!==c.Z_STREAM_END&&h!==c.Z_OK)return this.onEnd(h),!(this.ended=!0);I.next_out&&(I.avail_out!==0&&h!==c.Z_STREAM_END&&(I.avail_in!==0||y!==c.Z_FINISH&&y!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(_=o.utf8border(I.output,I.next_out),E=I.next_out-_,k=o.buf2string(I.output,_),I.next_out=E,I.avail_out=P-E,E&&s.arraySet(I.output,I.output,_,E,0),this.onData(k)):this.onData(s.shrinkBuf(I.output,I.next_out)))),I.avail_in===0&&I.avail_out===0&&(D=!0)}while((0<I.avail_in||I.avail_out===0)&&h!==c.Z_STREAM_END);return h===c.Z_STREAM_END&&(y=c.Z_FINISH),y===c.Z_FINISH?(h=a.inflateEnd(this.strm),this.onEnd(h),this.ended=!0,h===c.Z_OK):y!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(I.avail_out=0))},l.prototype.onData=function(f){this.chunks.push(f)},l.prototype.onEnd=function(f){f===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},i.Inflate=l,i.inflate=v,i.inflateRaw=function(f,m){return(m=m||{}).raw=!0,v(f,m)},i.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(c){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var d=u.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var g in d)d.hasOwnProperty(g)&&(c[g]=d[g])}}return c},i.shrinkBuf=function(c,u){return c.length===u?c:c.subarray?c.subarray(0,u):(c.length=u,c)};var s={arraySet:function(c,u,d,g,p){if(u.subarray&&c.subarray)c.set(u.subarray(d,d+g),p);else for(var l=0;l<g;l++)c[p+l]=u[d+l]},flattenChunks:function(c){var u,d,g,p,l,v;for(u=g=0,d=c.length;u<d;u++)g+=c[u].length;for(v=new Uint8Array(g),u=p=0,d=c.length;u<d;u++)l=c[u],v.set(l,p),p+=l.length;return v}},o={arraySet:function(c,u,d,g,p){for(var l=0;l<g;l++)c[p+l]=u[d+l]},flattenChunks:function(c){return[].concat.apply([],c)}};i.setTyped=function(c){c?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(a)},{}],42:[function(n,r,i){var a=n("./common"),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var c=new a.Buf8(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function d(g,p){if(p<65537&&(g.subarray&&o||!g.subarray&&s))return String.fromCharCode.apply(null,a.shrinkBuf(g,p));for(var l="",v=0;v<p;v++)l+=String.fromCharCode(g[v]);return l}c[254]=c[254]=1,i.string2buf=function(g){var p,l,v,f,m,h=g.length,y=0;for(f=0;f<h;f++)(64512&(l=g.charCodeAt(f)))==55296&&f+1<h&&(64512&(v=g.charCodeAt(f+1)))==56320&&(l=65536+(l-55296<<10)+(v-56320),f++),y+=l<128?1:l<2048?2:l<65536?3:4;for(p=new a.Buf8(y),f=m=0;m<y;f++)(64512&(l=g.charCodeAt(f)))==55296&&f+1<h&&(64512&(v=g.charCodeAt(f+1)))==56320&&(l=65536+(l-55296<<10)+(v-56320),f++),l<128?p[m++]=l:(l<2048?p[m++]=192|l>>>6:(l<65536?p[m++]=224|l>>>12:(p[m++]=240|l>>>18,p[m++]=128|l>>>12&63),p[m++]=128|l>>>6&63),p[m++]=128|63&l);return p},i.buf2binstring=function(g){return d(g,g.length)},i.binstring2buf=function(g){for(var p=new a.Buf8(g.length),l=0,v=p.length;l<v;l++)p[l]=g.charCodeAt(l);return p},i.buf2string=function(g,p){var l,v,f,m,h=p||g.length,y=new Array(2*h);for(l=v=0;l<h;)if((f=g[l++])<128)y[v++]=f;else if(4<(m=c[f]))y[v++]=65533,l+=m-1;else{for(f&=m===2?31:m===3?15:7;1<m&&l<h;)f=f<<6|63&g[l++],m--;1<m?y[v++]=65533:f<65536?y[v++]=f:(f-=65536,y[v++]=55296|f>>10&1023,y[v++]=56320|1023&f)}return d(y,v)},i.utf8border=function(g,p){var l;for((p=p||g.length)>g.length&&(p=g.length),l=p-1;0<=l&&(192&g[l])==128;)l--;return l<0||l===0?p:l+c[g[l]]>p?l:p}},{"./common":41}],43:[function(n,r,i){r.exports=function(a,s,o,c){for(var u=65535&a|0,d=a>>>16&65535|0,g=0;o!==0;){for(o-=g=2e3<o?2e3:o;d=d+(u=u+s[c++]|0)|0,--g;);u%=65521,d%=65521}return u|d<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var a=(function(){for(var s,o=[],c=0;c<256;c++){s=c;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;o[c]=s}return o})();r.exports=function(s,o,c,u){var d=a,g=u+c;s^=-1;for(var p=u;p<g;p++)s=s>>>8^d[255&(s^o[p])];return-1^s}},{}],46:[function(n,r,i){var a,s=n("../utils/common"),o=n("./trees"),c=n("./adler32"),u=n("./crc32"),d=n("./messages"),g=0,p=4,l=0,v=-2,f=-1,m=4,h=2,y=8,_=9,E=286,k=30,T=19,I=2*E+1,P=15,O=3,D=258,N=D+O+1,C=42,L=113,b=1,R=2,V=3,U=4;function Y(w,G){return w.msg=d[G],G}function q(w){return(w<<1)-(4<w?9:0)}function Q(w){for(var G=w.length;0<=--G;)w[G]=0}function M(w){var G=w.state,z=G.pending;z>w.avail_out&&(z=w.avail_out),z!==0&&(s.arraySet(w.output,G.pending_buf,G.pending_out,z,w.next_out),w.next_out+=z,G.pending_out+=z,w.total_out+=z,w.avail_out-=z,G.pending-=z,G.pending===0&&(G.pending_out=0))}function B(w,G){o._tr_flush_block(w,0<=w.block_start?w.block_start:-1,w.strstart-w.block_start,G),w.block_start=w.strstart,M(w.strm)}function re(w,G){w.pending_buf[w.pending++]=G}function oe(w,G){w.pending_buf[w.pending++]=G>>>8&255,w.pending_buf[w.pending++]=255&G}function Z(w,G){var z,A,S=w.max_chain_length,F=w.strstart,X=w.prev_length,ee=w.nice_match,W=w.strstart>w.w_size-N?w.strstart-(w.w_size-N):0,ie=w.window,le=w.w_mask,ae=w.prev,pe=w.strstart+D,Ue=ie[F+X-1],Re=ie[F+X];w.prev_length>=w.good_match&&(S>>=2),ee>w.lookahead&&(ee=w.lookahead);do if(ie[(z=G)+X]===Re&&ie[z+X-1]===Ue&&ie[z]===ie[F]&&ie[++z]===ie[F+1]){F+=2,z++;do;while(ie[++F]===ie[++z]&&ie[++F]===ie[++z]&&ie[++F]===ie[++z]&&ie[++F]===ie[++z]&&ie[++F]===ie[++z]&&ie[++F]===ie[++z]&&ie[++F]===ie[++z]&&ie[++F]===ie[++z]&&F<pe);if(A=D-(pe-F),F=pe-D,X<A){if(w.match_start=G,ee<=(X=A))break;Ue=ie[F+X-1],Re=ie[F+X]}}while((G=ae[G&le])>W&&--S!=0);return X<=w.lookahead?X:w.lookahead}function fe(w){var G,z,A,S,F,X,ee,W,ie,le,ae=w.w_size;do{if(S=w.window_size-w.lookahead-w.strstart,w.strstart>=ae+(ae-N)){for(s.arraySet(w.window,w.window,ae,ae,0),w.match_start-=ae,w.strstart-=ae,w.block_start-=ae,G=z=w.hash_size;A=w.head[--G],w.head[G]=ae<=A?A-ae:0,--z;);for(G=z=ae;A=w.prev[--G],w.prev[G]=ae<=A?A-ae:0,--z;);S+=ae}if(w.strm.avail_in===0)break;if(X=w.strm,ee=w.window,W=w.strstart+w.lookahead,ie=S,le=void 0,le=X.avail_in,ie<le&&(le=ie),z=le===0?0:(X.avail_in-=le,s.arraySet(ee,X.input,X.next_in,le,W),X.state.wrap===1?X.adler=c(X.adler,ee,le,W):X.state.wrap===2&&(X.adler=u(X.adler,ee,le,W)),X.next_in+=le,X.total_in+=le,le),w.lookahead+=z,w.lookahead+w.insert>=O)for(F=w.strstart-w.insert,w.ins_h=w.window[F],w.ins_h=(w.ins_h<<w.hash_shift^w.window[F+1])&w.hash_mask;w.insert&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[F+O-1])&w.hash_mask,w.prev[F&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=F,F++,w.insert--,!(w.lookahead+w.insert<O)););}while(w.lookahead<N&&w.strm.avail_in!==0)}function _e(w,G){for(var z,A;;){if(w.lookahead<N){if(fe(w),w.lookahead<N&&G===g)return b;if(w.lookahead===0)break}if(z=0,w.lookahead>=O&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+O-1])&w.hash_mask,z=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),z!==0&&w.strstart-z<=w.w_size-N&&(w.match_length=Z(w,z)),w.match_length>=O)if(A=o._tr_tally(w,w.strstart-w.match_start,w.match_length-O),w.lookahead-=w.match_length,w.match_length<=w.max_lazy_match&&w.lookahead>=O){for(w.match_length--;w.strstart++,w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+O-1])&w.hash_mask,z=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart,--w.match_length!=0;);w.strstart++}else w.strstart+=w.match_length,w.match_length=0,w.ins_h=w.window[w.strstart],w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+1])&w.hash_mask;else A=o._tr_tally(w,0,w.window[w.strstart]),w.lookahead--,w.strstart++;if(A&&(B(w,!1),w.strm.avail_out===0))return b}return w.insert=w.strstart<O-1?w.strstart:O-1,G===p?(B(w,!0),w.strm.avail_out===0?V:U):w.last_lit&&(B(w,!1),w.strm.avail_out===0)?b:R}function ve(w,G){for(var z,A,S;;){if(w.lookahead<N){if(fe(w),w.lookahead<N&&G===g)return b;if(w.lookahead===0)break}if(z=0,w.lookahead>=O&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+O-1])&w.hash_mask,z=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),w.prev_length=w.match_length,w.prev_match=w.match_start,w.match_length=O-1,z!==0&&w.prev_length<w.max_lazy_match&&w.strstart-z<=w.w_size-N&&(w.match_length=Z(w,z),w.match_length<=5&&(w.strategy===1||w.match_length===O&&4096<w.strstart-w.match_start)&&(w.match_length=O-1)),w.prev_length>=O&&w.match_length<=w.prev_length){for(S=w.strstart+w.lookahead-O,A=o._tr_tally(w,w.strstart-1-w.prev_match,w.prev_length-O),w.lookahead-=w.prev_length-1,w.prev_length-=2;++w.strstart<=S&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+O-1])&w.hash_mask,z=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),--w.prev_length!=0;);if(w.match_available=0,w.match_length=O-1,w.strstart++,A&&(B(w,!1),w.strm.avail_out===0))return b}else if(w.match_available){if((A=o._tr_tally(w,0,w.window[w.strstart-1]))&&B(w,!1),w.strstart++,w.lookahead--,w.strm.avail_out===0)return b}else w.match_available=1,w.strstart++,w.lookahead--}return w.match_available&&(A=o._tr_tally(w,0,w.window[w.strstart-1]),w.match_available=0),w.insert=w.strstart<O-1?w.strstart:O-1,G===p?(B(w,!0),w.strm.avail_out===0?V:U):w.last_lit&&(B(w,!1),w.strm.avail_out===0)?b:R}function Ee(w,G,z,A,S){this.good_length=w,this.max_lazy=G,this.nice_length=z,this.max_chain=A,this.func=S}function ge(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*I),this.dyn_dtree=new s.Buf16(2*(2*k+1)),this.bl_tree=new s.Buf16(2*(2*T+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(P+1),this.heap=new s.Buf16(2*E+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*E+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ae(w){var G;return w&&w.state?(w.total_in=w.total_out=0,w.data_type=h,(G=w.state).pending=0,G.pending_out=0,G.wrap<0&&(G.wrap=-G.wrap),G.status=G.wrap?C:L,w.adler=G.wrap===2?0:1,G.last_flush=g,o._tr_init(G),l):Y(w,v)}function Te(w){var G=Ae(w);return G===l&&(function(z){z.window_size=2*z.w_size,Q(z.head),z.max_lazy_match=a[z.level].max_lazy,z.good_match=a[z.level].good_length,z.nice_match=a[z.level].nice_length,z.max_chain_length=a[z.level].max_chain,z.strstart=0,z.block_start=0,z.lookahead=0,z.insert=0,z.match_length=z.prev_length=O-1,z.match_available=0,z.ins_h=0})(w.state),G}function Ie(w,G,z,A,S,F){if(!w)return v;var X=1;if(G===f&&(G=6),A<0?(X=0,A=-A):15<A&&(X=2,A-=16),S<1||_<S||z!==y||A<8||15<A||G<0||9<G||F<0||m<F)return Y(w,v);A===8&&(A=9);var ee=new ge;return(w.state=ee).strm=w,ee.wrap=X,ee.gzhead=null,ee.w_bits=A,ee.w_size=1<<ee.w_bits,ee.w_mask=ee.w_size-1,ee.hash_bits=S+7,ee.hash_size=1<<ee.hash_bits,ee.hash_mask=ee.hash_size-1,ee.hash_shift=~~((ee.hash_bits+O-1)/O),ee.window=new s.Buf8(2*ee.w_size),ee.head=new s.Buf16(ee.hash_size),ee.prev=new s.Buf16(ee.w_size),ee.lit_bufsize=1<<S+6,ee.pending_buf_size=4*ee.lit_bufsize,ee.pending_buf=new s.Buf8(ee.pending_buf_size),ee.d_buf=1*ee.lit_bufsize,ee.l_buf=3*ee.lit_bufsize,ee.level=G,ee.strategy=F,ee.method=z,Te(w)}a=[new Ee(0,0,0,0,function(w,G){var z=65535;for(z>w.pending_buf_size-5&&(z=w.pending_buf_size-5);;){if(w.lookahead<=1){if(fe(w),w.lookahead===0&&G===g)return b;if(w.lookahead===0)break}w.strstart+=w.lookahead,w.lookahead=0;var A=w.block_start+z;if((w.strstart===0||w.strstart>=A)&&(w.lookahead=w.strstart-A,w.strstart=A,B(w,!1),w.strm.avail_out===0)||w.strstart-w.block_start>=w.w_size-N&&(B(w,!1),w.strm.avail_out===0))return b}return w.insert=0,G===p?(B(w,!0),w.strm.avail_out===0?V:U):(w.strstart>w.block_start&&(B(w,!1),w.strm.avail_out),b)}),new Ee(4,4,8,4,_e),new Ee(4,5,16,8,_e),new Ee(4,6,32,32,_e),new Ee(4,4,16,16,ve),new Ee(8,16,32,32,ve),new Ee(8,16,128,128,ve),new Ee(8,32,128,256,ve),new Ee(32,128,258,1024,ve),new Ee(32,258,258,4096,ve)],i.deflateInit=function(w,G){return Ie(w,G,y,15,8,0)},i.deflateInit2=Ie,i.deflateReset=Te,i.deflateResetKeep=Ae,i.deflateSetHeader=function(w,G){return w&&w.state?w.state.wrap!==2?v:(w.state.gzhead=G,l):v},i.deflate=function(w,G){var z,A,S,F;if(!w||!w.state||5<G||G<0)return w?Y(w,v):v;if(A=w.state,!w.output||!w.input&&w.avail_in!==0||A.status===666&&G!==p)return Y(w,w.avail_out===0?-5:v);if(A.strm=w,z=A.last_flush,A.last_flush=G,A.status===C)if(A.wrap===2)w.adler=0,re(A,31),re(A,139),re(A,8),A.gzhead?(re(A,(A.gzhead.text?1:0)+(A.gzhead.hcrc?2:0)+(A.gzhead.extra?4:0)+(A.gzhead.name?8:0)+(A.gzhead.comment?16:0)),re(A,255&A.gzhead.time),re(A,A.gzhead.time>>8&255),re(A,A.gzhead.time>>16&255),re(A,A.gzhead.time>>24&255),re(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),re(A,255&A.gzhead.os),A.gzhead.extra&&A.gzhead.extra.length&&(re(A,255&A.gzhead.extra.length),re(A,A.gzhead.extra.length>>8&255)),A.gzhead.hcrc&&(w.adler=u(w.adler,A.pending_buf,A.pending,0)),A.gzindex=0,A.status=69):(re(A,0),re(A,0),re(A,0),re(A,0),re(A,0),re(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),re(A,3),A.status=L);else{var X=y+(A.w_bits-8<<4)<<8;X|=(2<=A.strategy||A.level<2?0:A.level<6?1:A.level===6?2:3)<<6,A.strstart!==0&&(X|=32),X+=31-X%31,A.status=L,oe(A,X),A.strstart!==0&&(oe(A,w.adler>>>16),oe(A,65535&w.adler)),w.adler=1}if(A.status===69)if(A.gzhead.extra){for(S=A.pending;A.gzindex<(65535&A.gzhead.extra.length)&&(A.pending!==A.pending_buf_size||(A.gzhead.hcrc&&A.pending>S&&(w.adler=u(w.adler,A.pending_buf,A.pending-S,S)),M(w),S=A.pending,A.pending!==A.pending_buf_size));)re(A,255&A.gzhead.extra[A.gzindex]),A.gzindex++;A.gzhead.hcrc&&A.pending>S&&(w.adler=u(w.adler,A.pending_buf,A.pending-S,S)),A.gzindex===A.gzhead.extra.length&&(A.gzindex=0,A.status=73)}else A.status=73;if(A.status===73)if(A.gzhead.name){S=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>S&&(w.adler=u(w.adler,A.pending_buf,A.pending-S,S)),M(w),S=A.pending,A.pending===A.pending_buf_size)){F=1;break}F=A.gzindex<A.gzhead.name.length?255&A.gzhead.name.charCodeAt(A.gzindex++):0,re(A,F)}while(F!==0);A.gzhead.hcrc&&A.pending>S&&(w.adler=u(w.adler,A.pending_buf,A.pending-S,S)),F===0&&(A.gzindex=0,A.status=91)}else A.status=91;if(A.status===91)if(A.gzhead.comment){S=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>S&&(w.adler=u(w.adler,A.pending_buf,A.pending-S,S)),M(w),S=A.pending,A.pending===A.pending_buf_size)){F=1;break}F=A.gzindex<A.gzhead.comment.length?255&A.gzhead.comment.charCodeAt(A.gzindex++):0,re(A,F)}while(F!==0);A.gzhead.hcrc&&A.pending>S&&(w.adler=u(w.adler,A.pending_buf,A.pending-S,S)),F===0&&(A.status=103)}else A.status=103;if(A.status===103&&(A.gzhead.hcrc?(A.pending+2>A.pending_buf_size&&M(w),A.pending+2<=A.pending_buf_size&&(re(A,255&w.adler),re(A,w.adler>>8&255),w.adler=0,A.status=L)):A.status=L),A.pending!==0){if(M(w),w.avail_out===0)return A.last_flush=-1,l}else if(w.avail_in===0&&q(G)<=q(z)&&G!==p)return Y(w,-5);if(A.status===666&&w.avail_in!==0)return Y(w,-5);if(w.avail_in!==0||A.lookahead!==0||G!==g&&A.status!==666){var ee=A.strategy===2?(function(W,ie){for(var le;;){if(W.lookahead===0&&(fe(W),W.lookahead===0)){if(ie===g)return b;break}if(W.match_length=0,le=o._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++,le&&(B(W,!1),W.strm.avail_out===0))return b}return W.insert=0,ie===p?(B(W,!0),W.strm.avail_out===0?V:U):W.last_lit&&(B(W,!1),W.strm.avail_out===0)?b:R})(A,G):A.strategy===3?(function(W,ie){for(var le,ae,pe,Ue,Re=W.window;;){if(W.lookahead<=D){if(fe(W),W.lookahead<=D&&ie===g)return b;if(W.lookahead===0)break}if(W.match_length=0,W.lookahead>=O&&0<W.strstart&&(ae=Re[pe=W.strstart-1])===Re[++pe]&&ae===Re[++pe]&&ae===Re[++pe]){Ue=W.strstart+D;do;while(ae===Re[++pe]&&ae===Re[++pe]&&ae===Re[++pe]&&ae===Re[++pe]&&ae===Re[++pe]&&ae===Re[++pe]&&ae===Re[++pe]&&ae===Re[++pe]&&pe<Ue);W.match_length=D-(Ue-pe),W.match_length>W.lookahead&&(W.match_length=W.lookahead)}if(W.match_length>=O?(le=o._tr_tally(W,1,W.match_length-O),W.lookahead-=W.match_length,W.strstart+=W.match_length,W.match_length=0):(le=o._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++),le&&(B(W,!1),W.strm.avail_out===0))return b}return W.insert=0,ie===p?(B(W,!0),W.strm.avail_out===0?V:U):W.last_lit&&(B(W,!1),W.strm.avail_out===0)?b:R})(A,G):a[A.level].func(A,G);if(ee!==V&&ee!==U||(A.status=666),ee===b||ee===V)return w.avail_out===0&&(A.last_flush=-1),l;if(ee===R&&(G===1?o._tr_align(A):G!==5&&(o._tr_stored_block(A,0,0,!1),G===3&&(Q(A.head),A.lookahead===0&&(A.strstart=0,A.block_start=0,A.insert=0))),M(w),w.avail_out===0))return A.last_flush=-1,l}return G!==p?l:A.wrap<=0?1:(A.wrap===2?(re(A,255&w.adler),re(A,w.adler>>8&255),re(A,w.adler>>16&255),re(A,w.adler>>24&255),re(A,255&w.total_in),re(A,w.total_in>>8&255),re(A,w.total_in>>16&255),re(A,w.total_in>>24&255)):(oe(A,w.adler>>>16),oe(A,65535&w.adler)),M(w),0<A.wrap&&(A.wrap=-A.wrap),A.pending!==0?l:1)},i.deflateEnd=function(w){var G;return w&&w.state?(G=w.state.status)!==C&&G!==69&&G!==73&&G!==91&&G!==103&&G!==L&&G!==666?Y(w,v):(w.state=null,G===L?Y(w,-3):l):v},i.deflateSetDictionary=function(w,G){var z,A,S,F,X,ee,W,ie,le=G.length;if(!w||!w.state||(F=(z=w.state).wrap)===2||F===1&&z.status!==C||z.lookahead)return v;for(F===1&&(w.adler=c(w.adler,G,le,0)),z.wrap=0,le>=z.w_size&&(F===0&&(Q(z.head),z.strstart=0,z.block_start=0,z.insert=0),ie=new s.Buf8(z.w_size),s.arraySet(ie,G,le-z.w_size,z.w_size,0),G=ie,le=z.w_size),X=w.avail_in,ee=w.next_in,W=w.input,w.avail_in=le,w.next_in=0,w.input=G,fe(z);z.lookahead>=O;){for(A=z.strstart,S=z.lookahead-(O-1);z.ins_h=(z.ins_h<<z.hash_shift^z.window[A+O-1])&z.hash_mask,z.prev[A&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=A,A++,--S;);z.strstart=A,z.lookahead=O-1,fe(z)}return z.strstart+=z.lookahead,z.block_start=z.strstart,z.insert=z.lookahead,z.lookahead=0,z.match_length=z.prev_length=O-1,z.match_available=0,w.next_in=ee,w.input=W,w.avail_in=X,z.wrap=F,l},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(a,s){var o,c,u,d,g,p,l,v,f,m,h,y,_,E,k,T,I,P,O,D,N,C,L,b,R;o=a.state,c=a.next_in,b=a.input,u=c+(a.avail_in-5),d=a.next_out,R=a.output,g=d-(s-a.avail_out),p=d+(a.avail_out-257),l=o.dmax,v=o.wsize,f=o.whave,m=o.wnext,h=o.window,y=o.hold,_=o.bits,E=o.lencode,k=o.distcode,T=(1<<o.lenbits)-1,I=(1<<o.distbits)-1;e:do{_<15&&(y+=b[c++]<<_,_+=8,y+=b[c++]<<_,_+=8),P=E[y&T];t:for(;;){if(y>>>=O=P>>>24,_-=O,(O=P>>>16&255)===0)R[d++]=65535&P;else{if(!(16&O)){if((64&O)==0){P=E[(65535&P)+(y&(1<<O)-1)];continue t}if(32&O){o.mode=12;break e}a.msg="invalid literal/length code",o.mode=30;break e}D=65535&P,(O&=15)&&(_<O&&(y+=b[c++]<<_,_+=8),D+=y&(1<<O)-1,y>>>=O,_-=O),_<15&&(y+=b[c++]<<_,_+=8,y+=b[c++]<<_,_+=8),P=k[y&I];n:for(;;){if(y>>>=O=P>>>24,_-=O,!(16&(O=P>>>16&255))){if((64&O)==0){P=k[(65535&P)+(y&(1<<O)-1)];continue n}a.msg="invalid distance code",o.mode=30;break e}if(N=65535&P,_<(O&=15)&&(y+=b[c++]<<_,(_+=8)<O&&(y+=b[c++]<<_,_+=8)),l<(N+=y&(1<<O)-1)){a.msg="invalid distance too far back",o.mode=30;break e}if(y>>>=O,_-=O,(O=d-g)<N){if(f<(O=N-O)&&o.sane){a.msg="invalid distance too far back",o.mode=30;break e}if(L=h,(C=0)===m){if(C+=v-O,O<D){for(D-=O;R[d++]=h[C++],--O;);C=d-N,L=R}}else if(m<O){if(C+=v+m-O,(O-=m)<D){for(D-=O;R[d++]=h[C++],--O;);if(C=0,m<D){for(D-=O=m;R[d++]=h[C++],--O;);C=d-N,L=R}}}else if(C+=m-O,O<D){for(D-=O;R[d++]=h[C++],--O;);C=d-N,L=R}for(;2<D;)R[d++]=L[C++],R[d++]=L[C++],R[d++]=L[C++],D-=3;D&&(R[d++]=L[C++],1<D&&(R[d++]=L[C++]))}else{for(C=d-N;R[d++]=R[C++],R[d++]=R[C++],R[d++]=R[C++],2<(D-=3););D&&(R[d++]=R[C++],1<D&&(R[d++]=R[C++]))}break}}break}}while(c<u&&d<p);c-=D=_>>3,y&=(1<<(_-=D<<3))-1,a.next_in=c,a.next_out=d,a.avail_in=c<u?u-c+5:5-(c-u),a.avail_out=d<p?p-d+257:257-(d-p),o.hold=y,o.bits=_}},{}],49:[function(n,r,i){var a=n("../utils/common"),s=n("./adler32"),o=n("./crc32"),c=n("./inffast"),u=n("./inftrees"),d=1,g=2,p=0,l=-2,v=1,f=852,m=592;function h(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(C){var L;return C&&C.state?(L=C.state,C.total_in=C.total_out=L.total=0,C.msg="",L.wrap&&(C.adler=1&L.wrap),L.mode=v,L.last=0,L.havedict=0,L.dmax=32768,L.head=null,L.hold=0,L.bits=0,L.lencode=L.lendyn=new a.Buf32(f),L.distcode=L.distdyn=new a.Buf32(m),L.sane=1,L.back=-1,p):l}function E(C){var L;return C&&C.state?((L=C.state).wsize=0,L.whave=0,L.wnext=0,_(C)):l}function k(C,L){var b,R;return C&&C.state?(R=C.state,L<0?(b=0,L=-L):(b=1+(L>>4),L<48&&(L&=15)),L&&(L<8||15<L)?l:(R.window!==null&&R.wbits!==L&&(R.window=null),R.wrap=b,R.wbits=L,E(C))):l}function T(C,L){var b,R;return C?(R=new y,(C.state=R).window=null,(b=k(C,L))!==p&&(C.state=null),b):l}var I,P,O=!0;function D(C){if(O){var L;for(I=new a.Buf32(512),P=new a.Buf32(32),L=0;L<144;)C.lens[L++]=8;for(;L<256;)C.lens[L++]=9;for(;L<280;)C.lens[L++]=7;for(;L<288;)C.lens[L++]=8;for(u(d,C.lens,0,288,I,0,C.work,{bits:9}),L=0;L<32;)C.lens[L++]=5;u(g,C.lens,0,32,P,0,C.work,{bits:5}),O=!1}C.lencode=I,C.lenbits=9,C.distcode=P,C.distbits=5}function N(C,L,b,R){var V,U=C.state;return U.window===null&&(U.wsize=1<<U.wbits,U.wnext=0,U.whave=0,U.window=new a.Buf8(U.wsize)),R>=U.wsize?(a.arraySet(U.window,L,b-U.wsize,U.wsize,0),U.wnext=0,U.whave=U.wsize):(R<(V=U.wsize-U.wnext)&&(V=R),a.arraySet(U.window,L,b-R,V,U.wnext),(R-=V)?(a.arraySet(U.window,L,b-R,R,0),U.wnext=R,U.whave=U.wsize):(U.wnext+=V,U.wnext===U.wsize&&(U.wnext=0),U.whave<U.wsize&&(U.whave+=V))),0}i.inflateReset=E,i.inflateReset2=k,i.inflateResetKeep=_,i.inflateInit=function(C){return T(C,15)},i.inflateInit2=T,i.inflate=function(C,L){var b,R,V,U,Y,q,Q,M,B,re,oe,Z,fe,_e,ve,Ee,ge,Ae,Te,Ie,w,G,z,A,S=0,F=new a.Buf8(4),X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return l;(b=C.state).mode===12&&(b.mode=13),Y=C.next_out,V=C.output,Q=C.avail_out,U=C.next_in,R=C.input,q=C.avail_in,M=b.hold,B=b.bits,re=q,oe=Q,G=p;e:for(;;)switch(b.mode){case v:if(b.wrap===0){b.mode=13;break}for(;B<16;){if(q===0)break e;q--,M+=R[U++]<<B,B+=8}if(2&b.wrap&&M===35615){F[b.check=0]=255&M,F[1]=M>>>8&255,b.check=o(b.check,F,2,0),B=M=0,b.mode=2;break}if(b.flags=0,b.head&&(b.head.done=!1),!(1&b.wrap)||(((255&M)<<8)+(M>>8))%31){C.msg="incorrect header check",b.mode=30;break}if((15&M)!=8){C.msg="unknown compression method",b.mode=30;break}if(B-=4,w=8+(15&(M>>>=4)),b.wbits===0)b.wbits=w;else if(w>b.wbits){C.msg="invalid window size",b.mode=30;break}b.dmax=1<<w,C.adler=b.check=1,b.mode=512&M?10:12,B=M=0;break;case 2:for(;B<16;){if(q===0)break e;q--,M+=R[U++]<<B,B+=8}if(b.flags=M,(255&b.flags)!=8){C.msg="unknown compression method",b.mode=30;break}if(57344&b.flags){C.msg="unknown header flags set",b.mode=30;break}b.head&&(b.head.text=M>>8&1),512&b.flags&&(F[0]=255&M,F[1]=M>>>8&255,b.check=o(b.check,F,2,0)),B=M=0,b.mode=3;case 3:for(;B<32;){if(q===0)break e;q--,M+=R[U++]<<B,B+=8}b.head&&(b.head.time=M),512&b.flags&&(F[0]=255&M,F[1]=M>>>8&255,F[2]=M>>>16&255,F[3]=M>>>24&255,b.check=o(b.check,F,4,0)),B=M=0,b.mode=4;case 4:for(;B<16;){if(q===0)break e;q--,M+=R[U++]<<B,B+=8}b.head&&(b.head.xflags=255&M,b.head.os=M>>8),512&b.flags&&(F[0]=255&M,F[1]=M>>>8&255,b.check=o(b.check,F,2,0)),B=M=0,b.mode=5;case 5:if(1024&b.flags){for(;B<16;){if(q===0)break e;q--,M+=R[U++]<<B,B+=8}b.length=M,b.head&&(b.head.extra_len=M),512&b.flags&&(F[0]=255&M,F[1]=M>>>8&255,b.check=o(b.check,F,2,0)),B=M=0}else b.head&&(b.head.extra=null);b.mode=6;case 6:if(1024&b.flags&&(q<(Z=b.length)&&(Z=q),Z&&(b.head&&(w=b.head.extra_len-b.length,b.head.extra||(b.head.extra=new Array(b.head.extra_len)),a.arraySet(b.head.extra,R,U,Z,w)),512&b.flags&&(b.check=o(b.check,R,Z,U)),q-=Z,U+=Z,b.length-=Z),b.length))break e;b.length=0,b.mode=7;case 7:if(2048&b.flags){if(q===0)break e;for(Z=0;w=R[U+Z++],b.head&&w&&b.length<65536&&(b.head.name+=String.fromCharCode(w)),w&&Z<q;);if(512&b.flags&&(b.check=o(b.check,R,Z,U)),q-=Z,U+=Z,w)break e}else b.head&&(b.head.name=null);b.length=0,b.mode=8;case 8:if(4096&b.flags){if(q===0)break e;for(Z=0;w=R[U+Z++],b.head&&w&&b.length<65536&&(b.head.comment+=String.fromCharCode(w)),w&&Z<q;);if(512&b.flags&&(b.check=o(b.check,R,Z,U)),q-=Z,U+=Z,w)break e}else b.head&&(b.head.comment=null);b.mode=9;case 9:if(512&b.flags){for(;B<16;){if(q===0)break e;q--,M+=R[U++]<<B,B+=8}if(M!==(65535&b.check)){C.msg="header crc mismatch",b.mode=30;break}B=M=0}b.head&&(b.head.hcrc=b.flags>>9&1,b.head.done=!0),C.adler=b.check=0,b.mode=12;break;case 10:for(;B<32;){if(q===0)break e;q--,M+=R[U++]<<B,B+=8}C.adler=b.check=h(M),B=M=0,b.mode=11;case 11:if(b.havedict===0)return C.next_out=Y,C.avail_out=Q,C.next_in=U,C.avail_in=q,b.hold=M,b.bits=B,2;C.adler=b.check=1,b.mode=12;case 12:if(L===5||L===6)break e;case 13:if(b.last){M>>>=7&B,B-=7&B,b.mode=27;break}for(;B<3;){if(q===0)break e;q--,M+=R[U++]<<B,B+=8}switch(b.last=1&M,B-=1,3&(M>>>=1)){case 0:b.mode=14;break;case 1:if(D(b),b.mode=20,L!==6)break;M>>>=2,B-=2;break e;case 2:b.mode=17;break;case 3:C.msg="invalid block type",b.mode=30}M>>>=2,B-=2;break;case 14:for(M>>>=7&B,B-=7&B;B<32;){if(q===0)break e;q--,M+=R[U++]<<B,B+=8}if((65535&M)!=(M>>>16^65535)){C.msg="invalid stored block lengths",b.mode=30;break}if(b.length=65535&M,B=M=0,b.mode=15,L===6)break e;case 15:b.mode=16;case 16:if(Z=b.length){if(q<Z&&(Z=q),Q<Z&&(Z=Q),Z===0)break e;a.arraySet(V,R,U,Z,Y),q-=Z,U+=Z,Q-=Z,Y+=Z,b.length-=Z;break}b.mode=12;break;case 17:for(;B<14;){if(q===0)break e;q--,M+=R[U++]<<B,B+=8}if(b.nlen=257+(31&M),M>>>=5,B-=5,b.ndist=1+(31&M),M>>>=5,B-=5,b.ncode=4+(15&M),M>>>=4,B-=4,286<b.nlen||30<b.ndist){C.msg="too many length or distance symbols",b.mode=30;break}b.have=0,b.mode=18;case 18:for(;b.have<b.ncode;){for(;B<3;){if(q===0)break e;q--,M+=R[U++]<<B,B+=8}b.lens[X[b.have++]]=7&M,M>>>=3,B-=3}for(;b.have<19;)b.lens[X[b.have++]]=0;if(b.lencode=b.lendyn,b.lenbits=7,z={bits:b.lenbits},G=u(0,b.lens,0,19,b.lencode,0,b.work,z),b.lenbits=z.bits,G){C.msg="invalid code lengths set",b.mode=30;break}b.have=0,b.mode=19;case 19:for(;b.have<b.nlen+b.ndist;){for(;Ee=(S=b.lencode[M&(1<<b.lenbits)-1])>>>16&255,ge=65535&S,!((ve=S>>>24)<=B);){if(q===0)break e;q--,M+=R[U++]<<B,B+=8}if(ge<16)M>>>=ve,B-=ve,b.lens[b.have++]=ge;else{if(ge===16){for(A=ve+2;B<A;){if(q===0)break e;q--,M+=R[U++]<<B,B+=8}if(M>>>=ve,B-=ve,b.have===0){C.msg="invalid bit length repeat",b.mode=30;break}w=b.lens[b.have-1],Z=3+(3&M),M>>>=2,B-=2}else if(ge===17){for(A=ve+3;B<A;){if(q===0)break e;q--,M+=R[U++]<<B,B+=8}B-=ve,w=0,Z=3+(7&(M>>>=ve)),M>>>=3,B-=3}else{for(A=ve+7;B<A;){if(q===0)break e;q--,M+=R[U++]<<B,B+=8}B-=ve,w=0,Z=11+(127&(M>>>=ve)),M>>>=7,B-=7}if(b.have+Z>b.nlen+b.ndist){C.msg="invalid bit length repeat",b.mode=30;break}for(;Z--;)b.lens[b.have++]=w}}if(b.mode===30)break;if(b.lens[256]===0){C.msg="invalid code -- missing end-of-block",b.mode=30;break}if(b.lenbits=9,z={bits:b.lenbits},G=u(d,b.lens,0,b.nlen,b.lencode,0,b.work,z),b.lenbits=z.bits,G){C.msg="invalid literal/lengths set",b.mode=30;break}if(b.distbits=6,b.distcode=b.distdyn,z={bits:b.distbits},G=u(g,b.lens,b.nlen,b.ndist,b.distcode,0,b.work,z),b.distbits=z.bits,G){C.msg="invalid distances set",b.mode=30;break}if(b.mode=20,L===6)break e;case 20:b.mode=21;case 21:if(6<=q&&258<=Q){C.next_out=Y,C.avail_out=Q,C.next_in=U,C.avail_in=q,b.hold=M,b.bits=B,c(C,oe),Y=C.next_out,V=C.output,Q=C.avail_out,U=C.next_in,R=C.input,q=C.avail_in,M=b.hold,B=b.bits,b.mode===12&&(b.back=-1);break}for(b.back=0;Ee=(S=b.lencode[M&(1<<b.lenbits)-1])>>>16&255,ge=65535&S,!((ve=S>>>24)<=B);){if(q===0)break e;q--,M+=R[U++]<<B,B+=8}if(Ee&&(240&Ee)==0){for(Ae=ve,Te=Ee,Ie=ge;Ee=(S=b.lencode[Ie+((M&(1<<Ae+Te)-1)>>Ae)])>>>16&255,ge=65535&S,!(Ae+(ve=S>>>24)<=B);){if(q===0)break e;q--,M+=R[U++]<<B,B+=8}M>>>=Ae,B-=Ae,b.back+=Ae}if(M>>>=ve,B-=ve,b.back+=ve,b.length=ge,Ee===0){b.mode=26;break}if(32&Ee){b.back=-1,b.mode=12;break}if(64&Ee){C.msg="invalid literal/length code",b.mode=30;break}b.extra=15&Ee,b.mode=22;case 22:if(b.extra){for(A=b.extra;B<A;){if(q===0)break e;q--,M+=R[U++]<<B,B+=8}b.length+=M&(1<<b.extra)-1,M>>>=b.extra,B-=b.extra,b.back+=b.extra}b.was=b.length,b.mode=23;case 23:for(;Ee=(S=b.distcode[M&(1<<b.distbits)-1])>>>16&255,ge=65535&S,!((ve=S>>>24)<=B);){if(q===0)break e;q--,M+=R[U++]<<B,B+=8}if((240&Ee)==0){for(Ae=ve,Te=Ee,Ie=ge;Ee=(S=b.distcode[Ie+((M&(1<<Ae+Te)-1)>>Ae)])>>>16&255,ge=65535&S,!(Ae+(ve=S>>>24)<=B);){if(q===0)break e;q--,M+=R[U++]<<B,B+=8}M>>>=Ae,B-=Ae,b.back+=Ae}if(M>>>=ve,B-=ve,b.back+=ve,64&Ee){C.msg="invalid distance code",b.mode=30;break}b.offset=ge,b.extra=15&Ee,b.mode=24;case 24:if(b.extra){for(A=b.extra;B<A;){if(q===0)break e;q--,M+=R[U++]<<B,B+=8}b.offset+=M&(1<<b.extra)-1,M>>>=b.extra,B-=b.extra,b.back+=b.extra}if(b.offset>b.dmax){C.msg="invalid distance too far back",b.mode=30;break}b.mode=25;case 25:if(Q===0)break e;if(Z=oe-Q,b.offset>Z){if((Z=b.offset-Z)>b.whave&&b.sane){C.msg="invalid distance too far back",b.mode=30;break}fe=Z>b.wnext?(Z-=b.wnext,b.wsize-Z):b.wnext-Z,Z>b.length&&(Z=b.length),_e=b.window}else _e=V,fe=Y-b.offset,Z=b.length;for(Q<Z&&(Z=Q),Q-=Z,b.length-=Z;V[Y++]=_e[fe++],--Z;);b.length===0&&(b.mode=21);break;case 26:if(Q===0)break e;V[Y++]=b.length,Q--,b.mode=21;break;case 27:if(b.wrap){for(;B<32;){if(q===0)break e;q--,M|=R[U++]<<B,B+=8}if(oe-=Q,C.total_out+=oe,b.total+=oe,oe&&(C.adler=b.check=b.flags?o(b.check,V,oe,Y-oe):s(b.check,V,oe,Y-oe)),oe=Q,(b.flags?M:h(M))!==b.check){C.msg="incorrect data check",b.mode=30;break}B=M=0}b.mode=28;case 28:if(b.wrap&&b.flags){for(;B<32;){if(q===0)break e;q--,M+=R[U++]<<B,B+=8}if(M!==(4294967295&b.total)){C.msg="incorrect length check",b.mode=30;break}B=M=0}b.mode=29;case 29:G=1;break e;case 30:G=-3;break e;case 31:return-4;case 32:default:return l}return C.next_out=Y,C.avail_out=Q,C.next_in=U,C.avail_in=q,b.hold=M,b.bits=B,(b.wsize||oe!==C.avail_out&&b.mode<30&&(b.mode<27||L!==4))&&N(C,C.output,C.next_out,oe-C.avail_out)?(b.mode=31,-4):(re-=C.avail_in,oe-=C.avail_out,C.total_in+=re,C.total_out+=oe,b.total+=oe,b.wrap&&oe&&(C.adler=b.check=b.flags?o(b.check,V,oe,C.next_out-oe):s(b.check,V,oe,C.next_out-oe)),C.data_type=b.bits+(b.last?64:0)+(b.mode===12?128:0)+(b.mode===20||b.mode===15?256:0),(re==0&&oe===0||L===4)&&G===p&&(G=-5),G)},i.inflateEnd=function(C){if(!C||!C.state)return l;var L=C.state;return L.window&&(L.window=null),C.state=null,p},i.inflateGetHeader=function(C,L){var b;return C&&C.state?(2&(b=C.state).wrap)==0?l:((b.head=L).done=!1,p):l},i.inflateSetDictionary=function(C,L){var b,R=L.length;return C&&C.state?(b=C.state).wrap!==0&&b.mode!==11?l:b.mode===11&&s(1,L,R,0)!==b.check?-3:N(C,L,R,R)?(b.mode=31,-4):(b.havedict=1,p):l},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var a=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(d,g,p,l,v,f,m,h){var y,_,E,k,T,I,P,O,D,N=h.bits,C=0,L=0,b=0,R=0,V=0,U=0,Y=0,q=0,Q=0,M=0,B=null,re=0,oe=new a.Buf16(16),Z=new a.Buf16(16),fe=null,_e=0;for(C=0;C<=15;C++)oe[C]=0;for(L=0;L<l;L++)oe[g[p+L]]++;for(V=N,R=15;1<=R&&oe[R]===0;R--);if(R<V&&(V=R),R===0)return v[f++]=20971520,v[f++]=20971520,h.bits=1,0;for(b=1;b<R&&oe[b]===0;b++);for(V<b&&(V=b),C=q=1;C<=15;C++)if(q<<=1,(q-=oe[C])<0)return-1;if(0<q&&(d===0||R!==1))return-1;for(Z[1]=0,C=1;C<15;C++)Z[C+1]=Z[C]+oe[C];for(L=0;L<l;L++)g[p+L]!==0&&(m[Z[g[p+L]]++]=L);if(I=d===0?(B=fe=m,19):d===1?(B=s,re-=257,fe=o,_e-=257,256):(B=c,fe=u,-1),C=b,T=f,Y=L=M=0,E=-1,k=(Q=1<<(U=V))-1,d===1&&852<Q||d===2&&592<Q)return 1;for(;;){for(P=C-Y,D=m[L]<I?(O=0,m[L]):m[L]>I?(O=fe[_e+m[L]],B[re+m[L]]):(O=96,0),y=1<<C-Y,b=_=1<<U;v[T+(M>>Y)+(_-=y)]=P<<24|O<<16|D|0,_!==0;);for(y=1<<C-1;M&y;)y>>=1;if(y!==0?(M&=y-1,M+=y):M=0,L++,--oe[C]==0){if(C===R)break;C=g[p+m[L]]}if(V<C&&(M&k)!==E){for(Y===0&&(Y=V),T+=b,q=1<<(U=C-Y);U+Y<R&&!((q-=oe[U+Y])<=0);)U++,q<<=1;if(Q+=1<<U,d===1&&852<Q||d===2&&592<Q)return 1;v[E=M&k]=V<<24|U<<16|T-f|0}}return M!==0&&(v[T+M]=C-Y<<24|64<<16|0),h.bits=V,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var a=n("../utils/common"),s=0,o=1;function c(S){for(var F=S.length;0<=--F;)S[F]=0}var u=0,d=29,g=256,p=g+1+d,l=30,v=19,f=2*p+1,m=15,h=16,y=7,_=256,E=16,k=17,T=18,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],N=new Array(2*(p+2));c(N);var C=new Array(2*l);c(C);var L=new Array(512);c(L);var b=new Array(256);c(b);var R=new Array(d);c(R);var V,U,Y,q=new Array(l);function Q(S,F,X,ee,W){this.static_tree=S,this.extra_bits=F,this.extra_base=X,this.elems=ee,this.max_length=W,this.has_stree=S&&S.length}function M(S,F){this.dyn_tree=S,this.max_code=0,this.stat_desc=F}function B(S){return S<256?L[S]:L[256+(S>>>7)]}function re(S,F){S.pending_buf[S.pending++]=255&F,S.pending_buf[S.pending++]=F>>>8&255}function oe(S,F,X){S.bi_valid>h-X?(S.bi_buf|=F<<S.bi_valid&65535,re(S,S.bi_buf),S.bi_buf=F>>h-S.bi_valid,S.bi_valid+=X-h):(S.bi_buf|=F<<S.bi_valid&65535,S.bi_valid+=X)}function Z(S,F,X){oe(S,X[2*F],X[2*F+1])}function fe(S,F){for(var X=0;X|=1&S,S>>>=1,X<<=1,0<--F;);return X>>>1}function _e(S,F,X){var ee,W,ie=new Array(m+1),le=0;for(ee=1;ee<=m;ee++)ie[ee]=le=le+X[ee-1]<<1;for(W=0;W<=F;W++){var ae=S[2*W+1];ae!==0&&(S[2*W]=fe(ie[ae]++,ae))}}function ve(S){var F;for(F=0;F<p;F++)S.dyn_ltree[2*F]=0;for(F=0;F<l;F++)S.dyn_dtree[2*F]=0;for(F=0;F<v;F++)S.bl_tree[2*F]=0;S.dyn_ltree[2*_]=1,S.opt_len=S.static_len=0,S.last_lit=S.matches=0}function Ee(S){8<S.bi_valid?re(S,S.bi_buf):0<S.bi_valid&&(S.pending_buf[S.pending++]=S.bi_buf),S.bi_buf=0,S.bi_valid=0}function ge(S,F,X,ee){var W=2*F,ie=2*X;return S[W]<S[ie]||S[W]===S[ie]&&ee[F]<=ee[X]}function Ae(S,F,X){for(var ee=S.heap[X],W=X<<1;W<=S.heap_len&&(W<S.heap_len&&ge(F,S.heap[W+1],S.heap[W],S.depth)&&W++,!ge(F,ee,S.heap[W],S.depth));)S.heap[X]=S.heap[W],X=W,W<<=1;S.heap[X]=ee}function Te(S,F,X){var ee,W,ie,le,ae=0;if(S.last_lit!==0)for(;ee=S.pending_buf[S.d_buf+2*ae]<<8|S.pending_buf[S.d_buf+2*ae+1],W=S.pending_buf[S.l_buf+ae],ae++,ee===0?Z(S,W,F):(Z(S,(ie=b[W])+g+1,F),(le=I[ie])!==0&&oe(S,W-=R[ie],le),Z(S,ie=B(--ee),X),(le=P[ie])!==0&&oe(S,ee-=q[ie],le)),ae<S.last_lit;);Z(S,_,F)}function Ie(S,F){var X,ee,W,ie=F.dyn_tree,le=F.stat_desc.static_tree,ae=F.stat_desc.has_stree,pe=F.stat_desc.elems,Ue=-1;for(S.heap_len=0,S.heap_max=f,X=0;X<pe;X++)ie[2*X]!==0?(S.heap[++S.heap_len]=Ue=X,S.depth[X]=0):ie[2*X+1]=0;for(;S.heap_len<2;)ie[2*(W=S.heap[++S.heap_len]=Ue<2?++Ue:0)]=1,S.depth[W]=0,S.opt_len--,ae&&(S.static_len-=le[2*W+1]);for(F.max_code=Ue,X=S.heap_len>>1;1<=X;X--)Ae(S,ie,X);for(W=pe;X=S.heap[1],S.heap[1]=S.heap[S.heap_len--],Ae(S,ie,1),ee=S.heap[1],S.heap[--S.heap_max]=X,S.heap[--S.heap_max]=ee,ie[2*W]=ie[2*X]+ie[2*ee],S.depth[W]=(S.depth[X]>=S.depth[ee]?S.depth[X]:S.depth[ee])+1,ie[2*X+1]=ie[2*ee+1]=W,S.heap[1]=W++,Ae(S,ie,1),2<=S.heap_len;);S.heap[--S.heap_max]=S.heap[1],(function(Re,nt){var sn,ut,We,Pe,Ye,rt,qe=nt.dyn_tree,bt=nt.max_code,Je=nt.stat_desc.static_tree,_n=nt.stat_desc.has_stree,xn=nt.stat_desc.extra_bits,St=nt.stat_desc.extra_base,kn=nt.stat_desc.max_length,En=0;for(Pe=0;Pe<=m;Pe++)Re.bl_count[Pe]=0;for(qe[2*Re.heap[Re.heap_max]+1]=0,sn=Re.heap_max+1;sn<f;sn++)kn<(Pe=qe[2*qe[2*(ut=Re.heap[sn])+1]+1]+1)&&(Pe=kn,En++),qe[2*ut+1]=Pe,bt<ut||(Re.bl_count[Pe]++,Ye=0,St<=ut&&(Ye=xn[ut-St]),rt=qe[2*ut],Re.opt_len+=rt*(Pe+Ye),_n&&(Re.static_len+=rt*(Je[2*ut+1]+Ye)));if(En!==0){do{for(Pe=kn-1;Re.bl_count[Pe]===0;)Pe--;Re.bl_count[Pe]--,Re.bl_count[Pe+1]+=2,Re.bl_count[kn]--,En-=2}while(0<En);for(Pe=kn;Pe!==0;Pe--)for(ut=Re.bl_count[Pe];ut!==0;)bt<(We=Re.heap[--sn])||(qe[2*We+1]!==Pe&&(Re.opt_len+=(Pe-qe[2*We+1])*qe[2*We],qe[2*We+1]=Pe),ut--)}})(S,F),_e(ie,Ue,S.bl_count)}function w(S,F,X){var ee,W,ie=-1,le=F[1],ae=0,pe=7,Ue=4;for(le===0&&(pe=138,Ue=3),F[2*(X+1)+1]=65535,ee=0;ee<=X;ee++)W=le,le=F[2*(ee+1)+1],++ae<pe&&W===le||(ae<Ue?S.bl_tree[2*W]+=ae:W!==0?(W!==ie&&S.bl_tree[2*W]++,S.bl_tree[2*E]++):ae<=10?S.bl_tree[2*k]++:S.bl_tree[2*T]++,ie=W,Ue=(ae=0)===le?(pe=138,3):W===le?(pe=6,3):(pe=7,4))}function G(S,F,X){var ee,W,ie=-1,le=F[1],ae=0,pe=7,Ue=4;for(le===0&&(pe=138,Ue=3),ee=0;ee<=X;ee++)if(W=le,le=F[2*(ee+1)+1],!(++ae<pe&&W===le)){if(ae<Ue)for(;Z(S,W,S.bl_tree),--ae!=0;);else W!==0?(W!==ie&&(Z(S,W,S.bl_tree),ae--),Z(S,E,S.bl_tree),oe(S,ae-3,2)):ae<=10?(Z(S,k,S.bl_tree),oe(S,ae-3,3)):(Z(S,T,S.bl_tree),oe(S,ae-11,7));ie=W,Ue=(ae=0)===le?(pe=138,3):W===le?(pe=6,3):(pe=7,4)}}c(q);var z=!1;function A(S,F,X,ee){oe(S,(u<<1)+(ee?1:0),3),(function(W,ie,le,ae){Ee(W),re(W,le),re(W,~le),a.arraySet(W.pending_buf,W.window,ie,le,W.pending),W.pending+=le})(S,F,X)}i._tr_init=function(S){z||((function(){var F,X,ee,W,ie,le=new Array(m+1);for(W=ee=0;W<d-1;W++)for(R[W]=ee,F=0;F<1<<I[W];F++)b[ee++]=W;for(b[ee-1]=W,W=ie=0;W<16;W++)for(q[W]=ie,F=0;F<1<<P[W];F++)L[ie++]=W;for(ie>>=7;W<l;W++)for(q[W]=ie<<7,F=0;F<1<<P[W]-7;F++)L[256+ie++]=W;for(X=0;X<=m;X++)le[X]=0;for(F=0;F<=143;)N[2*F+1]=8,F++,le[8]++;for(;F<=255;)N[2*F+1]=9,F++,le[9]++;for(;F<=279;)N[2*F+1]=7,F++,le[7]++;for(;F<=287;)N[2*F+1]=8,F++,le[8]++;for(_e(N,p+1,le),F=0;F<l;F++)C[2*F+1]=5,C[2*F]=fe(F,5);V=new Q(N,I,g+1,p,m),U=new Q(C,P,0,l,m),Y=new Q(new Array(0),O,0,v,y)})(),z=!0),S.l_desc=new M(S.dyn_ltree,V),S.d_desc=new M(S.dyn_dtree,U),S.bl_desc=new M(S.bl_tree,Y),S.bi_buf=0,S.bi_valid=0,ve(S)},i._tr_stored_block=A,i._tr_flush_block=function(S,F,X,ee){var W,ie,le=0;0<S.level?(S.strm.data_type===2&&(S.strm.data_type=(function(ae){var pe,Ue=4093624447;for(pe=0;pe<=31;pe++,Ue>>>=1)if(1&Ue&&ae.dyn_ltree[2*pe]!==0)return s;if(ae.dyn_ltree[18]!==0||ae.dyn_ltree[20]!==0||ae.dyn_ltree[26]!==0)return o;for(pe=32;pe<g;pe++)if(ae.dyn_ltree[2*pe]!==0)return o;return s})(S)),Ie(S,S.l_desc),Ie(S,S.d_desc),le=(function(ae){var pe;for(w(ae,ae.dyn_ltree,ae.l_desc.max_code),w(ae,ae.dyn_dtree,ae.d_desc.max_code),Ie(ae,ae.bl_desc),pe=v-1;3<=pe&&ae.bl_tree[2*D[pe]+1]===0;pe--);return ae.opt_len+=3*(pe+1)+5+5+4,pe})(S),W=S.opt_len+3+7>>>3,(ie=S.static_len+3+7>>>3)<=W&&(W=ie)):W=ie=X+5,X+4<=W&&F!==-1?A(S,F,X,ee):S.strategy===4||ie===W?(oe(S,2+(ee?1:0),3),Te(S,N,C)):(oe(S,4+(ee?1:0),3),(function(ae,pe,Ue,Re){var nt;for(oe(ae,pe-257,5),oe(ae,Ue-1,5),oe(ae,Re-4,4),nt=0;nt<Re;nt++)oe(ae,ae.bl_tree[2*D[nt]+1],3);G(ae,ae.dyn_ltree,pe-1),G(ae,ae.dyn_dtree,Ue-1)})(S,S.l_desc.max_code+1,S.d_desc.max_code+1,le+1),Te(S,S.dyn_ltree,S.dyn_dtree)),ve(S),ee&&Ee(S)},i._tr_tally=function(S,F,X){return S.pending_buf[S.d_buf+2*S.last_lit]=F>>>8&255,S.pending_buf[S.d_buf+2*S.last_lit+1]=255&F,S.pending_buf[S.l_buf+S.last_lit]=255&X,S.last_lit++,F===0?S.dyn_ltree[2*X]++:(S.matches++,F--,S.dyn_ltree[2*(b[X]+g+1)]++,S.dyn_dtree[2*B(F)]++),S.last_lit===S.lit_bufsize-1},i._tr_align=function(S){oe(S,2,3),Z(S,_,N),(function(F){F.bi_valid===16?(re(F,F.bi_buf),F.bi_buf=0,F.bi_valid=0):8<=F.bi_valid&&(F.pending_buf[F.pending++]=255&F.bi_buf,F.bi_buf>>=8,F.bi_valid-=8)})(S)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(a){(function(s,o){if(!s.setImmediate){var c,u,d,g,p=1,l={},v=!1,f=s.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(s);m=m&&m.setTimeout?m:s,c={}.toString.call(s.process)==="[object process]"?function(E){process.nextTick(function(){y(E)})}:(function(){if(s.postMessage&&!s.importScripts){var E=!0,k=s.onmessage;return s.onmessage=function(){E=!1},s.postMessage("","*"),s.onmessage=k,E}})()?(g="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",_,!1):s.attachEvent("onmessage",_),function(E){s.postMessage(g+E,"*")}):s.MessageChannel?((d=new MessageChannel).port1.onmessage=function(E){y(E.data)},function(E){d.port2.postMessage(E)}):f&&"onreadystatechange"in f.createElement("script")?(u=f.documentElement,function(E){var k=f.createElement("script");k.onreadystatechange=function(){y(E),k.onreadystatechange=null,u.removeChild(k),k=null},u.appendChild(k)}):function(E){setTimeout(y,0,E)},m.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var k=new Array(arguments.length-1),T=0;T<k.length;T++)k[T]=arguments[T+1];var I={callback:E,args:k};return l[p]=I,c(p),p++},m.clearImmediate=h}function h(E){delete l[E]}function y(E){if(v)setTimeout(y,0,E);else{var k=l[E];if(k){v=!0;try{(function(T){var I=T.callback,P=T.args;switch(P.length){case 0:I();break;case 1:I(P[0]);break;case 2:I(P[0],P[1]);break;case 3:I(P[0],P[1],P[2]);break;default:I.apply(o,P)}})(k)}finally{h(E),v=!1}}}}function _(E){E.source===s&&typeof E.data=="string"&&E.data.indexOf(g)===0&&y(+E.data.slice(g.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof Ei<"u"?Ei:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Ua)),Ua.exports}var fh=dh();const Vc=zr(fh),Jr=e=>Uint8Array.from(e,t=>t.charCodeAt(0)),hh=(e,t,n,r=0,i=0)=>{const s=new ArrayBuffer(22+e.length),o=new DataView(s);let c=0;return o.setUint16(c,0,!0),c+=2,o.setUint16(c,2,!0),c+=2,o.setUint16(c,1,!0),c+=2,o.setUint8(c++,t===256?0:t),o.setUint8(c++,n===256?0:n),o.setUint8(c++,0),o.setUint8(c++,0),o.setUint16(c,r,!0),c+=2,o.setUint16(c,i,!0),c+=2,o.setUint32(c,e.length,!0),c+=4,o.setUint32(c,22,!0),new Uint8Array(s,22).set(e),new Uint8Array(s)},vh=(e,t)=>{const n=4+t.reduce((a,s)=>a+s.length,0),r=new Uint8Array(8+n);r.set(Jr("LIST"),0),new DataView(r.buffer).setUint32(4,n,!0),r.set(Jr(e),8);let i=12;for(const a of t)r.set(a,i),i+=a.length;return r},ph=e=>{const t=e.length,n=Math.max(1,Math.round(60/Vt(Fn))),r=new ArrayBuffer(36),i=new DataView(r);i.setUint32(0,36,!0),i.setUint32(4,t,!0),i.setUint32(8,t,!0),i.setUint32(24,n,!0),i.setUint32(32,1,!0);const a=new Uint32Array(t).fill(n),s=Uint32Array.from({length:t},(v,f)=>f),o=(v,f)=>{const m=f instanceof Uint8Array?f:new Uint8Array(f),h=m.length&1?1:0,y=new Uint8Array(8+m.length+h);return y.set(Jr(v),0),new DataView(y.buffer).setUint32(4,m.length,!0),y.set(m,8),y},c=e.map(v=>o("icon",v)),u=vh("fram",c),d=[o("anih",r),o("rate",a.buffer),o("seq ",s.buffer),u],g=d.reduce((v,f)=>v+f.length,4),p=new Uint8Array(8+g);p.set(Jr("RIFF"),0),new DataView(p.buffer).setUint32(4,g,!0),p.set(Jr("ACON"),8);let l=12;for(const v of d)p.set(v,l),l+=v.length;return p},gh=async e=>{const{width:t,height:n,frames:r,ways:i}=e,a=new Vc;for(let s=0;s<i;s++){const o=[];for(let u=0;u<r;u++){const d=e.toI(u,s),g=e.canvasByI.get(d);if(!g)continue;const p=document.createElement("canvas");p.width=t,p.height=n;const l=p.getContext("2d",{willReadFrequently:!0});if(!l)continue;l.imageSmoothingEnabled=!1,l.drawImage(g,0,0,g.width,g.height,0,0,t,n);const f=p.toDataURL("image/png").split(",")[1],m=Uint8Array.from(atob(f),h=>h.charCodeAt(0));o.push(hh(m,t,n))}const c=ph(o);a.file(`cursor_${s+1}.ani`,c)}return a.generateAsync({type:"blob"})},mh=e=>{const t=new DataView(e),n=new TextDecoder;let r=12;const i=[];for(;r+8<=e.byteLength;){const a=n.decode(new Uint8Array(e,r,4)),s=t.getUint32(r+4,!0),o=r+8;if(a==="LIST"&&n.decode(new Uint8Array(e,o,4))==="fram"){let u=o+4;const d=r+8+s;for(;u+8<=d;){const g=n.decode(new Uint8Array(e,u,4)),p=t.getUint32(u+4,!0),l=u+8;if(g==="icon"){const v=new Uint8Array(e,l,p);i.push(new Uint8Array(v))}u+=8+p+p%2}}r+=8+s+s%2}return i},bh=async e=>{const t=mh(e),n=[];for(const o of t){const c=new Blob([o],{type:"image/x-icon"}),u=URL.createObjectURL(c),d=new Image;d.src=u,await d.decode(),n.push(d)}if(n.length===0)throw new Error("No frames in ANI file");const r=n[0].width,i=n[0].height,a=document.createElement("canvas");a.width=r*n.length,a.height=i;const s=a.getContext("2d");if(!s)throw new Error("getContext 2d error");return s.imageSmoothingEnabled=!1,n.forEach((o,c)=>{s.drawImage(o,c*r,0)}),a.toDataURL("image/png")},yh=(e,t)=>Math.floor(Math.random()*Math.abs(t-e+1))+e;var Ln=(e,t=[])=>({parts:(...n)=>{if(wh(t))return Ln(e,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>Ln(e,[...t,...n]),omit:(...n)=>Ln(e,t.filter(r=>!n.includes(r))),rename:n=>Ln(n,t),keys:()=>t,build:()=>[...new Set(t)].reduce((n,r)=>Object.assign(n,{[r]:{selector:[`&[data-scope="${ur(e)}"][data-part="${ur(r)}"]`,`& [data-scope="${ur(e)}"][data-part="${ur(r)}"]`].join(", "),attrs:{"data-scope":ur(e),"data-part":ur(r)}}}),{})}),ur=e=>e.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),wh=e=>e.length===0,_h=Object.defineProperty,xh=(e,t,n)=>t in e?_h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wa=(e,t,n)=>xh(e,typeof t!="symbol"?t+"":t,n),Yo=e=>Math.max(0,Math.min(1,e)),Ha=(...e)=>t=>e.reduce((n,r)=>r(n),t),br=()=>{},sa=e=>typeof e=="object"&&e!==null,Se=e=>e?"":void 0,Uc=e=>e?"true":void 0,kh=1,Eh=9,Ch=11,tt=e=>sa(e)&&e.nodeType===kh&&typeof e.nodeName=="string",oa=e=>sa(e)&&e.nodeType===Eh,Sh=e=>sa(e)&&e===e.window,Wc=e=>tt(e)?e.localName||"":"#document";function Th(e){return["html","body","#document"].includes(Wc(e))}var Ah=e=>sa(e)&&e.nodeType!==void 0,Rr=e=>Ah(e)&&e.nodeType===Ch&&"host"in e,Ih=e=>tt(e)&&e.localName==="input",Oh=e=>tt(e)?e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0:!1;function yr(e){if(!e)return!1;const t=e.getRootNode();return Cr(t)===e}var Rh=/(textarea|select)/;function Ph(e){if(e==null||!tt(e))return!1;try{return Ih(e)&&e.selectionStart!=null||Rh.test(e.localName)||e.isContentEditable||e.getAttribute("contenteditable")==="true"||e.getAttribute("contenteditable")===""}catch{return!1}}function si(e,t){var r;if(!e||!t||!tt(e)||!tt(t))return!1;const n=(r=t.getRootNode)==null?void 0:r.call(t);if(e===t||e.contains(t))return!0;if(n&&Rr(n)){let i=t;for(;i;){if(e===i)return!0;i=i.parentNode||i.host}}return!1}function Bt(e){return oa(e)?e:Sh(e)?e.document:(e==null?void 0:e.ownerDocument)??document}function Lh(e){return Bt(e).documentElement}function ct(e){var t;return Rr(e)?ct(e.host):oa(e)?e.defaultView??window:tt(e)?((t=e.ownerDocument)==null?void 0:t.defaultView)??window:window}function Cr(e){let t=e.activeElement;for(;t!=null&&t.shadowRoot;){const n=t.shadowRoot.activeElement;if(!n||n===t)break;t=n}return t}function Dh(e){if(Wc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Rr(e)&&e.host||Lh(e);return Rr(t)?t.host:t}function Zs(e){let t;try{if(t=e.getRootNode({composed:!0}),oa(t)||Rr(t))return t}catch{}return e.ownerDocument??document}var $a=new WeakMap;function Hc(e){return $a.has(e)||$a.set(e,ct(e).getComputedStyle(e)),$a.get(e)}var Ks=new Set(["menu","listbox","dialog","grid","tree","region"]),Nh=e=>Ks.has(e),$c=e=>{var t;return((t=e.getAttribute("aria-controls"))==null?void 0:t.split(" "))||[]};function jc(e,t){const n=new Set,r=Zs(e),i=a=>{const s=a.querySelectorAll("[aria-controls]");for(const o of s){if(o.getAttribute("aria-expanded")!=="true")continue;const c=$c(o);for(const u of c){if(!u||n.has(u))continue;n.add(u);const d=r.getElementById(u);if(d){const g=d.getAttribute("role"),p=d.getAttribute("aria-modal")==="true";if(g&&Nh(g)&&!p&&(d===t||d.contains(t)||i(d)))return!0}}}return!1};return i(e)}function qc(e,t){const n=Zs(e),r=new Set,i=a=>{const s=a.querySelectorAll("[aria-controls]");for(const o of s){if(o.getAttribute("aria-expanded")!=="true")continue;const c=$c(o);for(const u of c){if(!u||r.has(u))continue;r.add(u);const d=n.getElementById(u);if(d){const g=d.getAttribute("role"),p=d.getAttribute("aria-modal")==="true";g&&Ks.has(g)&&!p&&(t(d),i(d))}}}};i(e)}function Fh(e){const t=new Set;return qc(e,n=>{e.contains(n)||t.add(n)}),Array.from(t)}function Bh(e){const t=e.getAttribute("role");return!!(t&&Ks.has(t))}function zh(e){return e.hasAttribute("aria-controls")&&e.getAttribute("aria-expanded")==="true"}function Mh(e){var t;return zh(e)?!0:!!((t=e.querySelector)!=null&&t.call(e,'[aria-controls][aria-expanded="true"]'))}function Vh(e){if(!e.id)return!1;const t=Zs(e),n=CSS.escape(e.id),r=`[aria-controls~="${n}"][aria-expanded="true"], [aria-controls="${n}"][aria-expanded="true"]`;return!!(t.querySelector(r)&&Bh(e))}var la=()=>typeof document<"u";function Uh(){const e=navigator.userAgentData;return(e==null?void 0:e.platform)??navigator.platform}function Wh(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(({brand:t,version:n})=>`${t}/${n}`).join(" "):navigator.userAgent}var Xs=e=>la()&&e.test(Uh()),Hh=e=>la()&&e.test(Wh()),$h=e=>la()&&e.test(navigator.vendor),Jo=()=>la()&&!!navigator.maxTouchPoints,jh=()=>Xs(/^iPhone/i),qh=()=>Xs(/^iPad/i)||ua()&&navigator.maxTouchPoints>1,ca=()=>jh()||qh(),Gh=()=>ua()||ca(),ua=()=>Xs(/^Mac/i),Ys=()=>Gh()&&$h(/apple/i),Zh=()=>Hh(/Android/i);function Kh(e){var t,n,r;return((t=e.composedPath)==null?void 0:t.call(e))??((r=(n=e.nativeEvent)==null?void 0:n.composedPath)==null?void 0:r.call(n))}function Lt(e){const t=Kh(e);return(t==null?void 0:t[0])??e.target}function Xh(e){return e.pointerType===""&&e.isTrusted?!0:Zh()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}var Vi=e=>e.button===0,Yh=e=>e.button===2||ua()&&e.ctrlKey&&e.button===0,Jh=e=>e.ctrlKey||e.altKey||e.metaKey,Qh=e=>"touches"in e&&e.touches.length>0,ev={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},Qo={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function tv(e,t={}){const{dir:n="ltr",orientation:r="horizontal"}=t;let i=e.key;return i=ev[i]??i,n==="rtl"&&r==="horizontal"&&i in Qo&&(i=Qo[i]),i}var nv=new Set(["PageUp","PageDown"]),rv=new Set(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"]);function iv(e){return e.ctrlKey||e.metaKey?.1:nv.has(e.key)||e.shiftKey&&rv.has(e.key)?10:1}function Ui(e,t="client"){const n=Qh(e)?e.touches[0]||e.changedTouches[0]:e;return{x:n[`${t}X`],y:n[`${t}Y`]}}var Xe=(e,t,n,r)=>{const i=typeof e=="function"?e():e;return i==null||i.addEventListener(t,n,r),()=>{i==null||i.removeEventListener(t,n,r)}};function Gc(e,t){const{type:n="HTMLInputElement",property:r="value"}=t,i=ct(e)[n].prototype;return Object.getOwnPropertyDescriptor(i,r)??{}}function av(e){if(e.localName==="input")return"HTMLInputElement";if(e.localName==="textarea")return"HTMLTextAreaElement";if(e.localName==="select")return"HTMLSelectElement"}function Zc(e,t,n="value"){var i;if(!e)return;const r=av(e);r&&((i=Gc(e,{type:r,property:n}).set)==null||i.call(e,t)),e.setAttribute(n,t)}function Kc(e,t){var r;if(!e)return;(r=Gc(e,{type:"HTMLInputElement",property:"checked"}).set)==null||r.call(e,t),t?e.setAttribute("checked",""):e.removeAttribute("checked")}function sv(e,t){const{value:n,bubbles:r=!0}=t;if(!e)return;const i=ct(e);e instanceof i.HTMLInputElement&&(Zc(e,`${n}`),e.dispatchEvent(new i.Event("input",{bubbles:r})))}function Xc(e,t){const{checked:n,bubbles:r=!0}=t;if(!e)return;const i=ct(e);e instanceof i.HTMLInputElement&&(Kc(e,n),e.dispatchEvent(new i.Event("click",{bubbles:r})))}function ov(e){return lv(e)?e.form:e.closest("form")}function lv(e){return e.matches("textarea, input, select, button")}function cv(e,t){if(!e)return;const n=ov(e),r=i=>{i.defaultPrevented||t()};return n==null||n.addEventListener("reset",r,{passive:!0}),()=>n==null?void 0:n.removeEventListener("reset",r)}function uv(e,t){const n=e==null?void 0:e.closest("fieldset");if(!n)return;t(n.disabled);const r=ct(n),i=new r.MutationObserver(()=>t(n.disabled));return i.observe(n,{attributes:!0,attributeFilter:["disabled"]}),()=>i.disconnect()}function Js(e,t){if(!e)return;const{onFieldsetDisabledChange:n,onFormReset:r}=t,i=[cv(e,r),uv(e,n)];return()=>i.forEach(a=>a==null?void 0:a())}var Yc=e=>tt(e)&&e.tagName==="IFRAME",dv=/^(audio|video|details)$/;function Jc(e){const t=e.getAttribute("tabindex");return t?parseInt(t,10):NaN}var fv=e=>!Number.isNaN(Jc(e)),hv=e=>Jc(e)<0;function vv(e,t){if(!t)return null;if(t===!0)return e.shadowRoot||null;const n=t(e);return(n===!0?e.shadowRoot:n)||null}function Qc(e,t,n){const r=[...e],i=[...e],a=new Set,s=new Map;e.forEach((c,u)=>s.set(c,u));let o=0;for(;o<i.length;){const c=i[o++];if(!c||a.has(c))continue;a.add(c);const u=vv(c,t);if(u){const d=Array.from(u.querySelectorAll(da)).filter(n),g=s.get(c);if(g!==void 0){const p=g+1;r.splice(p,0,...d),d.forEach((l,v)=>{s.set(l,p+v)});for(let l=p+d.length;l<r.length;l++)s.set(r[l],l)}else{const p=r.length;r.push(...d),d.forEach((l,v)=>{s.set(l,p+v)})}i.push(...d)}}return r}var da="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type",eu=(e,t={})=>{if(!e)return[];const{includeContainer:n=!1,getShadowRoot:r}=t,i=Array.from(e.querySelectorAll(da));(n==!0||n=="if-empty"&&i.length===0)&&tt(e)&&gn(e)&&i.unshift(e);const s=[];for(const o of i)if(gn(o)){if(Yc(o)&&o.contentDocument){const c=o.contentDocument.body;s.push(...eu(c,{getShadowRoot:r}));continue}s.push(o)}return r?Qc(s,r,gn):s};function gn(e){return!tt(e)||e.closest("[inert]")?!1:e.matches(da)&&Oh(e)}function pi(e,t={}){if(!e)return[];const{includeContainer:n,getShadowRoot:r}=t,i=Array.from(e.querySelectorAll(da));n&&jn(e)&&i.unshift(e);const a=[];for(const s of i)if(jn(s)){if(Yc(s)&&s.contentDocument){const o=s.contentDocument.body;a.push(...pi(o,{getShadowRoot:r}));continue}a.push(s)}if(r){const s=Qc(a,r,jn);return!s.length&&n?i:s}return!a.length&&n?i:a}function jn(e){return tt(e)&&e.tabIndex>0?!0:gn(e)&&!hv(e)}function pv(e,t={}){const n=pi(e,t),r=n[0]||null,i=n[n.length-1]||null;return[r,i]}function gv(e,t={}){const{current:n,getShadowRoot:r}=t,i=pi(e,{getShadowRoot:r}),a=(e==null?void 0:e.ownerDocument)||document,s=n??Cr(a);if(!s)return null;const o=i.indexOf(s);return i[o+1]||null}function Hr(e){return e.tabIndex<0&&(dv.test(e.localName)||Ph(e))&&!fv(e)?0:e.tabIndex}function el(e){const{root:t,getInitialEl:n,filter:r,enabled:i=!0}=e;if(!i)return;let a=null;if(a||(a=typeof n=="function"?n():n),a||(a=t==null?void 0:t.querySelector("[data-autofocus],[autofocus]")),!a){const s=pi(t);a=r?s.filter(r)[0]:s[0]}return a||t||void 0}var mv=class tu{constructor(){Wa(this,"id",null),Wa(this,"fn_cleanup"),Wa(this,"cleanup",()=>{this.cancel()})}static create(){return new tu}request(t){this.cancel(),this.id=globalThis.requestAnimationFrame(()=>{this.id=null,this.fn_cleanup=t==null?void 0:t()})}cancel(){var t;this.id!==null&&(globalThis.cancelAnimationFrame(this.id),this.id=null),(t=this.fn_cleanup)==null||t.call(this),this.fn_cleanup=void 0}isActive(){return this.id!==null}};function Nt(e){const t=mv.create();return t.request(e),t.cleanup}function bv(e){const t=new Set;function n(r){const i=globalThis.requestAnimationFrame(r);t.add(()=>globalThis.cancelAnimationFrame(i))}return n(()=>n(e)),function(){t.forEach(i=>i())}}function ws(e){const t=Dh(e);return Th(t)?Bt(t).body:tt(t)&&_v(t)?t:ws(t)}var yv=/auto|scroll|overlay|hidden|clip/,wv=new Set(["inline","contents"]);function _v(e){const t=ct(e),{overflow:n,overflowX:r,overflowY:i,display:a}=t.getComputedStyle(e);return yv.test(n+i+r)&&!wv.has(a)}function xv(e,t){const{left:n,top:r,width:i,height:a}=t.getBoundingClientRect(),s={x:e.x-n,y:e.y-r},o={x:Yo(s.x/i),y:Yo(s.y/a)};function c(u={}){const{dir:d="ltr",orientation:g="horizontal",inverted:p}=u,l=typeof p=="object"?p.x:p,v=typeof p=="object"?p.y:p;return g==="horizontal"?d==="rtl"||l?1-o.x:o.x:v?1-o.y:o.y}return{offset:s,percent:o,getPercentValue:c}}var wr="default",_s="",Li=new WeakMap;function kv(e={}){const{target:t,doc:n}=e,r=n??document,i=r.documentElement;return ca()?(wr==="default"&&(_s=i.style.webkitUserSelect,i.style.webkitUserSelect="none"),wr="disabled"):t&&(Li.set(t,t.style.userSelect),t.style.userSelect="none"),()=>Ev({target:t,doc:r})}function Ev(e={}){const{target:t,doc:n}=e,i=(n??document).documentElement;if(ca()){if(wr!=="disabled")return;wr="restoring",setTimeout(()=>{bv(()=>{wr==="restoring"&&(i.style.webkitUserSelect==="none"&&(i.style.webkitUserSelect=_s||""),_s="",wr="default")})},300)}else if(t&&Li.has(t)){const a=Li.get(t);t.style.userSelect==="none"&&(t.style.userSelect=a??""),t.getAttribute("style")===""&&t.removeAttribute("style"),Li.delete(t)}}function Cv(e={}){const{defer:t,target:n,...r}=e,i=t?Nt:s=>s(),a=[];return a.push(i(()=>{const s=typeof n=="function"?n():n;a.push(kv({...r,target:s}))})),()=>{a.forEach(s=>s==null?void 0:s())}}function Sv(e,t){const{onPointerMove:n,onPointerUp:r}=t,i=o=>{const c=Ui(o),u=Math.sqrt(c.x**2+c.y**2),d=o.pointerType==="touch"?10:5;if(!(u<d)){if(o.pointerType==="mouse"&&o.button===0){a(o);return}n({point:c,event:o})}},a=o=>{const c=Ui(o);r({point:c,event:o})},s=[Xe(e,"pointermove",i,!1),Xe(e,"pointerup",a,!1),Xe(e,"pointercancel",a,!1),Xe(e,"contextmenu",a,!1),Cv({doc:e})];return()=>{s.forEach(o=>o())}}function Tv(e){const{pointerNode:t,keyboardNode:n=t,onPress:r,onPressStart:i,onPressEnd:a,isValidKey:s=y=>y.key==="Enter"}=e;if(!t)return br;const o=ct(t);let c=br,u=br,d=br;const g=y=>({point:Ui(y),event:y});function p(y){i==null||i(g(y))}function l(y){a==null||a(g(y))}const f=Xe(t,"pointerdown",y=>{u();const E=Xe(o,"pointerup",T=>{const I=Lt(T);si(t,I)?r==null||r(g(T)):a==null||a(g(T))},{passive:!r,once:!0}),k=Xe(o,"pointercancel",l,{passive:!a,once:!0});u=Ha(E,k),yr(n)&&y.pointerType==="mouse"&&y.preventDefault(),p(y)},{passive:!i}),m=Xe(n,"focus",h);c=Ha(f,m);function h(){const y=T=>{if(!s(T))return;const I=O=>{if(!s(O))return;const D=new o.PointerEvent("pointerup"),N=g(D);r==null||r(N),a==null||a(N)};u(),u=Xe(n,"keyup",I);const P=new o.PointerEvent("pointerdown");p(P)},_=()=>{const T=new o.PointerEvent("pointercancel");l(T)},E=Xe(n,"keydown",y),k=Xe(n,"blur",_);d=Ha(E,k)}return()=>{c(),u(),d()}}function Av(e,t={}){const{triggerElement:n,onFocus:r,onFocusEnter:i,getShadowRoot:a}=t,s=(e==null?void 0:e.ownerDocument)||document,o=s.body;function c(u){if(u.key!=="Tab")return;let d=null;const[g,p]=pv(e,{includeContainer:!0,getShadowRoot:a}),l=gv(o,{current:n,getShadowRoot:a}),v=!g&&!p;u.shiftKey&&yr(l)?(i==null||i(),d=p):u.shiftKey&&(yr(g)||v)?d=n:!u.shiftKey&&yr(n)?(i==null||i(),d=g):!u.shiftKey&&(yr(p)||v)&&(d=l),d&&(u.preventDefault(),typeof r=="function"?r(d):d.focus())}return Xe(s,"keydown",c,!0)}function Iv(e,t){const{defer:n,triggerElement:r,...i}=t,a=n?Nt:o=>o(),s=[];return s.push(a(()=>{const o=typeof e=="function"?e():e,c=typeof r=="function"?r():r;s.push(Av(o,{triggerElement:c,...i}))})),()=>{s.forEach(o=>o==null?void 0:o())}}function nu(e,t){return Array.from((e==null?void 0:e.querySelectorAll(t))??[])}function ru(e,t){const{onEntry:n,measure:r,box:i="border-box"}=t,a=(Array.isArray(e)?e:[e]).filter(tt),s=ct(a[0]),o=u=>{const d=a.map(g=>r(g));n({rects:d,entries:u})};o([]);const c=new s.ResizeObserver(o);return a.forEach(u=>c.observe(u,{box:i})),()=>c.disconnect()}function xs(e,t){if(!e)return br;const n=Object.keys(t).reduce((r,i)=>(r[i]=e.style.getPropertyValue(i),r),{});return Object.assign(e.style,t),()=>{Object.assign(e.style,n),e.style.length===0&&e.removeAttribute("style")}}function Ov(e,t,n){if(!e)return br;const r=e.style.getPropertyValue(t);return e.style.setProperty(t,n),()=>{e.style.setProperty(t,r),e.style.length===0&&e.removeAttribute("style")}}var iu={border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"};function Rv(e,t,n){const{signal:r}=t;return[new Promise((s,o)=>{const c=setTimeout(()=>{o(new Error(`Timeout of ${n}ms exceeded`))},n);r.addEventListener("abort",()=>{clearTimeout(c),o(new Error("Promise aborted"))}),e.then(u=>{r.aborted||(clearTimeout(c),s(u))}).catch(u=>{r.aborted||(clearTimeout(c),o(u))})}),()=>t.abort()]}function Pv(e,t){const{timeout:n,rootNode:r}=t,i=ct(r),a=Bt(r),s=new i.AbortController;return Rv(new Promise(o=>{const c=e();if(c){o(c);return}const u=new i.MutationObserver(()=>{const d=e();d&&d.isConnected&&(u.disconnect(),o(d))});u.observe(a.body,{childList:!0,subtree:!0})}),s,n)}function Lv(e){return e==null?[]:Array.isArray(e)?e:[e]}var Dv=e=>e[0],Nv=e=>e[e.length-1],tl=e=>(e==null?void 0:e.constructor.name)==="Array",Fv=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!gi(e[n],t[n]))return!1;return!0},gi=(e,t)=>{if(Object.is(e,t))return!0;if(e==null&&t!=null||e!=null&&t==null)return!1;if(typeof(e==null?void 0:e.isEqual)=="function"&&typeof(t==null?void 0:t.isEqual)=="function")return e.isEqual(t);if(typeof e=="function"&&typeof t=="function")return e.toString()===t.toString();if(tl(e)&&tl(t))return Fv(Array.from(e),Array.from(t));if(typeof e!="object"||typeof t!="object")return!1;const n=Object.keys(t??Object.create(null)),r=n.length;for(let i=0;i<r;i++)if(!Reflect.has(e,n[i]))return!1;for(let i=0;i<r;i++){const a=n[i];if(!gi(e[a],t[a]))return!1}return!0},Bv=e=>e!=null&&typeof e=="object",Qr=e=>typeof e=="string",qn=e=>typeof e=="function",zv=e=>e==null,Mv=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),Vv=e=>Object.prototype.toString.call(e),au=Function.prototype.toString,Uv=au.call(Object),Wv=e=>{if(!Bv(e)||Vv(e)!="[object Object]"||jv(e))return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const n=Mv(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&au.call(n)==Uv},Hv=e=>typeof e=="object"&&e!==null&&"$$typeof"in e&&"props"in e,$v=e=>typeof e=="object"&&e!==null&&"__v_isVNode"in e,jv=e=>Hv(e)||$v(e),qv=e=>e(),Gv=()=>{},ks=(...e)=>(...t)=>{e.forEach(function(n){n==null||n(...t)})},{floor:Zv,abs:nl,round:su,min:Kv,max:Xv,pow:Yv,sign:Jv}=Math,Es=e=>Number.isNaN(e),fa=e=>Es(e)?0:e,Qv=(e,t,n)=>e===0?n:t[e-1],ep=(e,t,n)=>e===t.length-1?n:t[e+1],tp=(e,t,n)=>{const r=fa(e),i=t==null||r>=t,a=n==null||r<=n;return i&&a},np=(e,t,n)=>su((fa(e)-t)/n)*n+t,mi=(e,t,n)=>Kv(Xv(fa(e),t),n),Qs=(e,t,n)=>(fa(e)-t)/(n-t),ou=(e,t,n,r)=>mi(np(e*(n-t)+t,t,r),t,n),rl=(e,t)=>{let n=e,r=t.toString(),i=r.indexOf("."),a=i>=0?r.length-i:0;if(a>0){let s=Yv(10,a);n=su(n*s)/s}return n},eo=(e,t,n,r)=>{const i=t!=null?Number(t):0,a=Number(n),s=(e-i)%r;let o=nl(s)*2>=r?e+Jv(s)*(r-nl(s)):e-s;if(o=rl(o,r),!Es(i)&&o<i)o=i;else if(!Es(a)&&o>a){const c=Zv((a-i)/r),u=i+c*r;o=c<=0||u<i?a:u}return rl(o,r)},Gr=(e,t,n)=>e[t]===n?e:[...e.slice(0,t),n,...e.slice(t+1)];function lu(e,t){const n=Qv(e,t.values,t.min),r=ep(e,t.values,t.max);let i=t.values.slice();return function(s){let o=eo(s,n,r,t.step);return i=Gr(i,e,s),i[e]=o,i}}function rp(e,t){const n=t.values[e]+t.step;return lu(e,t)(n)}function ip(e,t){const n=t.values[e]-t.step;return lu(e,t)(n)}var cu=(e,t,n,r)=>e.map((i,a)=>({min:a===0?t:e[a-1]+r,max:a===e.length-1?n:e[a+1]-r,value:i})),Cs=(e,t)=>{const[n,r]=e,[i,a]=t;return s=>n===r||i===a?i:i+(a-i)/(r-n)*(s-n)},il=e=>typeof e=="number"?`${e}px`:e;function to(e){if(!Wv(e)||e===void 0)return e;const t=Reflect.ownKeys(e).filter(r=>typeof r=="string"),n={};for(const r of t){const i=e[r];i!==void 0&&(n[r]=to(i))}return n}function ap(e,t){const n={};for(const r of t){const i=e[r];i!==void 0&&(n[r]=i)}return n}function Ss(...e){e.length===1?e[0]:e[1],e.length===2&&e[0]}function sp(e,t){if(e==null)throw new Error(t())}var op=(...e)=>e.map(t=>{var n;return(n=t==null?void 0:t.trim)==null?void 0:n.call(t)}).filter(Boolean).join(" "),lp=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,al=e=>{const t={};let n;for(;n=lp.exec(e);)t[n[1]]=n[2];return t},cp=(e,t)=>{if(Qr(e)){if(Qr(t))return`${e};${t}`;e=al(e)}else Qr(t)&&(t=al(t));return Object.assign({},e??{},t??{})};function up(...e){let t={};for(let n of e){if(!n)continue;for(let i in t){if(i.startsWith("on")&&typeof t[i]=="function"&&typeof n[i]=="function"){t[i]=ks(n[i],t[i]);continue}if(i==="className"||i==="class"){t[i]=op(t[i],n[i]);continue}if(i==="style"){t[i]=cp(t[i],n[i]);continue}t[i]=n[i]!==void 0?n[i]:t[i]}for(let i in n)t[i]===void 0&&(t[i]=n[i]);const r=Object.getOwnPropertySymbols(n);for(let i of r)t[i]=n[i]}return t}function dp(e,t,n){let r=[],i;return a=>{const s=e(a);return(s.length!==r.length||s.some((c,u)=>!gi(r[u],c)))&&(r=s,i=t(s,a)),i}}function uu(){return{and:(...e)=>function(n){return e.every(r=>n.guard(r))},or:(...e)=>function(n){return e.some(r=>n.guard(r))},not:e=>function(n){return!n.guard(e)}}}var mr=(e=>(e.NotStarted="Not Started",e.Started="Started",e.Stopped="Stopped",e))(mr||{}),ja="__init__";function fp(e){const t=()=>{var s;return((s=e.getRootNode)==null?void 0:s.call(e))??document},n=()=>Bt(t());return{...e,getRootNode:t,getDoc:n,getWin:()=>n().defaultView??window,getActiveElement:()=>Cr(t()),isActiveElement:yr,getById:s=>t().getElementById(s)}}function hp(e){return new Proxy({},{get(t,n){return n==="style"?r=>e({style:r}).style:e}})}var or=()=>e=>Array.from(new Set(e));const sl={className:"class",defaultChecked:"checked",defaultValue:"value",htmlFor:"for",onBlur:"onfocusout",onChange:"oninput",onFocus:"onfocusin",onDoubleClick:"ondblclick"};function du(e){let t="";for(let n in e){const r=e[n];r!=null&&(n.startsWith("--")||(n=n.replace(/[A-Z]/g,i=>`-${i.toLowerCase()}`)),t+=`${n}:${r};`)}return t}const vp=new Set("viewBox,className,preserveAspectRatio,fillRule,clipPath,clipRule,strokeWidth,strokeLinecap,strokeLinejoin,strokeDasharray,strokeDashoffset,strokeMiterlimit".split(","));function pp(e){return e in sl?sl[e]:vp.has(e)?e:e.toLowerCase()}function gp(e,t){return e==="style"&&typeof t=="object"?du(t):t}const ha=hp(e=>{const t={};for(const n in e)t[pp(n)]=gp(n,e[n]);return t}),mp=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,bp=e=>{const t={};let n;for(;n=mp.exec(e);)t[n[1]]=n[2];return t};function yp(...e){const t=[];for(const r of e)r&&"class"in r&&r.class!=null&&t.push(r.class);const n=up(...e);return t.length>0&&(n.class=t.length===1?t[0]:t),"style"in n&&(typeof n.style=="string"&&(n.style=bp(n.style)),n.style=du(n.style)),n}function qa(e,t={}){function n(r={}){const{container:i,disabled:a,getRootNode:s}=r;if(a)return;const o=(s==null?void 0:s().ownerDocument)??document;(i??o.body).appendChild(e)}return n(t),{destroy:()=>e.remove(),update:n}}function Wi(e){const t=e().defaultValue??e().value,n=e().isEqual??Object.is;let r=me(dt(t));const i=ce(()=>e().value!==void 0);let a={current:fi(()=>x(r))},s={current:void 0};Dd(()=>{const u=x(i)?e().value:x(r);a={current:u},s={current:u}});const o=u=>{var p,l;const d=qn(u)?u(a.current):u,g=s.current;e().debug&&console.log(`[bindable > ${e().debug}] setValue`,{next:d,prev:g}),x(i)||te(r,d,!0),n(d,g)||(l=(p=e()).onChange)==null||l.call(p,d,g)};function c(){return x(i)?e().value:x(r)}return{initial:t,ref:a,get:c,set(u){(e().sync?uc:qv)(()=>o(u))},invoke(u,d){var g,p;(p=(g=e()).onChange)==null||p.call(g,u,d)},hash(u){var d,g;return((g=(d=e()).hash)==null?void 0:g.call(d,u))??String(u)}}}Wi.cleanup=e=>{hc(()=>e())};Wi.ref=e=>{let t=e;return{get:()=>t,set:n=>{t=n}}};function wp(e){const t={current:e};return{get(n){return t.current[n]},set(n,r){t.current[n]=r}}}const Ga=e=>typeof e=="function"?e():e,_p=(e,t)=>{let n=[],r=!0;Me(()=>{if(r){n=e.map(a=>Ga(a)),r=!1;return}let i=!1;for(let a=0;a<e.length;a++)if(!gi(n[a],Ga(e[a]))){i=!0;break}i&&(n=e.map(a=>Ga(a)),t())})};function Za(e){return qn(e)?e():e}function va(e,t){var P,O,D;const n=ce(()=>{const{id:N,ids:C,getRootNode:L}=Za(t);return fp({id:N,ids:C,getRootNode:L})}),r=(...N)=>{e.debug&&console.log(...N)},i=ce(()=>{var N;return((N=e.props)==null?void 0:N.call(e,{props:to(Za(t)),scope:x(n)}))??Za(t)}),a=xp(()=>x(i)),s=(P=e.context)==null?void 0:P.call(e,{prop:a,bindable:Wi,get scope(){return x(n)},flush:ol,getContext(){return o},getComputed(){return E},getRefs(){return v},getEvent(){return p()}}),o={get(N){return s==null?void 0:s[N].get()},set(N,C){s==null||s[N].set(C)},initial(N){return s==null?void 0:s[N].initial},hash(N){const C=s==null?void 0:s[N].get();return s==null?void 0:s[N].hash(C)}};let c=new Map,u={current:null},d={current:null},g={current:{type:""}};const p=()=>({...g.current,current(){return g.current},previous(){return d.current}}),l=()=>({...k,hasTag(N){var L,b;const C=k.get();return!!((b=(L=e.states[C])==null?void 0:L.tags)!=null&&b.includes(N))},matches(...N){const C=k.get();return N.includes(C)}}),v=wp(((O=e.refs)==null?void 0:O.call(e,{prop:a,context:o}))??{}),f=()=>({state:l(),context:o,event:p(),prop:a,send:I,action:m,guard:h,track:_p,refs:v,computed:E,flush:ol,scope:x(n),choose:_}),m=N=>{const C=qn(N)?N(f()):N;if(!C)return;const L=C.map(b=>{var V,U;const R=(U=(V=e.implementations)==null?void 0:V.actions)==null?void 0:U[b];return R||Ss(`[zag-js] No implementation found for action "${JSON.stringify(b)}"`),R});for(const b of L)b==null||b(f())},h=N=>{var C,L;return qn(N)?N(f()):(L=(C=e.implementations)==null?void 0:C.guards)==null?void 0:L[N](f())},y=N=>{const C=qn(N)?N(f()):N;if(!C)return;const L=C.map(R=>{var U,Y;const V=(Y=(U=e.implementations)==null?void 0:U.effects)==null?void 0:Y[R];return V||Ss(`[zag-js] No implementation found for effect "${JSON.stringify(R)}"`),V}),b=[];for(const R of L){const V=R==null?void 0:R(f());V&&b.push(V)}return()=>b.forEach(R=>R==null?void 0:R())},_=N=>Lv(N).find(C=>{let L=!C.guard;return Qr(C.guard)?L=!!h(C.guard):qn(C.guard)&&(L=C.guard(f())),L}),E=N=>{sp(e.computed,()=>"[zag-js] No computed object found on machine");const C=e.computed[N];return C({context:o,event:p(),prop:a,refs:v,scope:x(n),computed:E})},k=Wi(()=>({defaultValue:e.initialState({prop:a}),onChange(N,C){var b,R,V,U;if(C){const Y=c.get(C);Y==null||Y(),c.delete(C)}C&&m((b=e.states[C])==null?void 0:b.exit),m((R=u.current)==null?void 0:R.actions);const L=y((V=e.states[N])==null?void 0:V.effects);if(L&&c.set(N,L),C===ja){m(e.entry);const Y=y(e.effects);Y&&c.set(ja,Y)}m((U=e.states[N])==null?void 0:U.entry)}}));let T=mr.NotStarted;Md(()=>{const N=T===mr.Started;T=mr.Started,r(N?"rehydrating...":"initializing..."),k.invoke(k.initial,ja)}),hc(()=>{r("unmounting..."),T=mr.Stopped,c.forEach(N=>N==null?void 0:N()),c=new Map,u.current=null,m(e.exit)});const I=N=>{var U,Y;if(T!==mr.Started)return;d.current=g.current,g.current=N;let C=k.get();const L=((U=e.states[C].on)==null?void 0:U[N.type])??((Y=e.on)==null?void 0:Y[N.type]),b=_(L);if(!b)return;u.current=b;const R=b.target??C;r("transition",N.type,b.target||C,`(${b.actions})`);const V=R!==C;V?k.set(R):b.reenter&&!V?k.invoke(C,C):m(b.actions)};return(D=e.watch)==null||D.call(e,f()),{get state(){return l()},send:I,context:o,prop:a,get scope(){return x(n)},refs:v,computed:E,get event(){return p()},getStatus:()=>T}}function xp(e){return function(n){return e()[n]}}function ol(e){uc(()=>{queueMicrotask(()=>e())})}function pa(e){var t=Symbol(),n=function(i){return Nd(t,i)},r=function(){var i;return(i=Fd(t))!==null&&i!==void 0?i:e};return[n,r,t]}var Hi;Hi=pa(),Hi[0];Hi[1];Hi[2];const kp=e=>e;function Ep(e,{delay:t=0,duration:n=400,easing:r=kp}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:a=>`opacity: ${a*i}`}}ft(["click"]);var $i;$i=pa({parent:"none",value:"",expanded:!1}),$i[0];$i[1];$i[2];function Cp(e){return!(e.metaKey||!ua()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}var Sp=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Tp(e,t,n){const r=n?Lt(n):null,i=ct(r);return e=e||r instanceof i.HTMLInputElement&&!Sp.has(r==null?void 0:r.type)||r instanceof i.HTMLTextAreaElement||r instanceof i.HTMLElement&&r.isContentEditable,!(e&&t==="keyboard"&&n instanceof i.KeyboardEvent&&!Reflect.has(Ap,n.key))}var lr=null,Ts=new Set,ji=new Map,er=!1,As=!1,Ap={Tab:!0,Escape:!0};function ga(e,t){for(let n of Ts)n(e,t)}function qi(e){er=!0,Cp(e)&&(lr="keyboard",ga("keyboard",e))}function Pt(e){lr="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(er=!0,ga("pointer",e))}function fu(e){Xh(e)&&(er=!0,lr="virtual")}function hu(e){const t=Lt(e);t===ct(t)||t===Bt(t)||(!er&&!As&&(lr="virtual",ga("virtual",e)),er=!1,As=!1)}function vu(){er=!1,As=!0}function Ip(e){if(typeof window>"u"||ji.get(ct(e)))return;const t=ct(e),n=Bt(e);let r=t.HTMLElement.prototype.focus;function i(){lr="virtual",ga("virtual",null),er=!0,r.apply(this,arguments)}try{Object.defineProperty(t.HTMLElement.prototype,"focus",{configurable:!0,value:i})}catch{}n.addEventListener("keydown",qi,!0),n.addEventListener("keyup",qi,!0),n.addEventListener("click",fu,!0),t.addEventListener("focus",hu,!0),t.addEventListener("blur",vu,!1),typeof t.PointerEvent<"u"?(n.addEventListener("pointerdown",Pt,!0),n.addEventListener("pointermove",Pt,!0),n.addEventListener("pointerup",Pt,!0)):(n.addEventListener("mousedown",Pt,!0),n.addEventListener("mousemove",Pt,!0),n.addEventListener("mouseup",Pt,!0)),t.addEventListener("beforeunload",()=>{Op(e)},{once:!0}),ji.set(t,{focus:r})}var Op=(e,t)=>{const n=ct(e),r=Bt(e),i=ji.get(n);if(i){try{Object.defineProperty(n.HTMLElement.prototype,"focus",{configurable:!0,value:i.focus})}catch{}r.removeEventListener("keydown",qi,!0),r.removeEventListener("keyup",qi,!0),r.removeEventListener("click",fu,!0),n.removeEventListener("focus",hu,!0),n.removeEventListener("blur",vu,!1),typeof n.PointerEvent<"u"?(r.removeEventListener("pointerdown",Pt,!0),r.removeEventListener("pointermove",Pt,!0),r.removeEventListener("pointerup",Pt,!0)):(r.removeEventListener("mousedown",Pt,!0),r.removeEventListener("mousemove",Pt,!0),r.removeEventListener("mouseup",Pt,!0)),ji.delete(n)}};function Gi(){return lr==="keyboard"}function pu(e={}){const{isTextInput:t,autoFocus:n,onChange:r,root:i}=e;Ip(i),r==null||r({isFocusVisible:n||Gi(),modality:lr});const a=(s,o)=>{Tp(!!t,s,o)&&(r==null||r({isFocusVisible:Gi(),modality:s}))};return Ts.add(a),()=>{Ts.delete(a)}}var Rp=Ln("radio-group").parts("root","label","item","itemText","itemControl","indicator"),dr=Rp.build(),Zi=e=>{var t;return((t=e.ids)==null?void 0:t.root)??`radio-group:${e.id}`},ll=e=>{var t;return((t=e.ids)==null?void 0:t.label)??`radio-group:${e.id}:label`},gu=(e,t)=>{var n,r;return((r=(n=e.ids)==null?void 0:n.item)==null?void 0:r.call(n,t))??`radio-group:${e.id}:radio:${t}`},Is=(e,t)=>{var n,r;return((r=(n=e.ids)==null?void 0:n.itemHiddenInput)==null?void 0:r.call(n,t))??`radio-group:${e.id}:radio:input:${t}`},Pp=(e,t)=>{var n,r;return((r=(n=e.ids)==null?void 0:n.itemControl)==null?void 0:r.call(n,t))??`radio-group:${e.id}:radio:control:${t}`},Lp=(e,t)=>{var n,r;return((r=(n=e.ids)==null?void 0:n.itemLabel)==null?void 0:r.call(n,t))??`radio-group:${e.id}:radio:label:${t}`},mu=e=>{var t;return((t=e.ids)==null?void 0:t.indicator)??`radio-group:${e.id}:indicator`},ma=e=>e.getById(Zi(e)),Dp=(e,t)=>e.getById(Is(e,t)),Np=e=>e.getById(mu(e)),Fp=e=>{var t;return(t=ma(e))==null?void 0:t.querySelector("input:not(:disabled)")},Bp=e=>{var t;return(t=ma(e))==null?void 0:t.querySelector("input:not(:disabled):checked")},cl=e=>{const n=`input[type=radio][data-ownedby='${CSS.escape(Zi(e))}']:not([disabled])`;return nu(ma(e),n)},zp=(e,t)=>{if(t)return e.getById(gu(e,t))},Mp=e=>({left:(e==null?void 0:e.offsetLeft)??0,top:(e==null?void 0:e.offsetTop)??0,width:(e==null?void 0:e.offsetWidth)??0,height:(e==null?void 0:e.offsetHeight)??0}),Vp=e=>({width:`${e.width}px`,height:`${e.height}px`,left:`${e.left}px`,top:`${e.top}px`});function Up(e,t){const{context:n,send:r,computed:i,prop:a,scope:s,refs:o}=e,c=i("isDisabled"),u=a("readOnly");function d(l){return{value:l.value,invalid:!!l.invalid,disabled:!!l.disabled||c,checked:n.get("value")===l.value,focused:n.get("focusedValue")===l.value,focusVisible:o.get("focusVisibleValue")===l.value,hovered:n.get("hoveredValue")===l.value,active:n.get("activeValue")===l.value}}function g(l){const v=d(l);return{"data-focus":Se(v.focused),"data-focus-visible":Se(v.focusVisible),"data-disabled":Se(v.disabled),"data-readonly":Se(u),"data-state":v.checked?"checked":"unchecked","data-hover":Se(v.hovered),"data-invalid":Se(v.invalid),"data-orientation":a("orientation"),"data-ssr":Se(n.get("ssr"))}}const p=()=>{const l=Bp(s)??Fp(s);l==null||l.focus()};return{focus:p,value:n.get("value"),setValue(l){r({type:"SET_VALUE",value:l,isTrusted:!1})},clearValue(){r({type:"SET_VALUE",value:null,isTrusted:!1})},getRootProps(){return t.element({...dr.root.attrs,role:"radiogroup",id:Zi(s),"aria-labelledby":ll(s),"data-orientation":a("orientation"),"data-disabled":Se(c),"aria-orientation":a("orientation"),dir:a("dir"),style:{position:"relative"}})},getLabelProps(){return t.element({...dr.label.attrs,dir:a("dir"),"data-orientation":a("orientation"),"data-disabled":Se(c),id:ll(s),onClick:p})},getItemState:d,getItemProps(l){const v=d(l);return t.label({...dr.item.attrs,dir:a("dir"),id:gu(s,l.value),htmlFor:Is(s,l.value),...g(l),onPointerMove(){v.disabled||v.hovered||r({type:"SET_HOVERED",value:l.value,hovered:!0})},onPointerLeave(){v.disabled||r({type:"SET_HOVERED",value:null})},onPointerDown(f){v.disabled||Vi(f)&&(v.focused&&f.pointerType==="mouse"&&f.preventDefault(),r({type:"SET_ACTIVE",value:l.value,active:!0}))},onPointerUp(){v.disabled||r({type:"SET_ACTIVE",value:null})},onClick(){var f;!v.disabled&&Ys()&&((f=Dp(s,l.value))==null||f.focus())}})},getItemTextProps(l){return t.element({...dr.itemText.attrs,dir:a("dir"),id:Lp(s,l.value),...g(l)})},getItemControlProps(l){const v=d(l);return t.element({...dr.itemControl.attrs,dir:a("dir"),id:Pp(s,l.value),"data-active":Se(v.active),"aria-hidden":!0,...g(l)})},getItemHiddenInputProps(l){const v=d(l);return t.input({"data-ownedby":Zi(s),id:Is(s,l.value),type:"radio",name:a("name")||a("id"),form:a("form"),value:l.value,onClick(f){if(u){f.preventDefault();return}f.currentTarget.checked&&r({type:"SET_VALUE",value:l.value,isTrusted:!0})},onBlur(){r({type:"SET_FOCUSED",value:null,focused:!1})},onFocus(){const f=Gi();r({type:"SET_FOCUSED",value:l.value,focused:!0,focusVisible:f})},onKeyDown(f){f.defaultPrevented||f.key===" "&&r({type:"SET_ACTIVE",value:l.value,active:!0})},onKeyUp(f){f.defaultPrevented||f.key===" "&&r({type:"SET_ACTIVE",value:null})},disabled:v.disabled||u,defaultChecked:v.checked,style:iu})},getIndicatorProps(){const l=n.get("indicatorRect");return t.element({id:mu(s),...dr.indicator.attrs,dir:a("dir"),hidden:n.get("value")==null,"data-disabled":Se(c),"data-orientation":a("orientation"),style:{"--transition-property":"left, top, width, height","--left":l==null?void 0:l.left,"--top":l==null?void 0:l.top,"--width":l==null?void 0:l.width,"--height":l==null?void 0:l.height,position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:n.get("canIndicatorTransition")?"var(--transition-duration, 150ms)":"0ms",transitionTimingFunction:"var(--transition-timing-function)",[a("orientation")==="horizontal"?"left":"top"]:a("orientation")==="horizontal"?"var(--left)":"var(--top)"}})}}}var{not:Wp}=uu(),Hp={props({props:e}){return{orientation:"vertical",...e}},initialState(){return"idle"},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(n){var r;(r=e("onValueChange"))==null||r({value:n})}})),activeValue:t(()=>({defaultValue:null})),focusedValue:t(()=>({defaultValue:null})),hoveredValue:t(()=>({defaultValue:null})),indicatorRect:t(()=>({defaultValue:{}})),canIndicatorTransition:t(()=>({defaultValue:!1})),fieldsetDisabled:t(()=>({defaultValue:!1})),ssr:t(()=>({defaultValue:!0}))}},refs(){return{indicatorCleanup:null,focusVisibleValue:null}},computed:{isDisabled:({prop:e,context:t})=>!!e("disabled")||t.get("fieldsetDisabled")},entry:["syncIndicatorRect","syncSsr"],exit:["cleanupObserver"],effects:["trackFormControlState","trackFocusVisible"],watch({track:e,action:t,context:n}){e([()=>n.get("value")],()=>{t(["setIndicatorTransition","syncIndicatorRect","syncInputElements"])})},on:{SET_VALUE:[{guard:Wp("isTrusted"),actions:["setValue","dispatchChangeEvent"]},{actions:["setValue"]}],SET_HOVERED:{actions:["setHovered"]},SET_ACTIVE:{actions:["setActive"]},SET_FOCUSED:{actions:["setFocused"]}},states:{idle:{}},implementations:{guards:{isTrusted:({event:e})=>!!e.isTrusted},effects:{trackFormControlState({context:e,scope:t}){return Js(ma(t),{onFieldsetDisabledChange(n){e.set("fieldsetDisabled",n)},onFormReset(){e.set("value",e.initial("value"))}})},trackFocusVisible({scope:e}){var t;return pu({root:(t=e.getRootNode)==null?void 0:t.call(e)})}},actions:{setValue({context:e,event:t}){e.set("value",t.value)},setHovered({context:e,event:t}){e.set("hoveredValue",t.value)},setActive({context:e,event:t}){e.set("activeValue",t.value)},setFocused({context:e,event:t,refs:n}){e.set("focusedValue",t.value),n.set("focusVisibleValue",t.focusVisible?t.value:null)},syncInputElements({context:e,scope:t}){cl(t).forEach(r=>{r.checked=r.value===e.get("value")})},setIndicatorTransition({context:e}){e.set("canIndicatorTransition",Qr(e.get("value")))},cleanupObserver({refs:e}){var t;(t=e.get("indicatorCleanup"))==null||t()},syncSsr({context:e}){e.set("ssr",!1)},syncIndicatorRect({context:e,scope:t,refs:n}){var s;if((s=n.get("indicatorCleanup"))==null||s(),!Np(t))return;const r=e.get("value"),i=zp(t,r);if(r==null||!i){e.set("canIndicatorTransition",!1),e.set("indicatorRect",{});return}const a=ru([i],{measure(o){return Mp(o)},onEntry({rects:o}){e.set("indicatorRect",Vp(o[0]))}});n.set("indicatorCleanup",a)},dispatchChangeEvent({context:e,scope:t}){cl(t).forEach(r=>{const i=r.value===e.get("value");i!==r.checked&&Xc(r,{checked:i})})}}}};or()(["dir","disabled","form","getRootNode","id","ids","name","onValueChange","orientation","readOnly","value","defaultValue"]);or()(["value","disabled","invalid"]);var Ki,$p=(Ki=pa({api:{},indicatorText:""}),Ki[0]),jp=Ki[1];Ki[2];var qp=de("<div><div></div> <!></div>");function Gp(e,t){const n=ta();ye(t,!0);const r=$(t,"base",3,"inline-flex items-stretch overflow-hidden"),i=$(t,"background",3,"preset-outlined-surface-200-800"),a=$(t,"border",3,""),s=$(t,"gap",3,"gap-2"),o=$(t,"padding",3,"p-2"),c=$(t,"rounded",3,"rounded-container"),u=$(t,"width",3,""),d=$(t,"classes",3,""),g=$(t,"orientVertical",3,"flex-col items-stretch"),p=$(t,"orientHorizontal",3,"flex-row"),l=$(t,"stateDisabled",3,"disabled"),v=$(t,"stateReadOnly",3,"pointer-events-none"),f=$(t,"indicatorBase",3,"top-[var(--top)] left-[var(--left)] w-[var(--width)] h-[var(--height)]"),m=$(t,"indicatorBg",3,"preset-filled"),h=$(t,"indicatorText",3,"text-surface-contrast-950 dark:text-surface-contrast-50"),y=$(t,"indicatorRounded",3,"rounded-base"),_=$(t,"indicatorClasses",3,""),E=$(t,"labelledby",3,""),k=Be(t,["$$slots","$$events","$$legacy","base","background","border","gap","padding","rounded","width","classes","orientVertical","orientHorizontal","stateDisabled","stateReadOnly","indicatorBase","indicatorBg","indicatorText","indicatorRounded","indicatorClasses","labelledby","children"]),T=va(Hp,()=>({id:n,orientation:t.orientation??"horizontal",...k})),I=ce(()=>Up(T,ha));$p({get api(){return x(I)},get indicatorText(){return h()}});const P=ce(()=>T.prop("orientation")==="vertical"?g():p()),O=ce(()=>T.prop("disabled")?l():""),D=ce(()=>T.prop("readOnly")?v():"");var N=qp();Ge(N,b=>({...b,class:`${r()??""} ${x(P)??""} ${i()??""} ${a()??""} ${o()??""} ${s()??""} ${c()??""} ${u()??""} ${x(O)??""} ${x(D)??""} ${d()??""}`,"aria-labelledby":E(),"data-testid":"segment"}),[()=>x(I).getRootProps()]);var C=j(N);Ge(C,b=>({...b,class:`${f()??""} ${m()??""} ${y()??""} ${_()??""}`,"data-testid":"segment-indicator"}),[()=>x(I).getIndicatorProps()]);var L=K(C,2);Ne(L,()=>t.children??Fe),H(N),J(e,N),we()}var Zp=de("<label><span><!></span> <input/></label>");function Kp(e,t){ye(t,!0);let n=$(t,"base",3,"btn cursor-pointer z-[1]"),r=$(t,"classes",3,""),i=$(t,"stateDisabled",3,"disabled"),a=$(t,"stateFocused",3,"focused"),s=$(t,"labelBase",3,"pointer-events-none transition-colors duration-100"),o=$(t,"labelClasses",3,""),c=Be(t,["$$slots","$$events","$$legacy","base","classes","stateDisabled","stateFocused","labelBase","labelClasses","children"]);const u=jp(),d=ce(()=>u.api.getItemState(c)),g=ce(()=>x(d).disabled?i():""),p=ce(()=>x(d).checked?u.indicatorText:""),l=ce(()=>x(d).focused?a():"");var v=Zp();Ge(v,y=>({...y,class:`${n()??""} ${x(g)??""} ${x(l)??""} ${r()??""}`,"data-testid":"segment-item"}),[()=>u.api.getItemProps(c)]);var f=j(v);Ge(f,y=>({...y,class:`${s()??""} ${x(p)??""} ${o()??""}`,"data-testid":"segment-item-label"}),[()=>u.api.getItemTextProps(c)]);var m=j(f);Ne(m,()=>t.children??Fe),H(f);var h=K(f,2);Ge(h,y=>({...y,"data-testid":"segment-item-input"}),[()=>u.api.getItemHiddenInputProps(c)],void 0,void 0,void 0,!0),H(v),J(e,v),we()}const ul=Object.assign(Gp,{Item:Kp});var Xp=Ln("slider").parts("root","label","thumb","valueText","track","range","control","markerGroup","marker","draggingIndicator"),qt=Xp.build(),bu=e=>{var t;return((t=e.ids)==null?void 0:t.root)??`slider:${e.id}`},yu=(e,t)=>{var n,r;return((r=(n=e.ids)==null?void 0:n.thumb)==null?void 0:r.call(n,t))??`slider:${e.id}:thumb:${t}`},Os=(e,t)=>{var n,r;return((r=(n=e.ids)==null?void 0:n.hiddenInput)==null?void 0:r.call(n,t))??`slider:${e.id}:input:${t}`},wu=e=>{var t;return((t=e.ids)==null?void 0:t.control)??`slider:${e.id}:control`},Yp=e=>{var t;return((t=e.ids)==null?void 0:t.track)??`slider:${e.id}:track`},Jp=e=>{var t;return((t=e.ids)==null?void 0:t.range)??`slider:${e.id}:range`},dl=e=>{var t;return((t=e.ids)==null?void 0:t.label)??`slider:${e.id}:label`},Qp=e=>{var t;return((t=e.ids)==null?void 0:t.valueText)??`slider:${e.id}:value-text`},eg=(e,t)=>{var n,r;return((r=(n=e.ids)==null?void 0:n.marker)==null?void 0:r.call(n,t))??`slider:${e.id}:marker:${t}`},tg=e=>e.getById(bu(e)),ng=(e,t)=>e.getById(yu(e,t)),_u=e=>nu(ku(e),"[role=slider]"),rg=e=>_u(e)[0],xu=(e,t)=>e.getById(Os(e,t)),ku=e=>e.getById(wu(e)),fl=(e,t)=>{const{prop:n,scope:r,refs:i}=e,a=ku(r);if(!a)return;const s=i.get("thumbDragOffset"),o={x:t.x-((s==null?void 0:s.x)??0),y:t.y-((s==null?void 0:s.y)??0)},u=xv(o,a).getPercentValue({orientation:n("orientation"),dir:n("dir"),inverted:{y:!0}});return ou(u,n("min"),n("max"),n("step"))},ig=(e,t)=>{t.forEach((n,r)=>{const i=xu(e,r);i&&sv(i,{value:n})})},ag=e=>({left:(e==null?void 0:e.offsetLeft)??0,top:(e==null?void 0:e.offsetTop)??0,width:(e==null?void 0:e.offsetWidth)??0,height:(e==null?void 0:e.offsetHeight)??0});function sg(e){const t=e[0],n=e[e.length-1];return[t,n]}function og(e){const{prop:t,computed:n}=e,r=n("valuePercent"),[i,a]=sg(r);if(r.length===1){if(t("origin")==="center"){const s=r[0]<50,o=s?`${r[0]}%`:"50%",c=s?"50%":`${100-r[0]}%`;return{start:o,end:c}}return t("origin")==="end"?{start:`${a}%`,end:"0%"}:{start:"0%",end:`${100-a}%`}}return{start:`${i}%`,end:`${100-a}%`}}function lg(e){const{computed:t}=e,n=t("isVertical"),r=t("isRtl");return n?{position:"absolute",bottom:"var(--slider-range-start)",top:"var(--slider-range-end)"}:{position:"absolute",[r?"right":"left"]:"var(--slider-range-start)",[r?"left":"right"]:"var(--slider-range-end)"}}function cg(e,t){const{context:n,prop:r}=e,{height:i=0}=n.get("thumbSize")??{},a=Cs([r("min"),r("max")],[-i/2,i/2]);return parseFloat(a(t).toFixed(2))}function ug(e,t){const{computed:n,context:r,prop:i}=e,{width:a=0}=r.get("thumbSize")??{};if(n("isRtl")){const c=Cs([i("max"),i("min")],[-a/2,a/2]);return-1*parseFloat(c(t).toFixed(2))}const o=Cs([i("min"),i("max")],[-a/2,a/2]);return parseFloat(o(t).toFixed(2))}function dg(e,t,n){const{computed:r,prop:i}=e;if(i("thumbAlignment")==="center")return`${t}%`;const a=r("isVertical")?cg(e,n):ug(e,n);return`calc(${t}% - ${a}px)`}function Eu(e,t){const{prop:n}=e,r=Qs(t,n("min"),n("max"))*100;return dg(e,r,t)}function Cu(e){const{computed:t,prop:n}=e;let r="visible";return n("thumbAlignment")==="contain"&&!t("hasMeasuredThumbSize")&&(r="hidden"),r}function hl(e,t){const{computed:n,context:r}=e,i=n("isVertical")?"bottom":"insetInlineStart",a=r.get("focusedIndex");return{visibility:Cu(e),position:"absolute",transform:"var(--slider-thumb-transform)",[i]:`var(--slider-thumb-offset-${t})`,zIndex:a===t?1:void 0}}function fg(){return{touchAction:"none",userSelect:"none",WebkitUserSelect:"none",position:"relative"}}function hg(e){const{context:t,computed:n}=e,r=n("isVertical"),i=n("isRtl"),a=og(e),s=t.get("thumbSize");return{...t.get("value").reduce((c,u,d)=>{const g=Eu(e,u);return{...c,[`--slider-thumb-offset-${d}`]:g}},{}),"--slider-thumb-width":il(s==null?void 0:s.width),"--slider-thumb-height":il(s==null?void 0:s.height),"--slider-thumb-transform":r?"translateY(50%)":i?"translateX(50%)":"translateX(-50%)","--slider-range-start":a.start,"--slider-range-end":a.end}}function vg(e,t){const{computed:n}=e,r=n("isHorizontal"),i=n("isRtl");return{visibility:Cu(e),position:"absolute",pointerEvents:"none",[r?"insetInlineStart":"bottom"]:Eu(e,t),translate:"var(--translate-x) var(--translate-y)","--translate-x":r?i?"50%":"-50%":"0%","--translate-y":r?"0%":"50%"}}function pg(){return{userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none",position:"relative"}}function gg(e,t){return t.map((n,r)=>Rs(e,n,r))}function Nn(e,t){const{context:n,prop:r}=e,i=r("step")*r("minStepsBetweenThumbs");return cu(n.get("value"),r("min"),r("max"),i)[t]}function Rs(e,t,n){const{prop:r}=e,i=Nn(e,n),a=eo(t,r("min"),r("max"),r("step"));return mi(a,i.min,i.max)}function mg(e,t,n){const{context:r,prop:i}=e,a=t??r.get("focusedIndex"),s=Nn(e,a),o=ip(a,{...s,step:n??i("step"),values:r.get("value")});return o[a]=mi(o[a],s.min,s.max),o}function bg(e,t,n){const{context:r,prop:i}=e,a=t??r.get("focusedIndex"),s=Nn(e,a),o=rp(a,{...s,step:n??i("step"),values:r.get("value")});return o[a]=mi(o[a],s.min,s.max),o}function yg(e,t){const{context:n}=e,r=n.get("value");let i=0,a=Math.abs(r[0]-t);for(let s=1;s<r.length;s++){const o=Math.abs(r[s]-t);o<=a&&(i=s,a=o)}return Su(e,i)}function Su(e,t){const{context:n,prop:r}=e,i=n.get("value"),a=r("max");if(i[t]===a){let o=t;for(;o>0&&i[o-1]===a;)o-=1;return o}return t}function wg(e,t){const{state:n,send:r,context:i,prop:a,computed:s,scope:o}=e,c=a("aria-label"),u=a("aria-labelledby"),d=i.get("value"),g=i.get("focusedIndex"),p=n.matches("focus"),l=n.matches("dragging"),v=s("isDisabled"),f=a("invalid"),m=s("isInteractive"),h=a("orientation")==="horizontal",y=a("orientation")==="vertical";function _(k){return Qs(k,a("min"),a("max"))}function E(k){return ou(k,a("min"),a("max"),a("step"))}return{value:d,dragging:l,focused:p,setValue(k){r({type:"SET_VALUE",value:k})},getThumbValue(k){return d[k]},setThumbValue(k,T){r({type:"SET_VALUE",index:k,value:T})},getValuePercent:_,getPercentValue:E,getThumbPercent(k){return _(d[k])},setThumbPercent(k,T){const I=E(T);r({type:"SET_VALUE",index:k,value:I})},getThumbMin(k){return Nn(e,k).min},getThumbMax(k){return Nn(e,k).max},increment(k){r({type:"INCREMENT",index:k})},decrement(k){r({type:"DECREMENT",index:k})},focus(){m&&r({type:"FOCUS",index:0})},getLabelProps(){return t.label({...qt.label.attrs,dir:a("dir"),"data-disabled":Se(v),"data-orientation":a("orientation"),"data-invalid":Se(f),"data-dragging":Se(l),"data-focus":Se(p),id:dl(o),htmlFor:Os(o,0),onClick(k){var T;m&&(k.preventDefault(),(T=rg(o))==null||T.focus())},style:{userSelect:"none",WebkitUserSelect:"none"}})},getRootProps(){return t.element({...qt.root.attrs,"data-disabled":Se(v),"data-orientation":a("orientation"),"data-dragging":Se(l),"data-invalid":Se(f),"data-focus":Se(p),id:bu(o),dir:a("dir"),style:hg(e)})},getValueTextProps(){return t.element({...qt.valueText.attrs,dir:a("dir"),"data-disabled":Se(v),"data-orientation":a("orientation"),"data-invalid":Se(f),"data-focus":Se(p),id:Qp(o)})},getTrackProps(){return t.element({...qt.track.attrs,dir:a("dir"),id:Yp(o),"data-disabled":Se(v),"data-invalid":Se(f),"data-dragging":Se(l),"data-orientation":a("orientation"),"data-focus":Se(p),style:{position:"relative"}})},getThumbProps(k){var L;const{index:T=0,name:I}=k,P=d[T],O=Nn(e,T),D=(L=a("getAriaValueText"))==null?void 0:L({value:P,index:T}),N=Array.isArray(c)?c[T]:c,C=Array.isArray(u)?u[T]:u;return t.element({...qt.thumb.attrs,dir:a("dir"),"data-index":T,"data-name":I,id:yu(o,T),"data-disabled":Se(v),"data-orientation":a("orientation"),"data-focus":Se(p&&g===T),"data-dragging":Se(l&&g===T),draggable:!1,"aria-disabled":Uc(v),"aria-label":N,"aria-labelledby":C??dl(o),"aria-orientation":a("orientation"),"aria-valuemax":O.max,"aria-valuemin":O.min,"aria-valuenow":d[T],"aria-valuetext":D,role:"slider",tabIndex:v?void 0:0,style:hl(e,T),onPointerDown(b){if(!m||!Vi(b))return;const V=b.currentTarget.getBoundingClientRect(),U={x:V.left+V.width/2,y:V.top+V.height/2},Y={x:b.clientX-U.x,y:b.clientY-U.y};r({type:"THUMB_POINTER_DOWN",index:T,offset:Y}),b.stopPropagation()},onBlur(){m&&r({type:"BLUR"})},onFocus(){m&&r({type:"FOCUS",index:T})},onKeyDown(b){if(b.defaultPrevented||!m)return;const R=iv(b)*a("step"),V={ArrowUp(){h||r({type:"ARROW_INC",step:R,src:"ArrowUp"})},ArrowDown(){h||r({type:"ARROW_DEC",step:R,src:"ArrowDown"})},ArrowLeft(){y||r({type:"ARROW_DEC",step:R,src:"ArrowLeft"})},ArrowRight(){y||r({type:"ARROW_INC",step:R,src:"ArrowRight"})},PageUp(){r({type:"ARROW_INC",step:R,src:"PageUp"})},PageDown(){r({type:"ARROW_DEC",step:R,src:"PageDown"})},Home(){r({type:"HOME"})},End(){r({type:"END"})}},U=tv(b,{dir:a("dir"),orientation:a("orientation")}),Y=V[U];Y&&(Y(b),b.preventDefault(),b.stopPropagation())}})},getHiddenInputProps(k){const{index:T=0,name:I}=k;return t.input({name:I??(a("name")?a("name")+(d.length>1?"[]":""):void 0),form:a("form"),type:"text",hidden:!0,defaultValue:d[T],id:Os(o,T)})},getRangeProps(){return t.element({id:Jp(o),...qt.range.attrs,dir:a("dir"),"data-dragging":Se(l),"data-focus":Se(p),"data-invalid":Se(f),"data-disabled":Se(v),"data-orientation":a("orientation"),style:lg(e)})},getControlProps(){return t.element({...qt.control.attrs,dir:a("dir"),id:wu(o),"data-dragging":Se(l),"data-disabled":Se(v),"data-orientation":a("orientation"),"data-invalid":Se(f),"data-focus":Se(p),style:fg(),onPointerDown(k){if(!m||!Vi(k)||Jh(k))return;const T=Ui(k);r({type:"POINTER_DOWN",point:T}),k.preventDefault(),k.stopPropagation()}})},getMarkerGroupProps(){return t.element({...qt.markerGroup.attrs,role:"presentation",dir:a("dir"),"aria-hidden":!0,"data-orientation":a("orientation"),style:pg()})},getMarkerProps(k){const T=vg(e,k.value);let I;return k.value<Dv(d)?I="under-value":k.value>Nv(d)?I="over-value":I="at-value",t.element({...qt.marker.attrs,id:eg(o,k.value),role:"presentation",dir:a("dir"),"data-orientation":a("orientation"),"data-value":k.value,"data-disabled":Se(v),"data-state":I,style:T})},getDraggingIndicatorProps(k){const{index:T=0}=k,I=T===g&&l;return t.element({...qt.draggingIndicator.attrs,role:"presentation",dir:a("dir"),hidden:!I,"data-orientation":a("orientation"),"data-state":I?"open":"closed",style:hl(e,T)})}}}var _g=(e,t)=>(e==null?void 0:e.width)===(t==null?void 0:t.width)&&(e==null?void 0:e.height)===(t==null?void 0:t.height),vl=(e,t,n,r,i)=>cu(e,t,n,i*r).map(s=>{const o=eo(s.value,s.min,s.max,r),c=mi(o,s.min,s.max);if(!tp(c,t,n))throw new Error("[zag-js/slider] The configured `min`, `max`, `step` or `minStepsBetweenThumbs` values are invalid");return c}),xg={props({props:e}){const t=e.min??0,n=e.max??100,r=e.step??1,i=e.defaultValue??[t],a=e.minStepsBetweenThumbs??0;return{dir:"ltr",thumbAlignment:"contain",origin:"start",orientation:"horizontal",minStepsBetweenThumbs:a,...e,defaultValue:vl(i,t,n,r,a),value:e.value?vl(e.value,t,n,r,a):void 0,max:n,step:r,min:t}},initialState(){return"idle"},context({prop:e,bindable:t,getContext:n}){return{thumbSize:t(()=>({defaultValue:e("thumbSize")||null})),value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),isEqual:gi,hash(r){return r.join(",")},onChange(r){var i;(i=e("onValueChange"))==null||i({value:r})}})),focusedIndex:t(()=>({defaultValue:-1,onChange(r){var a;const i=n();(a=e("onFocusChange"))==null||a({focusedIndex:r,value:i.get("value")})}})),fieldsetDisabled:t(()=>({defaultValue:!1}))}},refs(){return{thumbDragOffset:null}},computed:{isHorizontal:({prop:e})=>e("orientation")==="horizontal",isVertical:({prop:e})=>e("orientation")==="vertical",isRtl:({prop:e})=>e("orientation")==="horizontal"&&e("dir")==="rtl",isDisabled:({context:e,prop:t})=>!!t("disabled")||e.get("fieldsetDisabled"),isInteractive:({prop:e,computed:t})=>!(e("readOnly")||t("isDisabled")),hasMeasuredThumbSize:({context:e})=>e.get("thumbSize")!=null,valuePercent:dp(({context:e,prop:t})=>[e.get("value"),t("min"),t("max")],([e,t,n])=>e.map(r=>100*Qs(r,t,n)))},watch({track:e,action:t,context:n,computed:r,send:i}){e([()=>n.hash("value")],()=>{t(["syncInputElements","dispatchChangeEvent"])}),e([()=>r("isDisabled")],()=>{r("isDisabled")&&i({type:"POINTER_CANCEL"})})},effects:["trackFormControlState","trackThumbSize"],on:{SET_VALUE:[{guard:"hasIndex",actions:["setValueAtIndex","invokeOnChangeEnd"]},{actions:["setValue","invokeOnChangeEnd"]}],INCREMENT:{actions:["incrementThumbAtIndex","invokeOnChangeEnd"]},DECREMENT:{actions:["decrementThumbAtIndex","invokeOnChangeEnd"]}},states:{idle:{on:{POINTER_DOWN:{target:"dragging",actions:["setClosestThumbIndex","setPointerValue","focusActiveThumb"]},FOCUS:{target:"focus",actions:["setFocusedIndex"]},THUMB_POINTER_DOWN:{target:"dragging",actions:["setFocusedIndex","setThumbDragOffset","focusActiveThumb"]}}},focus:{entry:["focusActiveThumb"],on:{POINTER_DOWN:{target:"dragging",actions:["setClosestThumbIndex","setPointerValue","focusActiveThumb"]},THUMB_POINTER_DOWN:{target:"dragging",actions:["setFocusedIndex","setThumbDragOffset","focusActiveThumb"]},ARROW_DEC:{actions:["decrementThumbAtIndex","invokeOnChangeEnd"]},ARROW_INC:{actions:["incrementThumbAtIndex","invokeOnChangeEnd"]},HOME:{actions:["setFocusedThumbToMin","invokeOnChangeEnd"]},END:{actions:["setFocusedThumbToMax","invokeOnChangeEnd"]},BLUR:{target:"idle",actions:["clearFocusedIndex"]}}},dragging:{entry:["focusActiveThumb"],effects:["trackPointerMove"],on:{POINTER_UP:{target:"focus",actions:["invokeOnChangeEnd","clearThumbDragOffset"]},POINTER_MOVE:{actions:["setPointerValue"]},POINTER_CANCEL:{target:"idle",actions:["clearFocusedIndex","clearThumbDragOffset"]}}}},implementations:{guards:{hasIndex:({event:e})=>e.index!=null},effects:{trackFormControlState({context:e,scope:t}){return Js(tg(t),{onFieldsetDisabledChange(n){e.set("fieldsetDisabled",n)},onFormReset(){e.set("value",e.initial("value"))}})},trackPointerMove({scope:e,send:t}){return Sv(e.getDoc(),{onPointerMove(n){t({type:"POINTER_MOVE",point:n.point})},onPointerUp(){t({type:"POINTER_UP"})}})},trackThumbSize({context:e,scope:t,prop:n}){if(!(n("thumbAlignment")!=="contain"||n("thumbSize")))return ru(_u(t),{box:"border-box",measure(r){return ag(r)},onEntry({rects:r}){if(r.length===0)return;const i=ap(r[0],["width","height"]);_g(e.get("thumbSize"),i)||e.set("thumbSize",i)}})}},actions:{dispatchChangeEvent({context:e,scope:t}){ig(t,e.get("value"))},syncInputElements({context:e,scope:t}){e.get("value").forEach((n,r)=>{const i=xu(t,r);Zc(i,n.toString())})},invokeOnChangeEnd({prop:e,context:t}){queueMicrotask(()=>{var n;(n=e("onValueChangeEnd"))==null||n({value:t.get("value")})})},setClosestThumbIndex(e){const{context:t,event:n}=e,r=fl(e,n.point);if(r==null)return;const i=yg(e,r);t.set("focusedIndex",i)},setFocusedIndex(e){const{context:t,event:n}=e,r=Su(e,n.index);t.set("focusedIndex",r)},clearFocusedIndex({context:e}){e.set("focusedIndex",-1)},setThumbDragOffset(e){const{refs:t,event:n}=e;t.set("thumbDragOffset",n.offset??null)},clearThumbDragOffset({refs:e}){e.set("thumbDragOffset",null)},setPointerValue(e){queueMicrotask(()=>{const{context:t,event:n}=e,r=fl(e,n.point);if(r==null)return;const i=t.get("focusedIndex"),a=Rs(e,r,i);t.set("value",s=>Gr(s,i,a))})},focusActiveThumb({scope:e,context:t}){Nt(()=>{const n=ng(e,t.get("focusedIndex"));n==null||n.focus({preventScroll:!0})})},decrementThumbAtIndex(e){const{context:t,event:n}=e,r=mg(e,n.index,n.step);t.set("value",r)},incrementThumbAtIndex(e){const{context:t,event:n}=e,r=bg(e,n.index,n.step);t.set("value",r)},setFocusedThumbToMin(e){const{context:t}=e,n=t.get("focusedIndex"),{min:r}=Nn(e,n);t.set("value",i=>Gr(i,n,r))},setFocusedThumbToMax(e){const{context:t}=e,n=t.get("focusedIndex"),{max:r}=Nn(e,n);t.set("value",i=>Gr(i,n,r))},setValueAtIndex(e){const{context:t,event:n}=e,r=Rs(e,n.value,n.index);t.set("value",i=>Gr(i,n.index,r))},setValue(e){const{context:t,event:n}=e,r=gg(e,n.value);t.set("value",r)}}}};or()(["aria-label","aria-labelledby","dir","disabled","form","getAriaValueText","getRootNode","id","ids","invalid","max","min","minStepsBetweenThumbs","name","onFocusChange","onValueChange","onValueChangeEnd","orientation","origin","readOnly","step","thumbAlignment","thumbAlignment","thumbSize","value","defaultValue"]);or()(["index","name"]);or()(["value"]);var kg=de('<div><div data-testid="slider-thumb"></div> <input/></div>'),Eg=de("<span><!></span>"),Cg=de("<div></div>"),Sg=de('<div><div><div><div></div></div> <div style="display: flex; align-items: center; transform: translateY(-100%);" data-testid="slider-thumb-wrapper"></div></div> <!></div>');function no(e,t){const n=ta();ye(t,!0);const r=$(t,"markers",19,()=>[]),i=$(t,"height",3,"h-1.5"),a=$(t,"base",3,"w-full bg-green"),s=$(t,"spaceY",3,""),o=$(t,"classes",3,""),c=$(t,"controlBase",3,""),u=$(t,"controlClasses",3,""),d=$(t,"trackBase",3,"overflow-hidden"),g=$(t,"trackBg",3,"bg-surface-200-800"),p=$(t,"trackRounded",3,"rounded-full"),l=$(t,"trackClasses",3,""),v=$(t,"meterBase",3,""),f=$(t,"meterBg",3,"bg-surface-950-50"),m=$(t,"meterRounded",3,"rounded-container"),h=$(t,"meterClasses",3,""),y=$(t,"thumbBase",3,"ring-inset transition-scale duration-100 ease-in-out"),_=$(t,"thumbSize",3,"size-8 md:size-5"),E=$(t,"thumbBg",3,"bg-surface-50-950"),k=$(t,"thumbRingSize",3,"ring-2"),T=$(t,"thumbRingColor",3,"ring-surface-950-50"),I=$(t,"thumbRounded",3,"rounded-full"),P=$(t,"thumbCursor",3,"hover:cursor-pointer"),O=$(t,"thumbClasses",3,""),D=$(t,"markersBase",3,""),N=$(t,"markersClasses",3,""),C=$(t,"markBase",3,""),L=$(t,"markText",3,"text-[10px]"),b=$(t,"markOpacity",3,"opacity-50"),R=$(t,"markClasses",3,""),V=$(t,"stateDisabled",3,"disabled"),U=$(t,"stateReadOnly",3,"cursor-not-allowed"),Y=Be(t,["$$slots","$$events","$$legacy","markers","height","base","spaceY","classes","controlBase","controlClasses","trackBase","trackBg","trackRounded","trackClasses","meterBase","meterBg","meterRounded","meterClasses","thumbBase","thumbSize","thumbBg","thumbRingSize","thumbRingColor","thumbRounded","thumbCursor","thumbClasses","markersBase","markersClasses","markBase","markText","markOpacity","markClasses","stateDisabled","stateReadOnly","mark"]),q=va(xg,()=>({id:n,...Y})),Q=ce(()=>wg(q,ha)),M=ce(()=>q.prop("disabled")?V():""),B=ce(()=>q.prop("readOnly")?U():P());var re=Sg();Ge(re,ge=>({...ge,class:`${a()??""} ${i()??""} ${s()??""} ${x(M)??""} ${o()??""}`,"data-testid":"slider"}),[()=>x(Q).getRootProps()]);var oe=j(re);Ge(oe,ge=>({...ge,class:`${c()??""} ${u()??""}`,"data-testid":"slider-control"}),[()=>x(Q).getControlProps()]);var Z=j(oe);Ge(Z,ge=>({...ge,class:`${d()??""} ${g()??""} ${i()??""} ${p()??""} ${l()??""}`,"data-testid":"slider-track"}),[()=>x(Q).getTrackProps()]);var fe=j(Z);Ge(fe,ge=>({...ge,class:`${v()??""} ${i()??""} ${f()??""} ${m()??""} ${h()??""}`,"data-testid":"slider-meter"}),[()=>x(Q).getRangeProps()]),H(Z);var _e=K(Z,2);mt(_e,21,()=>x(Q).value,gt,(ge,Ae,Te)=>{var Ie=kg();Ge(Ie,z=>({...z}),[()=>x(Q).getThumbProps({index:Te})]);var w=j(Ie),G=K(w,2);Ge(G,z=>({...z,"data-testid":"slider-input"}),[()=>x(Q).getHiddenInputProps({index:Te})],void 0,void 0,void 0,!0),H(Ie),Oe(()=>lt(w,1,`${y()??""} ${_()??""} ${E()??""} ${k()??""} ${T()??""} ${I()??""} ${x(B)??""} ${O()??""}`)),J(ge,Ie)}),H(_e),H(oe);var ve=K(oe,2);{var Ee=ge=>{var Ae=Cg();Ge(Ae,Te=>({...Te,class:`${D()??""} ${N()??""}`,"data-testid":"slider-markers"}),[()=>x(Q).getMarkerGroupProps()]),mt(Ae,21,r,gt,(Te,Ie)=>{var w=Eg();Ge(w,S=>({...S,class:`${C()??""} ${L()??""} ${b()??""} ${R()??""}`,"data-testid":"slider-mark"}),[()=>x(Q).getMarkerProps({value:x(Ie)})]);var G=j(w);{var z=S=>{var F=be(),X=ue(F);Ne(X,()=>t.mark,()=>x(Ie)),J(S,F)},A=S=>{var F=nr();Oe(()=>st(F,x(Ie))),J(S,F)};De(G,S=>{t.mark?S(z):S(A,!1)})}H(w),J(Te,w)}),H(Ae),J(ge,Ae)};De(ve,ge=>{r().length>0&&ge(Ee)})}H(re),Oe(()=>lt(_e,1,is(i()))),J(e,re),we()}var Tg=Ln("switch").parts("root","label","control","thumb"),Ci=Tg.build(),Tu=e=>{var t;return((t=e.ids)==null?void 0:t.root)??`switch:${e.id}`},pl=e=>{var t;return((t=e.ids)==null?void 0:t.label)??`switch:${e.id}:label`},Ag=e=>{var t;return((t=e.ids)==null?void 0:t.thumb)??`switch:${e.id}:thumb`},Ig=e=>{var t;return((t=e.ids)==null?void 0:t.control)??`switch:${e.id}:control`},Ps=e=>{var t;return((t=e.ids)==null?void 0:t.hiddenInput)??`switch:${e.id}:input`},Og=e=>e.getById(Tu(e)),_r=e=>e.getById(Ps(e));function Rg(e,t){const{context:n,send:r,prop:i,scope:a}=e,s=!!i("disabled"),o=!!i("readOnly"),c=!!i("required"),u=!!n.get("checked"),d=!s&&n.get("focused"),g=!s&&n.get("focusVisible"),p=!s&&n.get("active"),l={"data-active":Se(p),"data-focus":Se(d),"data-focus-visible":Se(g),"data-readonly":Se(o),"data-hover":Se(n.get("hovered")),"data-disabled":Se(s),"data-state":u?"checked":"unchecked","data-invalid":Se(i("invalid")),"data-required":Se(c)};return{checked:u,disabled:s,focused:d,setChecked(v){r({type:"CHECKED.SET",checked:v,isTrusted:!1})},toggleChecked(){r({type:"CHECKED.TOGGLE",checked:u,isTrusted:!1})},getRootProps(){return t.label({...Ci.root.attrs,...l,dir:i("dir"),id:Tu(a),htmlFor:Ps(a),onPointerMove(){s||r({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){s||r({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(v){var m;if(s)return;Lt(v)===_r(a)&&v.stopPropagation(),Ys()&&((m=_r(a))==null||m.focus())}})},getLabelProps(){return t.element({...Ci.label.attrs,...l,dir:i("dir"),id:pl(a)})},getThumbProps(){return t.element({...Ci.thumb.attrs,...l,dir:i("dir"),id:Ag(a),"aria-hidden":!0})},getControlProps(){return t.element({...Ci.control.attrs,...l,dir:i("dir"),id:Ig(a),"aria-hidden":!0})},getHiddenInputProps(){return t.input({id:Ps(a),type:"checkbox",required:i("required"),defaultChecked:u,disabled:s,"aria-labelledby":pl(a),"aria-invalid":i("invalid"),name:i("name"),form:i("form"),value:i("value"),style:iu,onFocus(){const v=Gi();r({type:"CONTEXT.SET",context:{focused:!0,focusVisible:v}})},onBlur(){r({type:"CONTEXT.SET",context:{focused:!1,focusVisible:!1}})},onClick(v){if(o){v.preventDefault();return}const f=v.currentTarget.checked;r({type:"CHECKED.SET",checked:f,isTrusted:!0})}})}}}var{not:gl}=uu(),Pg={props({props:e}){return{defaultChecked:!1,label:"switch",value:"on",...e}},initialState(){return"ready"},context({prop:e,bindable:t}){return{checked:t(()=>({defaultValue:e("defaultChecked"),value:e("checked"),onChange(n){var r;(r=e("onCheckedChange"))==null||r({checked:n})}})),fieldsetDisabled:t(()=>({defaultValue:!1})),focusVisible:t(()=>({defaultValue:!1})),active:t(()=>({defaultValue:!1})),focused:t(()=>({defaultValue:!1})),hovered:t(()=>({defaultValue:!1}))}},computed:{isDisabled:({context:e,prop:t})=>t("disabled")||e.get("fieldsetDisabled")},watch({track:e,prop:t,context:n,action:r}){e([()=>t("disabled")],()=>{r(["removeFocusIfNeeded"])}),e([()=>n.get("checked")],()=>{r(["syncInputElement"])})},effects:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:gl("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:gl("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},states:{ready:{}},implementations:{guards:{isTrusted:({event:e})=>!!e.isTrusted},effects:{trackPressEvent({computed:e,scope:t,context:n}){if(!e("isDisabled"))return Tv({pointerNode:Og(t),keyboardNode:_r(t),isValidKey:r=>r.key===" ",onPress:()=>n.set("active",!1),onPressStart:()=>n.set("active",!0),onPressEnd:()=>n.set("active",!1)})},trackFocusVisible({computed:e,scope:t}){if(!e("isDisabled"))return pu({root:t.getRootNode()})},trackFormControlState({context:e,send:t,scope:n}){return Js(_r(n),{onFieldsetDisabledChange(r){e.set("fieldsetDisabled",r)},onFormReset(){const r=e.initial("checked");t({type:"CHECKED.SET",checked:!!r,src:"form-reset"})}})}},actions:{setContext({context:e,event:t}){for(const n in t.context)e.set(n,t.context[n])},syncInputElement({context:e,scope:t}){const n=_r(t);n&&Kc(n,!!e.get("checked"))},removeFocusIfNeeded({context:e,prop:t}){t("disabled")&&e.set("focused",!1)},setChecked({context:e,event:t}){e.set("checked",t.checked)},toggleChecked({context:e}){e.set("checked",!e.get("checked"))},dispatchChangeEvent({context:e,scope:t}){const n=_r(t);Xc(n,{checked:e.get("checked")})}}}};or()(["checked","defaultChecked","dir","disabled","form","getRootNode","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]);var Lg=de('<span data-testid="switch-icon-inactive"><!></span>'),Dg=de('<span data-testid="switch-icon-active"><!></span>'),Ng=de("<span><!></span>"),Fg=de("<label><input/> <span><span><!> <!></span></span> <!></label>");function Wn(e,t){const n=ta();ye(t,!0);const r=$(t,"compact",3,!1),i=$(t,"base",3,"inline-flex items-center gap-4"),a=$(t,"classes",3,""),s=$(t,"stateFocused",3,"data-[focus-visible]:focused"),o=$(t,"controlBase",3,"cursor-pointer transition duration-200"),c=$(t,"controlInactive",3,"preset-filled-surface-200-800"),u=$(t,"controlActive",3,"preset-filled-primary-500"),d=$(t,"controlDisabled",3,"opacity-50 cursor-not-allowed"),g=$(t,"controlWidth",3,"w-10"),p=$(t,"controlHeight",3,"h-6"),l=$(t,"controlPadding",3,"p-0.5"),v=$(t,"controlRounded",3,"rounded-full"),f=$(t,"controlHover",3,"hover:brightness-90 dark:hover:brightness-110"),m=$(t,"controlClasses",3,""),h=$(t,"thumbBase",3,"right-0 aspect-square h-full flex justify-center items-center text-right cursor-pointer"),y=$(t,"thumbInactive",3,"preset-filled-surface-50-950"),_=$(t,"thumbActive",3,"bg-surface-50 text-surface-contrast-50"),E=$(t,"thumbRounded",3,"rounded-full"),k=$(t,"thumbTranslateX",3,"translate-x-4 rtl:-translate-x-4"),T=$(t,"thumbTransition",3,"transition"),I=$(t,"thumbEase",3,"ease-in-out"),P=$(t,"thumbDuration",3,"duration-200"),O=$(t,"thumbClasses",3,""),D=$(t,"labelBase",3,""),N=$(t,"labelClasses",3,""),C=$(t,"iconInactiveBase",3,"pointer-events-none"),L=$(t,"iconActiveBase",3,"pointer-events-none"),b=Be(t,["$$slots","$$events","$$legacy","compact","base","classes","stateFocused","controlBase","controlInactive","controlActive","controlDisabled","controlWidth","controlHeight","controlPadding","controlRounded","controlHover","controlClasses","thumbBase","thumbInactive","thumbActive","thumbRounded","thumbTranslateX","thumbTransition","thumbEase","thumbDuration","thumbClasses","labelBase","labelClasses","iconInactiveBase","iconActiveBase","children","inactiveChild","activeChild"]),R=va(Pg,()=>({id:n,...b})),V=ce(()=>Rg(R,ha)),U=ce(()=>r()?h():o()),Y=ce(()=>r()?"":p()),q=ce(()=>r()?"":l()),Q=ce(()=>r()?c():y()),M=ce(()=>r()?u():_()),B=ce(()=>r()?"":k()),re=ce(()=>x(V).checked?u():c()),oe=ce(()=>x(V).checked?`${x(M)} ${x(B)}`:x(Q)),Z=ce(()=>x(V).disabled?d():""),fe=ce(()=>x(V).focused?s():"");var _e=Fg();Ge(_e,A=>({...A,class:`${i()??""} ${a()??""}`,"data-testid":"switch"}),[()=>x(V).getRootProps()]);var ve=j(_e);Ge(ve,A=>({...A,"data-testid":"switch-input"}),[()=>x(V).getHiddenInputProps()],void 0,void 0,void 0,!0);var Ee=K(ve,2);Ge(Ee,A=>({...A,class:`${x(U)??""} ${x(re)??""} ${x(fe)??""} ${g()??""} ${x(Y)??""} ${x(q)??""} ${v()??""} ${f()??""} ${x(Z)??""} ${m()??""}`,"data-testid":"switch-control"}),[()=>x(V).getControlProps()]);var ge=j(Ee);Ge(ge,A=>({...A,class:`${h()??""} ${x(oe)??""} ${E()??""} ${T()??""} ${I()??""} ${P()??""} ${O()??""}`,"data-testid":"switch-thumb"}),[()=>x(V).getThumbProps()]);var Ae=j(ge);{var Te=A=>{var S=Lg(),F=j(S);Ne(F,()=>t.inactiveChild),H(S),Oe(()=>lt(S,1,is(C()))),J(A,S)};De(Ae,A=>{!x(V).checked&&t.inactiveChild&&A(Te)})}var Ie=K(Ae,2);{var w=A=>{var S=Dg(),F=j(S);Ne(F,()=>t.activeChild),H(S),Oe(()=>lt(S,1,is(L()))),J(A,S)};De(Ie,A=>{x(V).checked&&t.activeChild&&A(w)})}H(ge),H(Ee);var G=K(Ee,2);{var z=A=>{var S=Ng();Ge(S,X=>({...X,class:`${D()??""} ${N()??""}`,"data-testid":"switch-label"}),[()=>x(V).getLabelProps()]);var F=j(S);Ne(F,()=>t.children),H(S),J(A,S)};De(G,A=>{t.children&&A(z)})}H(_e),J(e,_e),we()}var Xi;Xi=pa({fluid:!1,api:{}}),Xi[0];Xi[1];Xi[2];function Bg(e){const t={each(n){var r;for(let i=0;i<((r=e.frames)==null?void 0:r.length);i+=1){const a=e.frames[i];a&&n(a)}},addEventListener(n,r,i){return t.each(a=>{try{a.document.addEventListener(n,r,i)}catch{}}),()=>{try{t.removeEventListener(n,r,i)}catch{}}},removeEventListener(n,r,i){t.each(a=>{try{a.document.removeEventListener(n,r,i)}catch{}})}};return t}function zg(e){const t=e.frameElement!=null?e.parent:null;return{addEventListener:(n,r,i)=>{try{t==null||t.addEventListener(n,r,i)}catch{}return()=>{try{t==null||t.removeEventListener(n,r,i)}catch{}}},removeEventListener:(n,r,i)=>{try{t==null||t.removeEventListener(n,r,i)}catch{}}}}var ml="pointerdown.outside",bl="focus.outside";function Mg(e){for(const t of e)if(tt(t)&&gn(t))return!0;return!1}var Au=e=>"clientY"in e;function Vg(e,t){if(!Au(t)||!e)return!1;const n=e.getBoundingClientRect();return n.width===0||n.height===0?!1:n.top<=t.clientY&&t.clientY<=n.top+n.height&&n.left<=t.clientX&&t.clientX<=n.left+n.width}function Ug(e,t){return e.y<=t.y&&t.y<=e.y+e.height&&e.x<=t.x&&t.x<=e.x+e.width}function yl(e,t){if(!t||!Au(e))return!1;const n=t.scrollHeight>t.clientHeight,r=n&&e.clientX>t.offsetLeft+t.clientWidth,i=t.scrollWidth>t.clientWidth,a=i&&e.clientY>t.offsetTop+t.clientHeight,s={x:t.offsetLeft,y:t.offsetTop,width:t.clientWidth+(n?16:0),height:t.clientHeight+(i?16:0)},o={x:e.clientX,y:e.clientY};return Ug(s,o)?r||a:!1}function Wg(e,t){const{exclude:n,onFocusOutside:r,onPointerDownOutside:i,onInteractOutside:a,defer:s,followControlledElements:o=!0}=t;if(!e)return;const c=Bt(e),u=ct(e),d=Bg(u),g=zg(u);function p(_,E){if(!tt(E)||!E.isConnected||si(e,E)||Vg(e,_)||o&&jc(e,E))return!1;const k=c.querySelector(`[aria-controls="${e.id}"]`);if(k){const I=ws(k);if(yl(_,I))return!1}const T=ws(e);return yl(_,T)?!1:!(n!=null&&n(E))}const l=new Set,v=Rr(e==null?void 0:e.getRootNode());function f(_){function E(k){var O;const T=s&&!Jo()?Nt:D=>D(),I=k??_,P=((O=I==null?void 0:I.composedPath)==null?void 0:O.call(I))??[I==null?void 0:I.target];T(()=>{const D=v?P[0]:Lt(_);if(!(!e||!p(_,D))){if(i||a){const N=ks(i,a);e.addEventListener(ml,N,{once:!0})}wl(e,ml,{bubbles:!1,cancelable:!0,detail:{originalEvent:I,contextmenu:Yh(I),focusable:Mg(P),target:D}})}})}_.pointerType==="touch"?(l.forEach(k=>k()),l.add(Xe(c,"click",E,{once:!0})),l.add(g.addEventListener("click",E,{once:!0})),l.add(d.addEventListener("click",E,{once:!0}))):E()}const m=new Set,h=setTimeout(()=>{m.add(Xe(c,"pointerdown",f,!0)),m.add(g.addEventListener("pointerdown",f,!0)),m.add(d.addEventListener("pointerdown",f,!0))},0);function y(_){(s?Nt:k=>k())(()=>{var I;const k=((I=_==null?void 0:_.composedPath)==null?void 0:I.call(_))??[_==null?void 0:_.target],T=v?k[0]:Lt(_);if(!(!e||!p(_,T))){if(r||a){const P=ks(r,a);e.addEventListener(bl,P,{once:!0})}wl(e,bl,{bubbles:!1,cancelable:!0,detail:{originalEvent:_,contextmenu:!1,focusable:gn(T),target:T}})}})}return Jo()||(m.add(Xe(c,"focusin",y,!0)),m.add(g.addEventListener("focusin",y,!0)),m.add(d.addEventListener("focusin",y,!0))),()=>{clearTimeout(h),l.forEach(_=>_()),m.forEach(_=>_())}}function Hg(e,t){const{defer:n}=t,r=n?Nt:a=>a(),i=[];return i.push(r(()=>{const a=typeof e=="function"?e():e;i.push(Wg(a,t))})),()=>{i.forEach(a=>a==null?void 0:a())}}function wl(e,t,n){const r=e.ownerDocument.defaultView||window,i=new r.CustomEvent(t,n);return e.dispatchEvent(i)}function $g(e,t){const n=r=>{r.key==="Escape"&&(r.isComposing||t==null||t(r))};return Xe(Bt(e),"keydown",n,{capture:!0})}var _l="layer:request-dismiss",Rt={layers:[],branches:[],count(){return this.layers.length},pointerBlockingLayers(){return this.layers.filter(e=>e.pointerBlocking)},topMostPointerBlockingLayer(){return[...this.pointerBlockingLayers()].slice(-1)[0]},hasPointerBlockingLayer(){return this.pointerBlockingLayers().length>0},isBelowPointerBlockingLayer(e){var r;const t=this.indexOf(e),n=this.topMostPointerBlockingLayer()?this.indexOf((r=this.topMostPointerBlockingLayer())==null?void 0:r.node):-1;return t<n},isTopMost(e){const t=this.layers[this.count()-1];return(t==null?void 0:t.node)===e},getNestedLayers(e){return Array.from(this.layers).slice(this.indexOf(e)+1)},getLayersByType(e){return this.layers.filter(t=>t.type===e)},getNestedLayersByType(e,t){const n=this.indexOf(e);return n===-1?[]:this.layers.slice(n+1).filter(r=>r.type===t)},getParentLayerOfType(e,t){const n=this.indexOf(e);if(!(n<=0))return this.layers.slice(0,n).reverse().find(r=>r.type===t)},countNestedLayersOfType(e,t){return this.getNestedLayersByType(e,t).length},isInNestedLayer(e,t){return this.getNestedLayers(e).some(n=>si(n.node,t))},isInBranch(e){return Array.from(this.branches).some(t=>si(t,e))},add(e){this.layers.push(e),this.syncLayers()},addBranch(e){this.branches.push(e)},remove(e){const t=this.indexOf(e);t<0||(t<this.count()-1&&this.getNestedLayers(e).forEach(r=>Rt.dismiss(r.node,e)),this.layers.splice(t,1),this.syncLayers())},removeBranch(e){const t=this.branches.indexOf(e);t>=0&&this.branches.splice(t,1)},syncLayers(){this.layers.forEach((e,t)=>{e.node.style.setProperty("--layer-index",`${t}`),e.node.removeAttribute("data-nested"),e.node.removeAttribute("data-has-nested"),this.getParentLayerOfType(e.node,e.type)&&e.node.setAttribute("data-nested",e.type);const r=this.countNestedLayersOfType(e.node,e.type);r>0&&e.node.setAttribute("data-has-nested",e.type),e.node.style.setProperty("--nested-layer-count",`${r}`)})},indexOf(e){return this.layers.findIndex(t=>t.node===e)},dismiss(e,t){const n=this.indexOf(e);if(n===-1)return;const r=this.layers[n];qg(e,_l,i=>{var a;(a=r.requestDismiss)==null||a.call(r,i),i.defaultPrevented||r==null||r.dismiss()}),jg(e,_l,{originalLayer:e,targetLayer:t,originalIndex:n,targetIndex:t?this.indexOf(t):-1}),this.syncLayers()},clear(){this.remove(this.layers[0].node)}};function jg(e,t,n){const r=e.ownerDocument.defaultView||window,i=new r.CustomEvent(t,{cancelable:!0,bubbles:!0,detail:n});return e.dispatchEvent(i)}function qg(e,t,n){e.addEventListener(t,n,{once:!0})}var xl;function kl(){Rt.layers.forEach(({node:e})=>{e.style.pointerEvents=Rt.isBelowPointerBlockingLayer(e)?"none":"auto"})}function Gg(e){e.style.pointerEvents=""}function Zg(e,t){const n=Bt(e),r=[];return Rt.hasPointerBlockingLayer()&&!n.body.hasAttribute("data-inert")&&(xl=document.body.style.pointerEvents,queueMicrotask(()=>{n.body.style.pointerEvents="none",n.body.setAttribute("data-inert","")})),t==null||t.forEach(i=>{const[a,s]=Pv(()=>{const o=i();return tt(o)?o:null},{timeout:1e3});a.then(o=>r.push(xs(o,{pointerEvents:"auto"}))),r.push(s)}),()=>{Rt.hasPointerBlockingLayer()||(queueMicrotask(()=>{n.body.style.pointerEvents=xl,n.body.removeAttribute("data-inert"),n.body.style.length===0&&n.body.removeAttribute("style")}),r.forEach(i=>i()))}}function Kg(e,t){const{warnOnMissingNode:n=!0}=t;if(n&&!e){Ss("[@zag-js/dismissable] node is `null` or `undefined`");return}if(!e)return;const{onDismiss:r,onRequestDismiss:i,pointerBlocking:a,exclude:s,debug:o,type:c="dialog"}=t,u={dismiss:r,node:e,type:c,pointerBlocking:a,requestDismiss:i};Rt.add(u),kl();function d(f){var h,y;const m=Lt(f.detail.originalEvent);Rt.isBelowPointerBlockingLayer(e)||Rt.isInBranch(m)||((h=t.onPointerDownOutside)==null||h.call(t,f),(y=t.onInteractOutside)==null||y.call(t,f),!f.defaultPrevented&&(o&&console.log("onPointerDownOutside:",f.detail.originalEvent),r==null||r()))}function g(f){var h,y;const m=Lt(f.detail.originalEvent);Rt.isInBranch(m)||((h=t.onFocusOutside)==null||h.call(t,f),(y=t.onInteractOutside)==null||y.call(t,f),!f.defaultPrevented&&(o&&console.log("onFocusOutside:",f.detail.originalEvent),r==null||r()))}function p(f){var m;Rt.isTopMost(e)&&((m=t.onEscapeKeyDown)==null||m.call(t,f),!f.defaultPrevented&&r&&(f.preventDefault(),r()))}function l(f){var _;if(!e)return!1;const m=typeof s=="function"?s():s,h=Array.isArray(m)?m:[m],y=(_=t.persistentElements)==null?void 0:_.map(E=>E()).filter(tt);return y&&h.push(...y),h.some(E=>si(E,f))||Rt.isInNestedLayer(e,f)}const v=[a?Zg(e,t.persistentElements):void 0,$g(e,p),Hg(e,{exclude:l,onFocusOutside:g,onPointerDownOutside:d,defer:t.defer})];return()=>{Rt.remove(e),kl(),Gg(e),v.forEach(f=>f==null?void 0:f())}}function Xg(e,t){const{defer:n}=t,r=n?Nt:a=>a(),i=[];return i.push(r(()=>{const a=qn(e)?e():e;i.push(Kg(a,t))})),()=>{i.forEach(a=>a==null?void 0:a())}}const Yg=["top","right","bottom","left"],Bn=Math.min,xt=Math.max,Yi=Math.round,Si=Math.floor,tn=e=>({x:e,y:e}),Jg={left:"right",right:"left",bottom:"top",top:"bottom"},Qg={start:"end",end:"start"};function Ls(e,t,n){return xt(e,Bn(t,n))}function bn(e,t){return typeof e=="function"?e(t):e}function yn(e){return e.split("-")[0]}function Mr(e){return e.split("-")[1]}function ro(e){return e==="x"?"y":"x"}function io(e){return e==="y"?"height":"width"}const em=new Set(["top","bottom"]);function Jt(e){return em.has(yn(e))?"y":"x"}function ao(e){return ro(Jt(e))}function tm(e,t,n){n===void 0&&(n=!1);const r=Mr(e),i=ao(e),a=io(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=Ji(s)),[s,Ji(s)]}function nm(e){const t=Ji(e);return[Ds(e),t,Ds(t)]}function Ds(e){return e.replace(/start|end/g,t=>Qg[t])}const El=["left","right"],Cl=["right","left"],rm=["top","bottom"],im=["bottom","top"];function am(e,t,n){switch(e){case"top":case"bottom":return n?t?Cl:El:t?El:Cl;case"left":case"right":return t?rm:im;default:return[]}}function sm(e,t,n,r){const i=Mr(e);let a=am(yn(e),n==="start",r);return i&&(a=a.map(s=>s+"-"+i),t&&(a=a.concat(a.map(Ds)))),a}function Ji(e){return e.replace(/left|right|bottom|top/g,t=>Jg[t])}function om(e){return{top:0,right:0,bottom:0,left:0,...e}}function Iu(e){return typeof e!="number"?om(e):{top:e,right:e,bottom:e,left:e}}function Qi(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Sl(e,t,n){let{reference:r,floating:i}=e;const a=Jt(t),s=ao(t),o=io(s),c=yn(t),u=a==="y",d=r.x+r.width/2-i.width/2,g=r.y+r.height/2-i.height/2,p=r[o]/2-i[o]/2;let l;switch(c){case"top":l={x:d,y:r.y-i.height};break;case"bottom":l={x:d,y:r.y+r.height};break;case"right":l={x:r.x+r.width,y:g};break;case"left":l={x:r.x-i.width,y:g};break;default:l={x:r.x,y:r.y}}switch(Mr(t)){case"start":l[s]-=p*(n&&u?-1:1);break;case"end":l[s]+=p*(n&&u?-1:1);break}return l}const lm=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=n,o=a.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:g}=Sl(u,r,c),p=r,l={},v=0;for(let f=0;f<o.length;f++){const{name:m,fn:h}=o[f],{x:y,y:_,data:E,reset:k}=await h({x:d,y:g,initialPlacement:r,placement:p,strategy:i,middlewareData:l,rects:u,platform:s,elements:{reference:e,floating:t}});d=y??d,g=_??g,l={...l,[m]:{...l[m],...E}},k&&v<=50&&(v++,typeof k=="object"&&(k.placement&&(p=k.placement),k.rects&&(u=k.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):k.rects),{x:d,y:g}=Sl(u,p,c)),f=-1)}return{x:d,y:g,placement:p,strategy:i,middlewareData:l}};async function oi(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:s,elements:o,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:g="floating",altBoundary:p=!1,padding:l=0}=bn(t,e),v=Iu(l),m=o[p?g==="floating"?"reference":"floating":g],h=Qi(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(m)))==null||n?m:m.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:c})),y=g==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),E=await(a.isElement==null?void 0:a.isElement(_))?await(a.getScale==null?void 0:a.getScale(_))||{x:1,y:1}:{x:1,y:1},k=Qi(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:y,offsetParent:_,strategy:c}):y);return{top:(h.top-k.top+v.top)/E.y,bottom:(k.bottom-h.bottom+v.bottom)/E.y,left:(h.left-k.left+v.left)/E.x,right:(k.right-h.right+v.right)/E.x}}const cm=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:s,elements:o,middlewareData:c}=t,{element:u,padding:d=0}=bn(e,t)||{};if(u==null)return{};const g=Iu(d),p={x:n,y:r},l=ao(i),v=io(l),f=await s.getDimensions(u),m=l==="y",h=m?"top":"left",y=m?"bottom":"right",_=m?"clientHeight":"clientWidth",E=a.reference[v]+a.reference[l]-p[l]-a.floating[v],k=p[l]-a.reference[l],T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let I=T?T[_]:0;(!I||!await(s.isElement==null?void 0:s.isElement(T)))&&(I=o.floating[_]||a.floating[v]);const P=E/2-k/2,O=I/2-f[v]/2-1,D=Bn(g[h],O),N=Bn(g[y],O),C=D,L=I-f[v]-N,b=I/2-f[v]/2+P,R=Ls(C,b,L),V=!c.arrow&&Mr(i)!=null&&b!==R&&a.reference[v]/2-(b<C?D:N)-f[v]/2<0,U=V?b<C?b-C:b-L:0;return{[l]:p[l]+U,data:{[l]:R,centerOffset:b-R-U,...V&&{alignmentOffset:U}},reset:V}}}),um=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:g=!0,fallbackPlacements:p,fallbackStrategy:l="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:f=!0,...m}=bn(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const h=yn(i),y=Jt(o),_=yn(o)===o,E=await(c.isRTL==null?void 0:c.isRTL(u.floating)),k=p||(_||!f?[Ji(o)]:nm(o)),T=v!=="none";!p&&T&&k.push(...sm(o,f,v,E));const I=[o,...k],P=await oi(t,m),O=[];let D=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&O.push(P[h]),g){const b=tm(i,s,E);O.push(P[b[0]],P[b[1]])}if(D=[...D,{placement:i,overflows:O}],!O.every(b=>b<=0)){var N,C;const b=(((N=a.flip)==null?void 0:N.index)||0)+1,R=I[b];if(R&&(!(g==="alignment"?y!==Jt(R):!1)||D.every(Y=>Jt(Y.placement)===y?Y.overflows[0]>0:!0)))return{data:{index:b,overflows:D},reset:{placement:R}};let V=(C=D.filter(U=>U.overflows[0]<=0).sort((U,Y)=>U.overflows[1]-Y.overflows[1])[0])==null?void 0:C.placement;if(!V)switch(l){case"bestFit":{var L;const U=(L=D.filter(Y=>{if(T){const q=Jt(Y.placement);return q===y||q==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(q=>q>0).reduce((q,Q)=>q+Q,0)]).sort((Y,q)=>Y[1]-q[1])[0])==null?void 0:L[0];U&&(V=U);break}case"initialPlacement":V=o;break}if(i!==V)return{reset:{placement:V}}}return{}}}};function Tl(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Al(e){return Yg.some(t=>e[t]>=0)}const dm=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=bn(e,t);switch(r){case"referenceHidden":{const a=await oi(t,{...i,elementContext:"reference"}),s=Tl(a,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Al(s)}}}case"escaped":{const a=await oi(t,{...i,altBoundary:!0}),s=Tl(a,n.floating);return{data:{escapedOffsets:s,escaped:Al(s)}}}default:return{}}}}},Ou=new Set(["left","top"]);async function fm(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=yn(n),o=Mr(n),c=Jt(n)==="y",u=Ou.has(s)?-1:1,d=a&&c?-1:1,g=bn(t,e);let{mainAxis:p,crossAxis:l,alignmentAxis:v}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return o&&typeof v=="number"&&(l=o==="end"?v*-1:v),c?{x:l*d,y:p*u}:{x:p*u,y:l*d}}const hm=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:s,middlewareData:o}=t,c=await fm(t,e);return s===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:s}}}}},vm=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:m=>{let{x:h,y}=m;return{x:h,y}}},...c}=bn(e,t),u={x:n,y:r},d=await oi(t,c),g=Jt(yn(i)),p=ro(g);let l=u[p],v=u[g];if(a){const m=p==="y"?"top":"left",h=p==="y"?"bottom":"right",y=l+d[m],_=l-d[h];l=Ls(y,l,_)}if(s){const m=g==="y"?"top":"left",h=g==="y"?"bottom":"right",y=v+d[m],_=v-d[h];v=Ls(y,v,_)}const f=o.fn({...t,[p]:l,[g]:v});return{...f,data:{x:f.x-n,y:f.y-r,enabled:{[p]:a,[g]:s}}}}}},pm=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:s}=t,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=bn(e,t),d={x:n,y:r},g=Jt(i),p=ro(g);let l=d[p],v=d[g];const f=bn(o,t),m=typeof f=="number"?{mainAxis:f,crossAxis:0}:{mainAxis:0,crossAxis:0,...f};if(c){const _=p==="y"?"height":"width",E=a.reference[p]-a.floating[_]+m.mainAxis,k=a.reference[p]+a.reference[_]-m.mainAxis;l<E?l=E:l>k&&(l=k)}if(u){var h,y;const _=p==="y"?"width":"height",E=Ou.has(yn(i)),k=a.reference[g]-a.floating[_]+(E&&((h=s.offset)==null?void 0:h[g])||0)+(E?0:m.crossAxis),T=a.reference[g]+a.reference[_]+(E?0:((y=s.offset)==null?void 0:y[g])||0)-(E?m.crossAxis:0);v<k?v=k:v>T&&(v=T)}return{[p]:l,[g]:v}}}},gm=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:a,platform:s,elements:o}=t,{apply:c=()=>{},...u}=bn(e,t),d=await oi(t,u),g=yn(i),p=Mr(i),l=Jt(i)==="y",{width:v,height:f}=a.floating;let m,h;g==="top"||g==="bottom"?(m=g,h=p===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(h=g,m=p==="end"?"top":"bottom");const y=f-d.top-d.bottom,_=v-d.left-d.right,E=Bn(f-d[m],y),k=Bn(v-d[h],_),T=!t.middlewareData.shift;let I=E,P=k;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(P=_),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(I=y),T&&!p){const D=xt(d.left,0),N=xt(d.right,0),C=xt(d.top,0),L=xt(d.bottom,0);l?P=v-2*(D!==0||N!==0?D+N:xt(d.left,d.right)):I=f-2*(C!==0||L!==0?C+L:xt(d.top,d.bottom))}await c({...t,availableWidth:P,availableHeight:I});const O=await s.getDimensions(o.floating);return v!==O.width||f!==O.height?{reset:{rects:!0}}:{}}}};function ba(){return typeof window<"u"}function Vr(e){return Ru(e)?(e.nodeName||"").toLowerCase():"#document"}function Et(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function an(e){var t;return(t=(Ru(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Ru(e){return ba()?e instanceof Node||e instanceof Et(e).Node:!1}function Wt(e){return ba()?e instanceof Element||e instanceof Et(e).Element:!1}function nn(e){return ba()?e instanceof HTMLElement||e instanceof Et(e).HTMLElement:!1}function Il(e){return!ba()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Et(e).ShadowRoot}const mm=new Set(["inline","contents"]);function bi(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Ht(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!mm.has(i)}const bm=new Set(["table","td","th"]);function ym(e){return bm.has(Vr(e))}const wm=[":popover-open",":modal"];function ya(e){return wm.some(t=>{try{return e.matches(t)}catch{return!1}})}const _m=["transform","translate","scale","rotate","perspective"],xm=["transform","translate","scale","rotate","perspective","filter"],km=["paint","layout","strict","content"];function so(e){const t=oo(),n=Wt(e)?Ht(e):e;return _m.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||xm.some(r=>(n.willChange||"").includes(r))||km.some(r=>(n.contain||"").includes(r))}function Em(e){let t=zn(e);for(;nn(t)&&!Pr(t);){if(so(t))return t;if(ya(t))return null;t=zn(t)}return null}function oo(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Cm=new Set(["html","body","#document"]);function Pr(e){return Cm.has(Vr(e))}function Ht(e){return Et(e).getComputedStyle(e)}function wa(e){return Wt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function zn(e){if(Vr(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Il(e)&&e.host||an(e);return Il(t)?t.host:t}function Pu(e){const t=zn(e);return Pr(t)?e.ownerDocument?e.ownerDocument.body:e.body:nn(t)&&bi(t)?t:Pu(t)}function li(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=Pu(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),s=Et(i);if(a){const o=Ns(s);return t.concat(s,s.visualViewport||[],bi(i)?i:[],o&&n?li(o):[])}return t.concat(i,li(i,[],n))}function Ns(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Lu(e){const t=Ht(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=nn(e),a=i?e.offsetWidth:n,s=i?e.offsetHeight:r,o=Yi(n)!==a||Yi(r)!==s;return o&&(n=a,r=s),{width:n,height:r,$:o}}function lo(e){return Wt(e)?e:e.contextElement}function Sr(e){const t=lo(e);if(!nn(t))return tn(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=Lu(t);let s=(a?Yi(n.width):n.width)/r,o=(a?Yi(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const Sm=tn(0);function Du(e){const t=Et(e);return!oo()||!t.visualViewport?Sm:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Tm(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Et(e)?!1:t}function tr(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=lo(e);let s=tn(1);t&&(r?Wt(r)&&(s=Sr(r)):s=Sr(e));const o=Tm(a,n,r)?Du(a):tn(0);let c=(i.left+o.x)/s.x,u=(i.top+o.y)/s.y,d=i.width/s.x,g=i.height/s.y;if(a){const p=Et(a),l=r&&Wt(r)?Et(r):r;let v=p,f=Ns(v);for(;f&&r&&l!==v;){const m=Sr(f),h=f.getBoundingClientRect(),y=Ht(f),_=h.left+(f.clientLeft+parseFloat(y.paddingLeft))*m.x,E=h.top+(f.clientTop+parseFloat(y.paddingTop))*m.y;c*=m.x,u*=m.y,d*=m.x,g*=m.y,c+=_,u+=E,v=Et(f),f=Ns(v)}}return Qi({width:d,height:g,x:c,y:u})}function _a(e,t){const n=wa(e).scrollLeft;return t?t.left+n:tr(an(e)).left+n}function Nu(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-_a(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function Am(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",s=an(r),o=t?ya(t.floating):!1;if(r===s||o&&a)return n;let c={scrollLeft:0,scrollTop:0},u=tn(1);const d=tn(0),g=nn(r);if((g||!g&&!a)&&((Vr(r)!=="body"||bi(s))&&(c=wa(r)),nn(r))){const l=tr(r);u=Sr(r),d.x=l.x+r.clientLeft,d.y=l.y+r.clientTop}const p=s&&!g&&!a?Nu(s,c):tn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-c.scrollTop*u.y+d.y+p.y}}function Im(e){return Array.from(e.getClientRects())}function Om(e){const t=an(e),n=wa(e),r=e.ownerDocument.body,i=xt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=xt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+_a(e);const o=-n.scrollTop;return Ht(r).direction==="rtl"&&(s+=xt(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:o}}const Ol=25;function Rm(e,t){const n=Et(e),r=an(e),i=n.visualViewport;let a=r.clientWidth,s=r.clientHeight,o=0,c=0;if(i){a=i.width,s=i.height;const d=oo();(!d||d&&t==="fixed")&&(o=i.offsetLeft,c=i.offsetTop)}const u=_a(r);if(u<=0){const d=r.ownerDocument,g=d.body,p=getComputedStyle(g),l=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,v=Math.abs(r.clientWidth-g.clientWidth-l);v<=Ol&&(a-=v)}else u<=Ol&&(a+=u);return{width:a,height:s,x:o,y:c}}const Pm=new Set(["absolute","fixed"]);function Lm(e,t){const n=tr(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=nn(e)?Sr(e):tn(1),s=e.clientWidth*a.x,o=e.clientHeight*a.y,c=i*a.x,u=r*a.y;return{width:s,height:o,x:c,y:u}}function Rl(e,t,n){let r;if(t==="viewport")r=Rm(e,n);else if(t==="document")r=Om(an(e));else if(Wt(t))r=Lm(t,n);else{const i=Du(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Qi(r)}function Fu(e,t){const n=zn(e);return n===t||!Wt(n)||Pr(n)?!1:Ht(n).position==="fixed"||Fu(n,t)}function Dm(e,t){const n=t.get(e);if(n)return n;let r=li(e,[],!1).filter(o=>Wt(o)&&Vr(o)!=="body"),i=null;const a=Ht(e).position==="fixed";let s=a?zn(e):e;for(;Wt(s)&&!Pr(s);){const o=Ht(s),c=so(s);!c&&o.position==="fixed"&&(i=null),(a?!c&&!i:!c&&o.position==="static"&&!!i&&Pm.has(i.position)||bi(s)&&!c&&Fu(e,s))?r=r.filter(d=>d!==s):i=o,s=zn(s)}return t.set(e,r),r}function Nm(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?ya(t)?[]:Dm(t,this._c):[].concat(n),r],o=s[0],c=s.reduce((u,d)=>{const g=Rl(t,d,i);return u.top=xt(g.top,u.top),u.right=Bn(g.right,u.right),u.bottom=Bn(g.bottom,u.bottom),u.left=xt(g.left,u.left),u},Rl(t,o,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Fm(e){const{width:t,height:n}=Lu(e);return{width:t,height:n}}function Bm(e,t,n){const r=nn(t),i=an(t),a=n==="fixed",s=tr(e,!0,a,t);let o={scrollLeft:0,scrollTop:0};const c=tn(0);function u(){c.x=_a(i)}if(r||!r&&!a)if((Vr(t)!=="body"||bi(i))&&(o=wa(t)),r){const l=tr(t,!0,a,t);c.x=l.x+t.clientLeft,c.y=l.y+t.clientTop}else i&&u();a&&!r&&i&&u();const d=i&&!r&&!a?Nu(i,o):tn(0),g=s.left+o.scrollLeft-c.x-d.x,p=s.top+o.scrollTop-c.y-d.y;return{x:g,y:p,width:s.width,height:s.height}}function Ka(e){return Ht(e).position==="static"}function Pl(e,t){if(!nn(e)||Ht(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return an(e)===n&&(n=n.ownerDocument.body),n}function Bu(e,t){const n=Et(e);if(ya(e))return n;if(!nn(e)){let i=zn(e);for(;i&&!Pr(i);){if(Wt(i)&&!Ka(i))return i;i=zn(i)}return n}let r=Pl(e,t);for(;r&&ym(r)&&Ka(r);)r=Pl(r,t);return r&&Pr(r)&&Ka(r)&&!so(r)?n:r||Em(e)||n}const zm=async function(e){const t=this.getOffsetParent||Bu,n=this.getDimensions,r=await n(e.floating);return{reference:Bm(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Mm(e){return Ht(e).direction==="rtl"}const Vm={convertOffsetParentRelativeRectToViewportRelativeRect:Am,getDocumentElement:an,getClippingRect:Nm,getOffsetParent:Bu,getElementRects:zm,getClientRects:Im,getDimensions:Fm,getScale:Sr,isElement:Wt,isRTL:Mm};function zu(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Um(e,t){let n=null,r;const i=an(e);function a(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function s(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:g,width:p,height:l}=u;if(o||t(),!p||!l)return;const v=Si(g),f=Si(i.clientWidth-(d+p)),m=Si(i.clientHeight-(g+l)),h=Si(d),_={rootMargin:-v+"px "+-f+"px "+-m+"px "+-h+"px",threshold:xt(0,Bn(1,c))||1};let E=!0;function k(T){const I=T[0].intersectionRatio;if(I!==c){if(!E)return s();I?s(!1,I):r=setTimeout(()=>{s(!1,1e-7)},1e3)}I===1&&!zu(u,e.getBoundingClientRect())&&s(),E=!1}try{n=new IntersectionObserver(k,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(k,_)}n.observe(e)}return s(!0),a}function Wm(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=lo(e),d=i||a?[...u?li(u):[],...li(t)]:[];d.forEach(h=>{i&&h.addEventListener("scroll",n,{passive:!0}),a&&h.addEventListener("resize",n)});const g=u&&o?Um(u,n):null;let p=-1,l=null;s&&(l=new ResizeObserver(h=>{let[y]=h;y&&y.target===u&&l&&(l.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var _;(_=l)==null||_.observe(t)})),n()}),u&&!c&&l.observe(u),l.observe(t));let v,f=c?tr(e):null;c&&m();function m(){const h=tr(e);f&&!zu(f,h)&&n(),f=h,v=requestAnimationFrame(m)}return n(),()=>{var h;d.forEach(y=>{i&&y.removeEventListener("scroll",n),a&&y.removeEventListener("resize",n)}),g==null||g(),(h=l)==null||h.disconnect(),l=null,c&&cancelAnimationFrame(v)}}const Hm=hm,$m=vm,jm=um,qm=gm,Gm=dm,Zm=cm,Km=pm,Xm=(e,t,n)=>{const r=new Map,i={platform:Vm,...n},a={...i.platform,_c:r};return lm(e,t,{...i,platform:a})};function Ll(e=0,t=0,n=0,r=0){if(typeof DOMRect=="function")return new DOMRect(e,t,n,r);const i={x:e,y:t,width:n,height:r,top:t,right:e+n,bottom:t+r,left:e};return{...i,toJSON:()=>i}}function Ym(e){if(!e)return Ll();const{x:t,y:n,width:r,height:i}=e;return Ll(t,n,r,i)}function Jm(e,t){return{contextElement:tt(e)?e:void 0,getBoundingClientRect:()=>{const n=e,r=t==null?void 0:t(n);return r||!n?Ym(r):n.getBoundingClientRect()}}}var $r=e=>({variable:e,reference:`var(${e})`}),fn={arrowSize:$r("--arrow-size"),arrowSizeHalf:$r("--arrow-size-half"),arrowBg:$r("--arrow-background"),transformOrigin:$r("--transform-origin"),arrowOffset:$r("--arrow-offset")},Qm=e=>e==="top"||e==="bottom"?"y":"x";function eb(e,t){return{name:"transformOrigin",fn(n){var O,D,N,C;const{elements:r,middlewareData:i,placement:a,rects:s,y:o}=n,c=a.split("-")[0],u=Qm(c),d=((O=i.arrow)==null?void 0:O.x)||0,g=((D=i.arrow)==null?void 0:D.y)||0,p=(t==null?void 0:t.clientWidth)||0,l=(t==null?void 0:t.clientHeight)||0,v=d+p/2,f=g+l/2,m=Math.abs(((N=i.shift)==null?void 0:N.y)||0),h=s.reference.height/2,y=l/2,_=((C=e.offset)==null?void 0:C.mainAxis)??e.gutter,E=typeof _=="number"?_+y:_??y,k=m>E,T={top:`${v}px calc(100% + ${E}px)`,bottom:`${v}px ${-E}px`,left:`calc(100% + ${E}px) ${f}px`,right:`${-E}px ${f}px`}[c],I=`${v}px ${s.reference.y+h-o}px`,P=!!e.overlap&&u==="y"&&k;return r.floating.style.setProperty(fn.transformOrigin.variable,P?I:T),{data:{transformOrigin:P?I:T}}}}}var tb={name:"rects",fn({rects:e}){return{data:e}}},nb=e=>{if(e)return{name:"shiftArrow",fn({placement:t,middlewareData:n}){if(!n.arrow)return{};const{x:r,y:i}=n.arrow,a=t.split("-")[0];return Object.assign(e.style,{left:r!=null?`${r}px`:"",top:i!=null?`${i}px`:"",[a]:`calc(100% + ${fn.arrowOffset.reference})`}),{}}}};function rb(e){const[t,n]=e.split("-");return{side:t,align:n,hasAlign:n!=null}}var ib={strategy:"absolute",placement:"bottom",listeners:!0,gutter:8,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,overflowPadding:8,arrowPadding:4};function Dl(e,t){const n=e.devicePixelRatio||1;return Math.round(t*n)/n}function co(e){return typeof e=="function"?e():e==="clipping-ancestors"?"clippingAncestors":e}function ab(e,t,n){const r=e||t.createElement("div");return Zm({element:r,padding:n.arrowPadding})}function sb(e,t){if(!zv(t.offset??t.gutter))return Hm(({placement:n})=>{var u,d;const r=((e==null?void 0:e.clientHeight)||0)/2,i=((u=t.offset)==null?void 0:u.mainAxis)??t.gutter,a=typeof i=="number"?i+r:i??r,{hasAlign:s}=rb(n),o=s?void 0:t.shift,c=((d=t.offset)==null?void 0:d.crossAxis)??o;return to({crossAxis:c,mainAxis:a,alignmentAxis:t.shift})})}function ob(e){if(!e.flip)return;const t=co(e.boundary);return jm({...t?{boundary:t}:void 0,padding:e.overflowPadding,fallbackPlacements:e.flip===!0?void 0:e.flip})}function lb(e){if(!e.slide&&!e.overlap)return;const t=co(e.boundary);return $m({...t?{boundary:t}:void 0,mainAxis:e.slide,crossAxis:e.overlap,padding:e.overflowPadding,limiter:Km()})}function cb(e){return qm({padding:e.overflowPadding,apply({elements:t,rects:n,availableHeight:r,availableWidth:i}){const a=t.floating,s=Math.round(n.reference.width),o=Math.round(n.reference.height);i=Math.floor(i),r=Math.floor(r),a.style.setProperty("--reference-width",`${s}px`),a.style.setProperty("--reference-height",`${o}px`),a.style.setProperty("--available-width",`${i}px`),a.style.setProperty("--available-height",`${r}px`)}})}function ub(e){if(e.hideWhenDetached)return Gm({strategy:"referenceHidden",boundary:co(e.boundary)??"clippingAncestors"})}function db(e){return e?e===!0?{ancestorResize:!0,ancestorScroll:!0,elementResize:!0,layoutShift:!0}:e:{}}function fb(e,t,n={}){const r=Jm(e,n.getAnchorRect);if(!t||!r)return;const i=Object.assign({},ib,n),a=t.querySelector("[data-part=arrow]"),s=[sb(a,i),ob(i),lb(i),ab(a,t.ownerDocument,i),nb(a),eb({gutter:i.gutter,offset:i.offset,overlap:i.overlap},a),cb(i),ub(i),tb],{placement:o,strategy:c,onComplete:u,onPositioned:d}=i,g=async()=>{var E;if(!r||!t)return;const f=await Xm(r,t,{placement:o,middleware:s,strategy:c});u==null||u(f),d==null||d({placed:!0});const m=ct(t),h=Dl(m,f.x),y=Dl(m,f.y);t.style.setProperty("--x",`${h}px`),t.style.setProperty("--y",`${y}px`),i.hideWhenDetached&&(((E=f.middlewareData.hide)==null?void 0:E.referenceHidden)?(t.style.setProperty("visibility","hidden"),t.style.setProperty("pointer-events","none")):(t.style.removeProperty("visibility"),t.style.removeProperty("pointer-events")));const _=t.firstElementChild;if(_){const k=Hc(_);t.style.setProperty("--z-index",k.zIndex)}},p=async()=>{n.updatePosition?(await n.updatePosition({updatePosition:g,floatingElement:t}),d==null||d({placed:!0})):await g()},l=db(i.listeners),v=i.listeners?Wm(r,t,p,l):Gv;return p(),()=>{v==null||v(),d==null||d({placed:!1})}}function Nl(e,t,n={}){const{defer:r,...i}=n,a=r?Nt:o=>o(),s=[];return s.push(a(()=>{const o=typeof e=="function"?e():e,c=typeof t=="function"?t():t;s.push(fb(o,c,i))})),()=>{s.forEach(o=>o==null?void 0:o())}}var hb={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function vb(e={}){const{placement:t,sameWidth:n,fitViewport:r,strategy:i="absolute"}=e;return{arrow:{position:"absolute",width:fn.arrowSize.reference,height:fn.arrowSize.reference,[fn.arrowSizeHalf.variable]:`calc(${fn.arrowSize.reference} / 2)`,[fn.arrowOffset.variable]:`calc(${fn.arrowSizeHalf.reference} * -1)`},arrowTip:{transform:t?hb[t.split("-")[0]]:void 0,background:fn.arrowBg.reference,top:"0",left:"0",width:"100%",height:"100%",position:"absolute",zIndex:"inherit"},floating:{position:i,isolation:"isolate",minWidth:n?void 0:"max-content",width:n?"var(--reference-width)":void 0,maxWidth:r?"var(--available-width)":void 0,maxHeight:r?"var(--available-height)":void 0,pointerEvents:t?void 0:"none",top:"0px",left:"0px",transform:t?"translate3d(var(--x), var(--y), 0)":"translate3d(0, -100vh, 0)",zIndex:"var(--z-index)"}}}var fr=new WeakMap,Ti=new WeakMap,Ai={},Xa=0,Mu=e=>e&&(e.host||Mu(e.parentNode)),pb=(e,t)=>t.map(n=>{if(e.contains(n))return n;const r=Mu(n);return r&&e.contains(r)?r:(console.error("[zag-js > ariaHidden] target",n,"in not contained inside",e,". Doing nothing"),null)}).filter(n=>!!n),gb=new Set(["script","output","status","next-route-announcer"]),mb=e=>gb.has(e.localName)||e.role==="status"||e.hasAttribute("aria-live")?!0:e.matches("[data-live-announcer]"),bb=(e,t)=>{const{parentNode:n,markerName:r,controlAttribute:i,followControlledElements:a=!0}=t,s=pb(n,Array.isArray(e)?e:[e]);Ai[r]||(Ai[r]=new WeakMap);const o=Ai[r],c=[],u=new Set,d=new Set(s),g=l=>{!l||u.has(l)||(u.add(l),g(l.parentNode))};s.forEach(l=>{g(l),a&&tt(l)&&qc(l,v=>{g(v)})});const p=l=>{!l||d.has(l)||Array.prototype.forEach.call(l.children,v=>{if(u.has(v))p(v);else try{if(mb(v))return;const m=v.getAttribute(i)==="true",h=(fr.get(v)||0)+1,y=(o.get(v)||0)+1;fr.set(v,h),o.set(v,y),c.push(v),h===1&&m&&Ti.set(v,!0),y===1&&v.setAttribute(r,""),m||v.setAttribute(i,"true")}catch(f){console.error("[zag-js > ariaHidden] cannot operate on ",v,f)}})};return p(n),u.clear(),Xa++,()=>{c.forEach(l=>{const v=fr.get(l)-1,f=o.get(l)-1;fr.set(l,v),o.set(l,f),v||(Ti.has(l)||l.removeAttribute(i),Ti.delete(l)),f||l.removeAttribute(r)}),Xa--,Xa||(fr=new WeakMap,fr=new WeakMap,Ti=new WeakMap,Ai={})}},yb=e=>(Array.isArray(e)?e[0]:e).ownerDocument.body,wb=(e,t=yb(e),n="data-aria-hidden",r=!0)=>{if(t)return bb(e,{parentNode:t,markerName:n,controlAttribute:"aria-hidden",followControlledElements:r})},_b=e=>{const t=requestAnimationFrame(()=>e());return()=>cancelAnimationFrame(t)};function xb(e,t={}){const{defer:n=!0}=t,r=n?_b:a=>a(),i=[];return i.push(r(()=>{const s=(typeof e=="function"?e():e).filter(Boolean);s.length!==0&&i.push(wb(s))})),()=>{i.forEach(a=>a==null?void 0:a())}}var kb=Object.defineProperty,Eb=(e,t,n)=>t in e?kb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ke=(e,t,n)=>Eb(e,typeof t!="symbol"?t+"":t,n),Fl={activateTrap(e,t){if(e.length>0){const r=e[e.length-1];r!==t&&r.pause()}const n=e.indexOf(t);n===-1||e.splice(n,1),e.push(t)},deactivateTrap(e,t){const n=e.indexOf(t);n!==-1&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},Cb=[],Sb=class{constructor(e,t){Ke(this,"trapStack"),Ke(this,"config"),Ke(this,"doc"),Ke(this,"state",{containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0}),Ke(this,"portalContainers",new Set),Ke(this,"listenerCleanups",[]),Ke(this,"handleFocus",r=>{const i=Lt(r),a=this.findContainerIndex(i,r)>=0;if(a||oa(i))a&&(this.state.mostRecentlyFocusedNode=i);else{r.stopImmediatePropagation();let s,o=!0;if(this.state.mostRecentlyFocusedNode)if(Hr(this.state.mostRecentlyFocusedNode)>0){const c=this.findContainerIndex(this.state.mostRecentlyFocusedNode),{tabbableNodes:u}=this.state.containerGroups[c];if(u.length>0){const d=u.findIndex(g=>g===this.state.mostRecentlyFocusedNode);d>=0&&(this.config.isKeyForward(this.state.recentNavEvent)?d+1<u.length&&(s=u[d+1],o=!1):d-1>=0&&(s=u[d-1],o=!1))}}else this.state.containerGroups.some(c=>c.tabbableNodes.some(u=>Hr(u)>0))||(o=!1);else o=!1;o&&(s=this.findNextNavNode({target:this.state.mostRecentlyFocusedNode,isBackward:this.config.isKeyBackward(this.state.recentNavEvent)})),s?this.tryFocus(s):this.tryFocus(this.state.mostRecentlyFocusedNode||this.getInitialFocusNode())}this.state.recentNavEvent=void 0}),Ke(this,"handlePointerDown",r=>{const i=Lt(r);if(!(this.findContainerIndex(i,r)>=0)){if(qr(this.config.clickOutsideDeactivates,r)){this.deactivate({returnFocus:this.config.returnFocusOnDeactivate});return}qr(this.config.allowOutsideClick,r)||r.preventDefault()}}),Ke(this,"handleClick",r=>{const i=Lt(r);this.findContainerIndex(i,r)>=0||qr(this.config.clickOutsideDeactivates,r)||qr(this.config.allowOutsideClick,r)||(r.preventDefault(),r.stopImmediatePropagation())}),Ke(this,"handleTabKey",r=>{if(this.config.isKeyForward(r)||this.config.isKeyBackward(r)){this.state.recentNavEvent=r;const i=this.config.isKeyBackward(r),a=this.findNextNavNode({event:r,isBackward:i});if(!a)return;jr(r)&&r.preventDefault(),this.tryFocus(a)}}),Ke(this,"handleEscapeKey",r=>{Tb(r)&&qr(this.config.escapeDeactivates,r)!==!1&&(r.preventDefault(),this.deactivate())}),Ke(this,"_mutationObserver"),Ke(this,"setupMutationObserver",()=>{const r=this.doc.defaultView||window;this._mutationObserver=new r.MutationObserver(i=>{i.some(o=>Array.from(o.removedNodes).some(u=>u===this.state.mostRecentlyFocusedNode))&&this.tryFocus(this.getInitialFocusNode()),i.some(o=>o.type==="attributes"&&(o.attributeName==="aria-controls"||o.attributeName==="aria-expanded")?!0:o.type==="childList"&&o.addedNodes.length>0?Array.from(o.addedNodes).some(c=>{if(c.nodeType!==Node.ELEMENT_NODE)return!1;const u=c;return Mh(u)?!0:u.id&&!this.state.containers.some(d=>d.contains(u))?Vh(u):!1}):!1)&&this.state.active&&!this.state.paused&&(this.updateTabbableNodes(),this.updatePortalContainers())})}),Ke(this,"updateObservedNodes",()=>{var r;(r=this._mutationObserver)==null||r.disconnect(),this.state.active&&!this.state.paused&&(this.state.containers.map(i=>{var a;(a=this._mutationObserver)==null||a.observe(i,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["aria-controls","aria-expanded"]})}),this.portalContainers.forEach(i=>{this.observePortalContainer(i)}))}),Ke(this,"getInitialFocusNode",()=>{let r=this.getNodeForOption("initialFocus",{hasFallback:!0});if(r===!1)return!1;if(r===void 0||r&&!gn(r)){const i=Cr(this.doc);if(i&&this.findContainerIndex(i)>=0)r=i;else{const a=this.state.tabbableGroups[0];r=a&&a.firstTabbableNode||this.getNodeForOption("fallbackFocus")}}else r===null&&(r=this.getNodeForOption("fallbackFocus"));if(!r)throw new Error("Your focus-trap needs to have at least one focusable element");return r.isConnected||(r=this.getNodeForOption("fallbackFocus")),r}),Ke(this,"tryFocus",r=>{if(r!==!1&&r!==Cr(this.doc)){if(!r||!r.focus){this.tryFocus(this.getInitialFocusNode());return}r.focus({preventScroll:!!this.config.preventScroll}),this.state.mostRecentlyFocusedNode=r,Ab(r)&&r.select()}}),Ke(this,"deactivate",r=>{if(!this.state.active)return this;const i={onDeactivate:this.config.onDeactivate,onPostDeactivate:this.config.onPostDeactivate,checkCanReturnFocus:this.config.checkCanReturnFocus,...r};clearTimeout(this.state.delayInitialFocusTimer),this.state.delayInitialFocusTimer=void 0,this.removeListeners(),this.state.active=!1,this.state.paused=!1,this.updateObservedNodes(),Fl.deactivateTrap(this.trapStack,this),this.portalContainers.clear();const a=this.getOption(i,"onDeactivate"),s=this.getOption(i,"onPostDeactivate"),o=this.getOption(i,"checkCanReturnFocus"),c=this.getOption(i,"returnFocus","returnFocusOnDeactivate");a==null||a();const u=()=>{Bl(()=>{if(c){const d=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);this.tryFocus(d)}s==null||s()})};if(c&&o){const d=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);return o(d).then(u,u),this}return u(),this}),Ke(this,"pause",r=>{if(this.state.paused||!this.state.active)return this;const i=this.getOption(r,"onPause"),a=this.getOption(r,"onPostPause");return this.state.paused=!0,i==null||i(),this.removeListeners(),this.updateObservedNodes(),a==null||a(),this}),Ke(this,"unpause",r=>{if(!this.state.paused||!this.state.active)return this;const i=this.getOption(r,"onUnpause"),a=this.getOption(r,"onPostUnpause");return this.state.paused=!1,i==null||i(),this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),a==null||a(),this}),Ke(this,"updateContainerElements",r=>(this.state.containers=Array.isArray(r)?r.filter(Boolean):[r].filter(Boolean),this.state.active&&this.updateTabbableNodes(),this.updateObservedNodes(),this)),Ke(this,"getReturnFocusNode",r=>{const i=this.getNodeForOption("setReturnFocus",{params:[r]});return i||(i===!1?!1:r)}),Ke(this,"getOption",(r,i,a)=>r&&r[i]!==void 0?r[i]:this.config[a||i]),Ke(this,"getNodeForOption",(r,{hasFallback:i=!1,params:a=[]}={})=>{let s=this.config[r];if(typeof s=="function"&&(s=s(...a)),s===!0&&(s=void 0),!s){if(s===void 0||s===!1)return s;throw new Error(`\`${r}\` was specified but was not a node, or did not return a node`)}let o=s;if(typeof s=="string"){try{o=this.doc.querySelector(s)}catch(c){throw new Error(`\`${r}\` appears to be an invalid selector; error="${c.message}"`)}if(!o&&!i)throw new Error(`\`${r}\` as selector refers to no known node`)}return o}),Ke(this,"findNextNavNode",r=>{const{event:i,isBackward:a=!1}=r,s=r.target||Lt(i);this.updateTabbableNodes();let o=null;if(this.state.tabbableGroups.length>0){const c=this.findContainerIndex(s,i),u=c>=0?this.state.containerGroups[c]:void 0;if(c<0)a?o=this.state.tabbableGroups[this.state.tabbableGroups.length-1].lastTabbableNode:o=this.state.tabbableGroups[0].firstTabbableNode;else if(a){let d=this.state.tabbableGroups.findIndex(({firstTabbableNode:g})=>s===g);if(d<0&&((u==null?void 0:u.container)===s||gn(s)&&!jn(s)&&!(u!=null&&u.nextTabbableNode(s,!1)))&&(d=c),d>=0){const g=d===0?this.state.tabbableGroups.length-1:d-1,p=this.state.tabbableGroups[g];o=Hr(s)>=0?p.lastTabbableNode:p.lastDomTabbableNode}else jr(i)||(o=u==null?void 0:u.nextTabbableNode(s,!1))}else{let d=this.state.tabbableGroups.findIndex(({lastTabbableNode:g})=>s===g);if(d<0&&((u==null?void 0:u.container)===s||gn(s)&&!jn(s)&&!(u!=null&&u.nextTabbableNode(s)))&&(d=c),d>=0){const g=d===this.state.tabbableGroups.length-1?0:d+1,p=this.state.tabbableGroups[g];o=Hr(s)>=0?p.firstTabbableNode:p.firstDomTabbableNode}else jr(i)||(o=u==null?void 0:u.nextTabbableNode(s))}}else o=this.getNodeForOption("fallbackFocus");return o}),this.trapStack=t.trapStack||Cb;const n={returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,followControlledElements:!0,isKeyForward(r){return jr(r)&&!r.shiftKey},isKeyBackward(r){return jr(r)&&r.shiftKey},...t};this.doc=n.document||Bt(Array.isArray(e)?e[0]:e),this.config=n,this.updateContainerElements(e),this.setupMutationObserver()}addPortalContainer(e){const t=e.parentElement;t&&!this.portalContainers.has(t)&&(this.portalContainers.add(t),this.state.active&&!this.state.paused&&this.observePortalContainer(t))}observePortalContainer(e){var t;(t=this._mutationObserver)==null||t.observe(e,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["aria-controls","aria-expanded"]})}updatePortalContainers(){this.config.followControlledElements&&this.state.containers.forEach(e=>{Fh(e).forEach(n=>{this.addPortalContainer(n)})})}get active(){return this.state.active}get paused(){return this.state.paused}findContainerIndex(e,t){const n=typeof(t==null?void 0:t.composedPath)=="function"?t.composedPath():void 0;return this.state.containerGroups.findIndex(({container:r,tabbableNodes:i})=>r.contains(e)||(n==null?void 0:n.includes(r))||i.find(a=>a===e)||this.isControlledElement(r,e))}isControlledElement(e,t){return this.config.followControlledElements?jc(e,t):!1}updateTabbableNodes(){if(this.state.containerGroups=this.state.containers.map(e=>{const t=pi(e,{getShadowRoot:this.config.getShadowRoot}),n=eu(e,{getShadowRoot:this.config.getShadowRoot}),r=t[0],i=t[t.length-1],a=r,s=i;let o=!1;for(let u=0;u<t.length;u++)if(Hr(t[u])>0){o=!0;break}function c(u,d=!0){const g=t.indexOf(u);if(g>=0)return t[g+(d?1:-1)];const p=n.indexOf(u);if(!(p<0)){if(d){for(let l=p+1;l<n.length;l++)if(jn(n[l]))return n[l]}else for(let l=p-1;l>=0;l--)if(jn(n[l]))return n[l]}}return{container:e,tabbableNodes:t,focusableNodes:n,posTabIndexesFound:o,firstTabbableNode:r,lastTabbableNode:i,firstDomTabbableNode:a,lastDomTabbableNode:s,nextTabbableNode:c}}),this.state.tabbableGroups=this.state.containerGroups.filter(e=>e.tabbableNodes.length>0),this.state.tabbableGroups.length<=0&&!this.getNodeForOption("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(this.state.containerGroups.find(e=>e.posTabIndexesFound)&&this.state.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")}addListeners(){if(this.state.active)return Fl.activateTrap(this.trapStack,this),this.state.delayInitialFocusTimer=this.config.delayInitialFocus?Bl(()=>{this.tryFocus(this.getInitialFocusNode())}):this.tryFocus(this.getInitialFocusNode()),this.listenerCleanups.push(Xe(this.doc,"focusin",this.handleFocus,!0),Xe(this.doc,"mousedown",this.handlePointerDown,{capture:!0,passive:!1}),Xe(this.doc,"touchstart",this.handlePointerDown,{capture:!0,passive:!1}),Xe(this.doc,"click",this.handleClick,{capture:!0,passive:!1}),Xe(this.doc,"keydown",this.handleTabKey,{capture:!0,passive:!1}),Xe(this.doc,"keydown",this.handleEscapeKey)),this}removeListeners(){if(this.state.active)return this.listenerCleanups.forEach(e=>e()),this.listenerCleanups=[],this}activate(e){if(this.state.active)return this;const t=this.getOption(e,"onActivate"),n=this.getOption(e,"onPostActivate"),r=this.getOption(e,"checkCanFocusTrap");r||this.updateTabbableNodes(),this.state.active=!0,this.state.paused=!1,this.state.nodeFocusedBeforeActivation=Cr(this.doc),t==null||t();const i=()=>{r&&this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),n==null||n()};return r?(r(this.state.containers.concat()).then(i,i),this):(i(),this)}},jr=e=>e.key==="Tab",qr=(e,...t)=>typeof e=="function"?e(...t):e,Tb=e=>!e.isComposing&&e.key==="Escape",Bl=e=>setTimeout(e,0),Ab=e=>e.localName==="input"&&"select"in e&&typeof e.select=="function";function Ib(e,t={}){let n;const r=Nt(()=>{const i=typeof e=="function"?e():e;if(i){n=new Sb(i,{escapeDeactivates:!1,allowOutsideClick:!0,preventScroll:!0,returnFocusOnDeactivate:!0,delayInitialFocus:!1,fallbackFocus:i,...t,document:Bt(i)});try{n.activate()}catch{}}});return function(){n==null||n.deactivate(),r()}}var Ya="data-scroll-lock";function Ob(e){const t=e.getBoundingClientRect().left;return Math.round(t)+e.scrollLeft?"paddingLeft":"paddingRight"}function zl(e){const t=Hc(e),n=t==null?void 0:t.scrollbarGutter;return n==="stable"||(n==null?void 0:n.startsWith("stable "))===!0}function Rb(e){const t=e??document,n=t.defaultView??window,{documentElement:r,body:i}=t;if(i.hasAttribute(Ya))return;const s=zl(r)||zl(i),o=n.innerWidth-r.clientWidth;i.setAttribute(Ya,"");const c=()=>Ov(r,"--scrollbar-width",`${o}px`),u=Ob(r),d=()=>{const l={overflow:"hidden"};return!s&&o>0&&(l[u]=`${o}px`),xs(i,l)},g=()=>{const{scrollX:l,scrollY:v,visualViewport:f}=n,m=(f==null?void 0:f.offsetLeft)??0,h=(f==null?void 0:f.offsetTop)??0,y={position:"fixed",overflow:"hidden",top:`${-(v-Math.floor(h))}px`,left:`${-(l-Math.floor(m))}px`,right:"0"};!s&&o>0&&(y[u]=`${o}px`);const _=xs(i,y);return()=>{_==null||_(),n.scrollTo({left:l,top:v,behavior:"instant"})}},p=[c(),ca()?g():d()];return()=>{p.forEach(l=>l==null?void 0:l()),i.removeAttribute(Ya)}}var Pb=Ln("popover").parts("arrow","arrowTip","anchor","trigger","indicator","positioner","content","title","description","closeTrigger"),Gt=Pb.build(),Vu=e=>{var t;return((t=e.ids)==null?void 0:t.anchor)??`popover:${e.id}:anchor`},Uu=e=>{var t;return((t=e.ids)==null?void 0:t.trigger)??`popover:${e.id}:trigger`},Fs=e=>{var t;return((t=e.ids)==null?void 0:t.content)??`popover:${e.id}:content`},Wu=e=>{var t;return((t=e.ids)==null?void 0:t.positioner)??`popover:${e.id}:popper`},Lb=e=>{var t;return((t=e.ids)==null?void 0:t.arrow)??`popover:${e.id}:arrow`},Bs=e=>{var t;return((t=e.ids)==null?void 0:t.title)??`popover:${e.id}:title`},zs=e=>{var t;return((t=e.ids)==null?void 0:t.description)??`popover:${e.id}:desc`},Db=e=>{var t;return((t=e.ids)==null?void 0:t.closeTrigger)??`popover:${e.id}:close`},Ml=e=>e.getById(Vu(e)),hr=e=>e.getById(Uu(e)),vr=e=>e.getById(Fs(e)),Vl=e=>e.getById(Wu(e)),Nb=e=>e.getById(Bs(e)),Fb=e=>e.getById(zs(e));function Bb(e,t){const{state:n,context:r,send:i,computed:a,prop:s,scope:o}=e,c=n.matches("open"),u=r.get("currentPlacement"),d=a("currentPortalled"),g=r.get("renderedElements"),p=vb({...s("positioning"),placement:u});return{portalled:d,open:c,setOpen(l){n.matches("open")!==l&&i({type:l?"OPEN":"CLOSE"})},reposition(l={}){i({type:"POSITIONING.SET",options:l})},getArrowProps(){return t.element({id:Lb(o),...Gt.arrow.attrs,dir:s("dir"),style:p.arrow})},getArrowTipProps(){return t.element({...Gt.arrowTip.attrs,dir:s("dir"),style:p.arrowTip})},getAnchorProps(){return t.element({...Gt.anchor.attrs,dir:s("dir"),id:Vu(o)})},getTriggerProps(){return t.button({...Gt.trigger.attrs,dir:s("dir"),type:"button","data-placement":u,id:Uu(o),"aria-haspopup":"dialog","aria-expanded":c,"data-state":c?"open":"closed","aria-controls":Fs(o),onPointerDown(l){Vi(l)&&Ys()&&l.currentTarget.focus()},onClick(l){l.defaultPrevented||i({type:"TOGGLE"})},onBlur(l){i({type:"TRIGGER_BLUR",target:l.relatedTarget})}})},getIndicatorProps(){return t.element({...Gt.indicator.attrs,dir:s("dir"),"data-state":c?"open":"closed"})},getPositionerProps(){return t.element({id:Wu(o),...Gt.positioner.attrs,dir:s("dir"),style:p.floating})},getContentProps(){return t.element({...Gt.content.attrs,dir:s("dir"),id:Fs(o),tabIndex:-1,role:"dialog","aria-modal":Uc(s("modal")),hidden:!c,"data-state":c?"open":"closed","data-expanded":Se(c),"aria-labelledby":g.title?Bs(o):void 0,"aria-describedby":g.description?zs(o):void 0,"data-placement":u})},getTitleProps(){return t.element({...Gt.title.attrs,id:Bs(o),dir:s("dir")})},getDescriptionProps(){return t.element({...Gt.description.attrs,id:zs(o),dir:s("dir")})},getCloseTriggerProps(){return t.button({...Gt.closeTrigger.attrs,dir:s("dir"),id:Db(o),type:"button","aria-label":"close",onClick(l){l.defaultPrevented||(l.stopPropagation(),i({type:"CLOSE"}))}})}}}var zb={props({props:e}){return{closeOnInteractOutside:!0,closeOnEscape:!0,autoFocus:!0,modal:!1,portalled:!0,...e,positioning:{placement:"bottom",...e.positioning}}},initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"closed"},context({bindable:e}){return{currentPlacement:e(()=>({defaultValue:void 0})),renderedElements:e(()=>({defaultValue:{title:!0,description:!0}}))}},computed:{currentPortalled:({prop:e})=>!!e("modal")||!!e("portalled")},watch({track:e,prop:t,action:n}){e([()=>t("open")],()=>{n(["toggleVisibility"])})},entry:["checkRenderedElements"],states:{closed:{on:{"CONTROLLED.OPEN":{target:"open",actions:["setInitialFocus"]},TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}]}},open:{effects:["trapFocus","preventScroll","hideContentBelow","trackPositioning","trackDismissableElement","proxyTabFocus"],on:{"CONTROLLED.CLOSE":{target:"closed",actions:["setFinalFocus"]},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose","setFinalFocus"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"POSITIONING.SET":{actions:["reposition"]}}}},implementations:{guards:{isOpenControlled:({prop:e})=>e("open")!=null},effects:{trackPositioning({context:e,prop:t,scope:n}){e.set("currentPlacement",t("positioning").placement);const r=Ml(n)??hr(n);return Nl(r,()=>Vl(n),{...t("positioning"),defer:!0,onComplete(a){e.set("currentPlacement",a.placement)}})},trackDismissableElement({send:e,prop:t,scope:n}){const r=()=>vr(n);let i=!0;return Xg(r,{type:"popover",pointerBlocking:t("modal"),exclude:hr(n),defer:!0,onEscapeKeyDown(a){var s;(s=t("onEscapeKeyDown"))==null||s(a),!t("closeOnEscape")&&a.preventDefault()},onInteractOutside(a){var s;(s=t("onInteractOutside"))==null||s(a),!a.defaultPrevented&&(i=!(a.detail.focusable||a.detail.contextmenu),t("closeOnInteractOutside")||a.preventDefault())},onPointerDownOutside:t("onPointerDownOutside"),onFocusOutside:t("onFocusOutside"),persistentElements:t("persistentElements"),onRequestDismiss:t("onRequestDismiss"),onDismiss(){e({type:"CLOSE",src:"interact-outside",restoreFocus:i})}})},proxyTabFocus({prop:e,scope:t}){return e("modal")||!e("portalled")?void 0:Iv(()=>vr(t),{triggerElement:hr(t),defer:!0,getShadowRoot:!0,onFocus(r){r.focus({preventScroll:!0})}})},hideContentBelow({prop:e,scope:t}){return e("modal")?xb(()=>[vr(t),hr(t)],{defer:!0}):void 0},preventScroll({prop:e,scope:t}){if(e("modal"))return Rb(t.getDoc())},trapFocus({prop:e,scope:t}){return e("modal")?Ib(()=>vr(t),{initialFocus:()=>el({root:vr(t),getInitialEl:e("initialFocusEl"),enabled:e("autoFocus")}),getShadowRoot:!0}):void 0}},actions:{reposition({event:e,prop:t,scope:n,context:r}){const i=Ml(n)??hr(n);Nl(i,()=>Vl(n),{...t("positioning"),...e.options,defer:!0,listeners:!1,onComplete(s){r.set("currentPlacement",s.placement)}})},checkRenderedElements({context:e,scope:t}){Nt(()=>{Object.assign(e.get("renderedElements"),{title:!!Nb(t),description:!!Fb(t)})})},setInitialFocus({prop:e,scope:t}){e("modal")||Nt(()=>{const n=el({root:vr(t),getInitialEl:e("initialFocusEl"),enabled:e("autoFocus")});n==null||n.focus({preventScroll:!0})})},setFinalFocus({event:e,scope:t}){var r;const n=e.restoreFocus??((r=e.previousEvent)==null?void 0:r.restoreFocus);n!=null&&!n||Nt(()=>{const i=hr(t);i==null||i.focus({preventScroll:!0})})},invokeOnOpen({prop:e,flush:t}){t(()=>{var n;(n=e("onOpenChange"))==null||n({open:!0})})},invokeOnClose({prop:e,flush:t}){t(()=>{var n;(n=e("onOpenChange"))==null||n({open:!1})})},toggleVisibility({event:e,send:t,prop:n}){t({type:n("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:e})}}}};or()(["autoFocus","closeOnEscape","closeOnInteractOutside","dir","getRootNode","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","onRequestDismiss","defaultOpen","open","persistentElements","portalled","positioning"]);var Mb=de("<button><!></button>"),Vb=de("<div><div></div></div>"),Ub=de("<div><!> <div><!></div></div>"),Wb=de('<span data-testid="popover"><!> <div><!></div></span>');function Ur(e,t){const n=ta();ye(t,!0);const r=$(t,"arrow",3,!1),i=$(t,"zIndex",3,"auto"),a=$(t,"base",3,""),s=$(t,"classes",3,""),o=$(t,"triggerBase",3,""),c=$(t,"triggerBackground",3,""),u=$(t,"triggerClasses",3,""),d=$(t,"triggerAriaLabel",3,""),g=$(t,"positionerBase",3,""),p=$(t,"positionerClasses",3,""),l=$(t,"contentBase",3,""),v=$(t,"contentBackground",3,""),f=$(t,"contentClasses",3,""),m=$(t,"arrowBase",3,""),h=$(t,"arrowBackground",3,"!bg-surface-200 dark:!bg-surface-800"),y=$(t,"arrowClasses",3,""),_=Be(t,["$$slots","$$events","$$legacy","arrow","zIndex","base","classes","triggerBase","triggerBackground","triggerClasses","triggerAriaLabel","positionerBase","positionerClasses","contentBase","contentBackground","contentClasses","arrowBase","arrowBackground","arrowClasses","trigger","content","onclick"]),E=va(zb,()=>({id:n,..._})),k=ce(()=>Bb(E,ha)),T=ce(()=>yp(x(k).getTriggerProps(),{onclick:t.onclick}));var I=Wb(),P=j(I);{var O=L=>{var b=Mb();Ge(b,()=>({...x(T),class:`${o()??""} ${c()??""} ${u()??""}`,type:"button","aria-label":d()}));var R=j(b);Ne(R,()=>t.trigger),H(b),J(L,b)};De(P,L=>{t.trigger&&L(O)})}var D=K(P,2);Ge(D,L=>({...L,class:`${g()??""} ${p()??""}`}),[()=>x(k).getPositionerProps()]);var N=j(D);{var C=L=>{var b=Ub();Ge(b,q=>({...q,style:`z-index: ${i()??""};`}),[()=>x(k).getContentProps()]);var R=j(b);{var V=q=>{var Q=Vb();Ge(Q,B=>({...B}),[()=>x(k).getArrowProps()]);var M=j(Q);Ge(M,B=>({...B,class:`${m()??""} ${h()??""} ${y()??""}`}),[()=>x(k).getArrowTipProps()]),H(Q),J(q,Q)};De(R,q=>{r()&&q(V)})}var U=K(R,2),Y=j(U);Ne(Y,()=>t.content??Fe),H(U),H(b),Oe(()=>lt(U,1,`${l()??""} ${v()??""} ${f()??""}`)),Kd(3,b,()=>Ep,()=>({duration:100})),J(L,b)};De(N,L=>{x(k).open&&L(C)})}H(D),$d(D,(L,b)=>qa==null?void 0:qa(L,b),()=>({disabled:!x(k).portalled})),H(I),Oe(()=>lt(I,1,`${a()??""} ${s()??""}`)),J(e,I),we()}var Ja={exports:{}},Ul;function Hb(){return Ul||(Ul=1,(function(e,t){(function(n){e.exports=n()})(function(){return(function n(r,i,a){function s(u,d){if(!i[u]){if(!r[u]){var g=typeof Pn=="function"&&Pn;if(!d&&g)return g(u,!0);if(o)return o(u,!0);var p=new Error("Cannot find module '"+u+"'");throw p.code="MODULE_NOT_FOUND",p}var l=i[u]={exports:{}};r[u][0].call(l.exports,function(v){var f=r[u][1][v];return s(f||v)},l,l.exports,n,r,i,a)}return i[u].exports}for(var o=typeof Pn=="function"&&Pn,c=0;c<a.length;c++)s(a[c]);return s})({1:[function(n,r,i){function a(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}r.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._maxListeners=void 0,a.defaultMaxListeners=10,a.prototype.setMaxListeners=function(d){if(!o(d)||d<0||isNaN(d))throw TypeError("n must be a positive number");return this._maxListeners=d,this},a.prototype.emit=function(d){var g,p,l,v,f,m;if(this._events||(this._events={}),d==="error"&&(!this._events.error||c(this._events.error)&&!this._events.error.length)){if(g=arguments[1],g instanceof Error)throw g;var h=new Error('Uncaught, unspecified "error" event. ('+g+")");throw h.context=g,h}if(p=this._events[d],u(p))return!1;if(s(p))switch(arguments.length){case 1:p.call(this);break;case 2:p.call(this,arguments[1]);break;case 3:p.call(this,arguments[1],arguments[2]);break;default:v=Array.prototype.slice.call(arguments,1),p.apply(this,v)}else if(c(p))for(v=Array.prototype.slice.call(arguments,1),m=p.slice(),l=m.length,f=0;f<l;f++)m[f].apply(this,v);return!0},a.prototype.addListener=function(d,g){var p;if(!s(g))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",d,s(g.listener)?g.listener:g),this._events[d]?c(this._events[d])?this._events[d].push(g):this._events[d]=[this._events[d],g]:this._events[d]=g,c(this._events[d])&&!this._events[d].warned&&(u(this._maxListeners)?p=a.defaultMaxListeners:p=this._maxListeners,p&&p>0&&this._events[d].length>p&&(this._events[d].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[d].length),typeof console.trace=="function"&&console.trace())),this},a.prototype.on=a.prototype.addListener,a.prototype.once=function(d,g){if(!s(g))throw TypeError("listener must be a function");var p=!1;function l(){this.removeListener(d,l),p||(p=!0,g.apply(this,arguments))}return l.listener=g,this.on(d,l),this},a.prototype.removeListener=function(d,g){var p,l,v,f;if(!s(g))throw TypeError("listener must be a function");if(!this._events||!this._events[d])return this;if(p=this._events[d],v=p.length,l=-1,p===g||s(p.listener)&&p.listener===g)delete this._events[d],this._events.removeListener&&this.emit("removeListener",d,g);else if(c(p)){for(f=v;f-- >0;)if(p[f]===g||p[f].listener&&p[f].listener===g){l=f;break}if(l<0)return this;p.length===1?(p.length=0,delete this._events[d]):p.splice(l,1),this._events.removeListener&&this.emit("removeListener",d,g)}return this},a.prototype.removeAllListeners=function(d){var g,p;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[d]&&delete this._events[d],this;if(arguments.length===0){for(g in this._events)g!=="removeListener"&&this.removeAllListeners(g);return this.removeAllListeners("removeListener"),this._events={},this}if(p=this._events[d],s(p))this.removeListener(d,p);else if(p)for(;p.length;)this.removeListener(d,p[p.length-1]);return delete this._events[d],this},a.prototype.listeners=function(d){var g;return!this._events||!this._events[d]?g=[]:s(this._events[d])?g=[this._events[d]]:g=this._events[d].slice(),g},a.prototype.listenerCount=function(d){if(this._events){var g=this._events[d];if(s(g))return 1;if(g)return g.length}return 0},a.listenerCount=function(d,g){return d.listenerCount(g)};function s(d){return typeof d=="function"}function o(d){return typeof d=="number"}function c(d){return typeof d=="object"&&d!==null}function u(d){return d===void 0}},{}],2:[function(n,r,i){var a,s,o,c,u;u=navigator.userAgent.toLowerCase(),c=navigator.platform.toLowerCase(),a=u.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0],o=a[1]==="ie"&&document.documentMode,s={name:a[1]==="version"?a[3]:a[1],version:o||parseFloat(a[1]==="opera"&&a[4]?a[4]:a[2]),platform:{name:u.match(/ip(?:ad|od|hone)/)?"ios":(u.match(/(?:webos|android)/)||c.match(/mac|win|linux/)||["other"])[0]}},s[s.name]=!0,s[s.name+parseInt(s.version,10)]=!0,s.platform[s.platform.name]=!0,r.exports=s},{}],3:[function(n,r,i){var a,s,o,c=function(p,l){for(var v in l)u.call(l,v)&&(p[v]=l[v]);function f(){this.constructor=p}return f.prototype=l.prototype,p.prototype=new f,p.__super__=l.prototype,p},u={}.hasOwnProperty,d=[].indexOf||function(p){for(var l=0,v=this.length;l<v;l++)if(l in this&&this[l]===p)return l;return-1},g=[].slice;a=n("events").EventEmitter,o=n("./browser.coffee"),s=(function(p){var l,v;c(f,p),l={workerScript:"gif.worker.js",workers:2,repeat:0,background:"#fff",quality:10,width:null,height:null,transparent:null,debug:!1,dither:!1},v={delay:500,copy:!1};function f(m){var h,y,_;this.running=!1,this.options={},this.frames=[],this.freeWorkers=[],this.activeWorkers=[],this.setOptions(m);for(y in l)_=l[y],(h=this.options)[y]==null&&(h[y]=_)}return f.prototype.setOption=function(m,h){if(this.options[m]=h,this._canvas!=null&&(m==="width"||m==="height"))return this._canvas[m]=h},f.prototype.setOptions=function(m){var h,y,_;y=[];for(h in m)u.call(m,h)&&(_=m[h],y.push(this.setOption(h,_)));return y},f.prototype.addFrame=function(m,h){var y,_;h==null&&(h={}),y={},y.transparent=this.options.transparent;for(_ in v)y[_]=h[_]||v[_];if(this.options.width==null&&this.setOption("width",m.width),this.options.height==null&&this.setOption("height",m.height),typeof ImageData<"u"&&ImageData!==null&&m instanceof ImageData)y.data=m.data;else if(typeof CanvasRenderingContext2D<"u"&&CanvasRenderingContext2D!==null&&m instanceof CanvasRenderingContext2D||typeof WebGLRenderingContext<"u"&&WebGLRenderingContext!==null&&m instanceof WebGLRenderingContext)h.copy?y.data=this.getContextData(m):y.context=m;else if(m.childNodes!=null)h.copy?y.data=this.getImageData(m):y.image=m;else throw new Error("Invalid image");return this.frames.push(y)},f.prototype.render=function(){var m,h,y;if(this.running)throw new Error("Already running");if(this.options.width==null||this.options.height==null)throw new Error("Width and height must be set prior to rendering");if(this.running=!0,this.nextFrame=0,this.finishedFrames=0,this.imageParts=(function(){var _,E,k;for(k=[],_=0,E=this.frames.length;0<=E?_<E:_>E;0<=E?++_:--_)k.push(null);return k}).call(this),h=this.spawnWorkers(),this.options.globalPalette===!0)this.renderNextFrame();else for(m=0,y=h;0<=y?m<y:m>y;0<=y?++m:--m)this.renderNextFrame();return this.emit("start"),this.emit("progress",0)},f.prototype.abort=function(){for(var m;m=this.activeWorkers.shift(),m!=null;)this.log("killing active worker"),m.terminate();return this.running=!1,this.emit("abort")},f.prototype.spawnWorkers=function(){var m,h,y;return m=Math.min(this.options.workers,this.frames.length),(function(){y=[];for(var _=h=this.freeWorkers.length;h<=m?_<m:_>m;h<=m?_++:_--)y.push(_);return y}).apply(this).forEach((function(_){return function(E){var k;return _.log("spawning worker "+E),k=new Worker(_.options.workerScript),k.onmessage=function(T){return _.activeWorkers.splice(_.activeWorkers.indexOf(k),1),_.freeWorkers.push(k),_.frameFinished(T.data)},_.freeWorkers.push(k)}})(this)),m},f.prototype.frameFinished=function(m){var h,y;if(this.log("frame "+m.index+" finished - "+this.activeWorkers.length+" active"),this.finishedFrames++,this.emit("progress",this.finishedFrames/this.frames.length),this.imageParts[m.index]=m,this.options.globalPalette===!0&&(this.options.globalPalette=m.globalPalette,this.log("global palette analyzed"),this.frames.length>2))for(h=1,y=this.freeWorkers.length;1<=y?h<y:h>y;1<=y?++h:--h)this.renderNextFrame();return d.call(this.imageParts,null)>=0?this.renderNextFrame():this.finishRendering()},f.prototype.finishRendering=function(){var m,h,y,_,E,k,T,I,P,O,D,N,C,L,b,R;for(I=0,L=this.imageParts,E=0,P=L.length;E<P;E++)h=L[E],I+=(h.data.length-1)*h.pageSize+h.cursor;for(I+=h.pageSize-h.cursor,this.log("rendering finished - filesize "+Math.round(I/1e3)+"kb"),m=new Uint8Array(I),N=0,b=this.imageParts,k=0,O=b.length;k<O;k++)for(h=b[k],R=h.data,y=T=0,D=R.length;T<D;y=++T)C=R[y],m.set(C,N),y===h.data.length-1?N+=h.cursor:N+=h.pageSize;return _=new Blob([m],{type:"image/gif"}),this.emit("finished",_,m)},f.prototype.renderNextFrame=function(){var m,h,y;if(this.freeWorkers.length===0)throw new Error("No free workers");if(!(this.nextFrame>=this.frames.length))return m=this.frames[this.nextFrame++],y=this.freeWorkers.shift(),h=this.getTask(m),this.log("starting frame "+(h.index+1)+" of "+this.frames.length),this.activeWorkers.push(y),y.postMessage(h)},f.prototype.getContextData=function(m){return m.getImageData(0,0,this.options.width,this.options.height).data},f.prototype.getImageData=function(m){var h;return this._canvas==null&&(this._canvas=document.createElement("canvas"),this._canvas.width=this.options.width,this._canvas.height=this.options.height),h=this._canvas.getContext("2d"),h.setFill=this.options.background,h.fillRect(0,0,this.options.width,this.options.height),h.drawImage(m,0,0),this.getContextData(h)},f.prototype.getTask=function(m){var h,y;if(h=this.frames.indexOf(m),y={index:h,last:h===this.frames.length-1,delay:m.delay,transparent:m.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:o.name==="chrome"},m.data!=null)y.data=m.data;else if(m.context!=null)y.data=this.getContextData(m.context);else if(m.image!=null)y.data=this.getImageData(m.image);else throw new Error("Invalid frame");return y},f.prototype.log=function(){var m;if(m=1<=arguments.length?g.call(arguments,0):[],!!this.options.debug)return console.log.apply(console,m)},f})(a),r.exports=s},{"./browser.coffee":2,events:1}]},{},[3])(3)})})(Ja)),Ja.exports}var $b=Hb();const jb=zr($b);var qb=de('<header class="flex justify-between"><p class="font-bold text-xl">歩行グラの出力</p> <button class="btn-icon hover:preset-tonal"><!></button></header> <article class="space-y-4"><p class="opacity-60">ダウンロードします</p> <div class="pt-2"><button type="button" class="w-full px-4 py-2 rounded-lg bg-gray-500 text-white hover:bg-gray-600 transition" aria-label="submit">ANI出力</button></div> <div class="pt-2"><button type="button" class="w-full px-4 py-2 rounded-lg bg-gray-500 text-white hover:bg-gray-600 transition" aria-label="submit">GIF出力</button></div> <div class="pt-2"><button type="button" class="w-full px-4 py-2 rounded-lg bg-gray-500 text-white hover:bg-gray-600 transition" aria-label="submit">ZIP出力</button></div> <div class="pt-2"><button type="button" class="w-full px-4 py-2 rounded-lg bg-blue-500 text-white hover:bg-blue-600 transition" aria-label="submit">PNG出力</button></div></article>',1);function Gb(e,t){ye(t,!0);const n=()=>Qe(Yn,"$activeIndex",i),r=()=>Qe(Fn,"$fps",i),[i,a]=rn();let s=me(!1);const o=(p,l)=>{const v=document.createElement("a");v.href=p,v.download=l,v.click()},c=()=>{const{width:p,height:l,frames:v,ways:f}=Rn,m=document.createElement("canvas");m.width=p*v,m.height=l*f;const h=m.getContext("2d",{willReadFrequently:!0});if(!h)return;h.imageSmoothingEnabled=!1;for(let _=0;_<f;_++)for(let E=0;E<v;E++){const k=Xt(E,_),T=Ut.get(k);T&&h.drawImage(T,0,0,T.width,T.height,E*p,_*l,p,l)}const y=m.toDataURL("image/png");o(y,"sprite_sheet.png")},u=()=>{const{width:p,height:l,frames:v,ways:f}=Rn,m=new Vc;for(let h=0;h<f;h++)for(let y=0;y<v;y++){const _=Xt(y,h),E=Ut.get(_);if(!E)continue;const k=document.createElement("canvas");k.width=p,k.height=l;const T=k.getContext("2d",{willReadFrequently:!0});if(!T)continue;T.imageSmoothingEnabled=!1,T.drawImage(E,0,0,E.width,E.height,0,0,p,l);const P=k.toDataURL("image/png").split(",")[1];m.file(`frame_${h+1}_${y+1}.png`,P,{base64:!0})}m.generateAsync({type:"blob"}).then(h=>{const y=URL.createObjectURL(h);o(y,"frames.zip")})},d=()=>{const{frames:p}=Rn,l=Math.floor(n()/p)*p,v=`${[...Array(3)].map(()=>yh(0,4).toString(16).padStart(2,"0")).join("")}`,f=new jb({workers:2,quality:10,width:t.width,height:t.height,workerScript:"gif.worker.js",transparent:`0x${v}`}),m=1e3/r()|0;for(let h=0;h<p;h++){const y=document.createElement("canvas");y.width=t.width,y.height=t.height;const _=y.getContext("2d",{willReadFrequently:!0});if(!_)return;_.fillStyle=`#${v}`,_.fillRect(0,0,t.width,t.height);const E=Ut.get(l+h);E&&_.drawImage(E,0,0),f.addFrame(y,{delay:m})}f.on("finished",h=>{const y=URL.createObjectURL(h);o(y,`frames_${l+1}.gif`)}),f.render()},g=async()=>{const p=await gh(Rn),l=URL.createObjectURL(p);o(l,"cursors.zip")};Ur(e,{get open(){return x(s)},onOpenChange:v=>te(s,v.open,!0),positioning:{placement:"top"},triggerBase:"btn preset-tonal",contentBase:"card bg-surface-300 p-4 space-y-4 max-w-[320px]",arrow:!0,arrowBackground:"!bg-surface-300 dark:!bg-surface-800",trigger:v=>{pt();var f=nr("出力");J(v,f)},content:v=>{var f=qb(),m=ue(f),h=K(j(m),2);h.__click=()=>{te(s,!1)};var y=j(h);Br(y,{}),H(h),H(m);var _=K(m,2),E=K(j(_),2),k=j(E);k.__click=g,H(E);var T=K(E,2),I=j(T);I.__click=d,H(T);var P=K(T,2),O=j(P);O.__click=u,H(P);var D=K(P,2),N=j(D);N.__click=c,H(D),H(_),J(v,f)},$$slots:{trigger:!0,content:!0}}),we(),a()}ft(["click"]);const Hu=e=>{const t=Bi(),{width:n,height:r,frames:i,ways:a}=Rn,s=document.createElement("canvas");s.width=Vt(Yt)?n:n*i,s.height=Vt(Yt)?r:r*a;const o=s.getContext("2d",{willReadFrequently:!0});if(!o)return;if(o.imageSmoothingEnabled=!1,Vt(Yt)){const g=e.naturalWidth,p=e.naturalHeight,l=Math.min(n/g,r/p),v=g*l,f=p*l,m=(n-v)/2,h=(r-f)/2;o.drawImage(e,m,h,v,f)}else o.drawImage(e,0,0);const{data:c}=o.getImageData(0,0,s.width,s.height),u=Vt(Yt)?1:a,d=Vt(Yt)?1:i;for(let g=0;g<u;g++)for(let p=0;p<d;p++){const l=new en("半透明"),v=new en("不透明");let f=0,m=0;const h=n*d;for(let T=0;T<r;T++)for(let I=0;I<n;I++){const P=p*n+I,D=((g*r+T)*h+P)*4,[N,C,L,b]=c.subarray(D,D+4);b&&(b===255?(Dn.value=`rgb(${N}, ${C}, ${L})`,v.drawByDot(I*t,T*t),v.used=!0):(Dn.value=`rgb(${N}, ${C}, ${L})`,l.drawByDot(I*t,T*t),l.used=!0,f+=b,m++))}v.trace(),l.trace(),v.opacity=Vt(Qn),m&&(l.opacity=Vt(Qn)*f/m/255|0);const y=Xt(p,g),_=[l.used?l:[],v,Vt(Ir)?new en("トレース台"):[]].flat();Jn.set(y,_);const E=Er();Ut.set(y,E);const k=E.toDataURL("image/png");ii.set(y,k),Ar([])}};var Zb=e=>e[Math.floor(Math.random()*e.length)],Kb=[e=>e==="i.imgur.com",e=>e.endsWith("github.io"),e=>e.endsWith("raw.githubusercontent.com"),e=>e==="cdn.jsdelivr.net",e=>e==="upload.wikimedia.org",e=>e==="images.unsplash.com",e=>e.endsWith("googleusercontent.com"),e=>e.endsWith("picsum.photos"),e=>e==="placehold.co",e=>e==="dummyimage.com"],uo=e=>{let t="";try{const r=new URL(e);if(t=r.href,r.protocol==="data:"||Kb.some(i=>i(r.hostname)))return t}catch{return""}const n=Zb([`https://api.allorigins.win/raw?url=${t}`,`https://corsproxy.io/?${t}`,`https://api.codetabs.com/v1/proxy?quest=${t}`]);return n||""},Xb=de("<option> </option>"),Yb=de('<div class="mt-4 max-h-32 overflow-auto border rounded p-2"><img alt="インポート画像" class="max-w-96 object-contain rounded border" crossorigin="anonymous"/></div>'),Jb=de('<header class="flex justify-between"><p class="font-bold text-xl">歩行グラの読み込み</p> <button class="btn-icon hover:preset-tonal"><!></button></header> <article class="space-y-4"><p class="opacity-60">先にリサイズしてください</p> <a href="https://github.com/rpgja/rpgen-walk/tree/main?tab=readme-ov-file#%E5%90%8C%E6%A2%B1%E7%B4%A0%E6%9D%90%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6--about-included-assets" target="_blank" rel="noopener noreferrer" class="text-blue-800 hover:underline">同梱素材の利用規約はこちら</a> <label class="flex flex-col"><span class="label-text font-medium">テンプレ</span> <select class="select select-bordered w-full bg-white"><option>自動入力</option><!></select></label> <div class="relative flex-1"><input name="url" type="url" placeholder="画像のURLを入力" class="input input-bordered w-full pr-8 bg-white"/> <!></div> <div><label class="label"><span class="label-text">ローカル保存ファイルから読み込む</span> <input class="input" type="file" accept="image/*,.cur,.ani"/></label></div> <!> <div class="space-y-0"><div class="flex items-center gap-4 max-w-[360px]"><div class="w-[20ch] flex justify-between font-mono text-sm tabular-nums"><span class="text-left">不透明度</span> <span class="text-right"> </span></div> <!></div> <label class="flex items-center space-x-2"><input class="checkbox" type="checkbox"/> <p>トレース台を追加する</p></label> <label class="flex items-center space-x-2"><input class="checkbox" type="checkbox"/> <p>1枚絵として読み込む</p></label></div> <div class="pt-2"><button type="button" class="btn btn-primary w-full bg-blue-500 text-white rounded hover:bg-blue-600" aria-label="submit">読み込む</button></div></article>',1);function Qb(e,t){ye(t,!0);const n=()=>Qe(Kt,"$imageUrl",s),r=()=>Qe(Qn,"$opacity",s),i=()=>Qe(Ir,"$isAddEmptyLayer",s),a=()=>Qe(Yt,"$isSimpleImport",s),[s,o]=rn();let c=$(t,"activeLayer",15),u=$(t,"initTimestamp",15),d=me(!1),g=me(void 0),p;const l=m=>{var y,_;const h=(_=(y=m.target)==null?void 0:y.files)==null?void 0:_[0];if(h){const E=new FileReader;E.onload=async()=>{const k=In(Nc,E.result);if(k.success)if(/\.ani$/i.test(h.name)){const T=await h.arrayBuffer();He(Kt,await bh(T))}else He(Kt,k.output)},E.readAsDataURL(h)}},v=async()=>{if(!n()||!x(g)||x(g).naturalWidth===0||!confirm("歩行グラを読み込みますか？（※全てのデータは失われます）"))return;t.init(),Hu(x(g));const m=Jn.get(0);m&&(Ar(m),c(m[m.length-1]),u(performance.now()))},f=[{label:"鍵山雛",url:"https://rpgen.cc/dq/sAnims/res/1920.png"},{label:"ドレミー",url:"https://rpgen.cc/dq/sAnims/res/1919.png"},{label:"八雲紫",url:"https://rpgen.cc/dq/sAnims/res/1282.png"},{label:"天子",url:"https://rpgen.cc/dq/sAnims/res/1891.png"},{label:"純狐",url:"https://rpgen.cc/dq/sAnims/res/1894.png"},{label:"ヘカーティア",url:"https://rpgen.cc/dq/sAnims/res/1884.png"},{label:"妹紅",url:"https://rpgen.cc/dq/sAnims/res/1874.png"},{label:"小鈴",url:"https://rpgen.cc/dq/sAnims/res/1526.png"},{label:"阿求",url:"https://rpgen.cc/dq/sAnims/res/1527.png"},{label:"マミゾウ",url:"https://rpgen.cc/dq/sAnims/res/1882.png"},{label:"袿姫",url:"https://rpgen.cc/dq/sAnims/res/2116.png"},{label:"残無",url:"https://rpgen.cc/dq/sAnims/res/2115.png"}];Ur(e,{get open(){return x(d)},onOpenChange:y=>te(d,y.open,!0),positioning:{placement:"top"},triggerBase:"btn preset-tonal",contentBase:"card bg-surface-300 p-4 space-y-4 max-w-[320px] w-[320px]",arrow:!0,arrowBackground:"!bg-surface-300 dark:!bg-surface-800",trigger:y=>{pt();var _=nr("読み込み");J(y,_)},content:y=>{var _=Jb(),E=ue(_),k=K(j(E),2);k.__click=()=>{te(d,!1)};var T=j(k);Br(T,{}),H(k),H(E);var I=K(E,2),P=K(j(I),4),O=K(j(P),2);O.__change=Te=>{const Ie=f.find(w=>w.label===Te.currentTarget.value);Ie&&He(Kt,Ie.url)};var D=j(O);D.value=D.__value="";var N=K(D);mt(N,17,()=>f,gt,(Te,Ie,w,G)=>{var z=Xb(),A=j(z,!0);H(z);var S={};Oe(()=>{st(A,x(Ie).label),S!==(S=x(Ie).label)&&(z.value=(z.__value=x(Ie).label)??"")}),J(Te,z)}),H(O),H(P);var C=K(P,2),L=j(C);Ze(L);var b=K(L,2);Or(b,{class:"absolute right-2 top-2.5 text-gray-400",size:16,onclick:()=>{He(Kt,"")}}),H(C);var R=K(C,2),V=j(R),U=K(j(V),2);U.__change=l,Ct(U,Te=>p=Te,()=>p),H(V),H(R);var Y=K(R,2);{var q=Te=>{var Ie=Yb(),w=j(Ie);Ct(w,G=>te(g,G),()=>x(g)),H(Ie),Oe(G=>Ve(w,"src",G),[()=>uo(n())]),J(Te,Ie)};De(Y,Te=>{n()&&Te(q)})}var Q=K(Y,2),M=j(Q),B=j(M),re=K(j(B),2),oe=j(re);H(re),H(B);var Z=K(B,2);{let Te=ce(()=>[r()]);no(Z,{get value(){return x(Te)},onValueChange:Ie=>He(Qn,Ie.value[0]),markers:[25,50,75]})}H(M);var fe=K(M,2),_e=j(fe);Ze(_e),pt(2),H(fe);var ve=K(fe,2),Ee=j(ve);Ze(Ee),pt(2),H(ve),H(Q);var ge=K(Q,2),Ae=j(ge);Ae.__click=v,H(ge),H(I),Oe(()=>st(oe,`${r()??""}%`)),vn(L,n,Te=>He(Kt,Te)),ni(_e,i,Te=>He(Ir,Te)),ni(Ee,a,Te=>He(Yt,Te)),J(y,_)},$$slots:{trigger:!0,content:!0}}),we(),o()}ft(["click","change"]);var e0=de("<option> </option>"),t0=de('<div class="mt-4 max-h-96 overflow-auto border rounded p-2"><img alt="模写用" class="w-full max-w-96 object-contain rounded border"/></div>'),n0=de('<div class="space-y-4 p-4 bg-surface-100 rounded-xl"><h2 class="text-lg font-semibold">模写用</h2> <label class="flex flex-col"><span class="label-text font-medium">テンプレ</span> <select class="select select-bordered w-full bg-white"><option>自動入力</option><!></select></label> <div class="relative flex-1"><input name="url" type="url" placeholder="画像のURLを入力" class="input input-bordered w-full pr-8 bg-white"/> <!></div> <div><label class="label"><span class="label-text">ローカル保存ファイルから読み込む</span> <input class="input" type="file" accept="image/*"/></label></div> <!></div>');function r0(e,t){ye(t,!0);let n=me(""),r;function i(_){var k,T;const E=(T=(k=_.target)==null?void 0:k.files)==null?void 0:T[0];if(E){const I=new FileReader;I.onload=()=>{te(n,I.result,!0)},I.readAsDataURL(E)}}const a=[{label:"鍵山雛",url:"https://i.imgur.com/Wd713Fe.png"},{label:"ドレミー",url:"https://i.imgur.com/vENwj1P.png"},{label:"八雲紫",url:"https://i.imgur.com/OLpXzvs.png"},{label:"カナ",url:"https://i.imgur.com/rgekbAz.png"},{label:"天子",url:"https://i.imgur.com/R6oYJge.png"},{label:"フラン",url:"https://i.imgur.com/Y126OqA.png"}];var s=n0(),o=K(j(s),2),c=K(j(o),2);c.__change=_=>{const E=a.find(k=>k.label===_.currentTarget.value);E&&te(n,E.url,!0)};var u=j(c);u.value=u.__value="";var d=K(u);mt(d,17,()=>a,gt,(_,E)=>{var k=e0(),T=j(k,!0);H(k);var I={};Oe(()=>{st(T,x(E).label),I!==(I=x(E).label)&&(k.value=(k.__value=x(E).label)??"")}),J(_,k)}),H(c),H(o);var g=K(o,2),p=j(g);Ze(p);var l=K(p,2);Or(l,{class:"absolute right-2 top-2.5 text-gray-400",size:16,onclick:()=>{te(n,"")}}),H(g);var v=K(g,2),f=j(v),m=K(j(f),2);m.__change=i,Ct(m,_=>r=_,()=>r),H(f),H(v);var h=K(v,2);{var y=_=>{var E=t0(),k=j(E);H(E),Oe(()=>Ve(k,"src",x(n))),J(_,E)};De(h,_=>{x(n)&&_(y)})}H(s),vn(p,()=>x(n),_=>te(n,_)),J(e,s),we()}ft(["change"]);var i0=de('<li><div tabindex="0" role="button" class="flex flex-grow items-center space-x-2"><div class="gimp-checkered-background relative w-8 h-8 rounded overflow-hidden"><div class="w-full h-full bg-center bg-cover"></div></div> <div><p class="text-sm font-medium truncate max-w-[128px]"> </p> <div class="flex items-center text-xs text-gray-500 space-x-1"><!> <!> <span> </span></div></div></div> <div class="flex space-x-1"><button class="p-1 text-gray-500 hover:text-blue-500"><!></button> <button class="p-1 text-gray-500 hover:text-blue-500"><!></button></div></li>'),a0=de('<div class="p-4 bg-white rounded shadow-md w-full max-w-md mx-auto max-h-[50vh] flex flex-col select-none"><button class="flex items-center justify-center py-1 bg-blue-500 text-white rounded hover:bg-blue-600"><!> レイヤー追加</button> <ul class="divide-y divide-gray-200 overflow-auto flex-1 min-h-0"></ul></div>');function s0(e,t){ye(t,!0);let n=$(t,"activeLayer",15,void 0),r=me(dt([])),i=ce(()=>[...x(r)].reverse());Me(()=>{n()&&te(r,kr(),!0)});const a=p=>{const{above:l}=p;l&&(p.swap(l.index),te(r,kr(),!0))},s=p=>{const{below:l}=p;l&&(p.swap(l.index),te(r,kr(),!0))},o=()=>{const p=new en;p.name=`レイヤー #${p.index+1}`,n(p)};var c=a0(),u=j(c);u.__click=o;var d=j(u);Nf(d,{class:"w-4 h-4 mr-2"}),pt(),H(u);var g=K(u,2);mt(g,21,()=>x(i),gt,(p,l,v)=>{var f=be(),m=ue(f);Ri(m,()=>n()===x(l)?t.pointerupTimestamp:"noop",h=>{var y=i0(),_=j(y);_.__keydown=()=>{},_.__click=()=>n(x(l));var E=j(_),k=j(E);H(E);var T=K(E,2),I=j(T),P=j(I,!0);H(I);var O=K(I,2),D=j(O);{var N=M=>{bs(M,{class:"w-4 h-4",onclick:()=>x(l).visible=!1})},C=M=>{Sf(M,{class:"w-4 h-4",onclick:()=>x(l).visible=!0})};De(D,M=>{x(l).visible?M(N):M(C,!1)})}var L=K(D,2);Or(L,{class:"w-4 h-4",onclick:()=>{if(x(l).locked||x(l).used&&!confirm(`${x(l).name}を削除しますか？`))return;x(l).delete();const{above:M,below:B}=x(l);M?n(M):B&&n(B)}});var b=K(L,2),R=j(b);H(b),H(O),H(T),H(_);var V=K(_,2),U=j(V);U.__click=()=>s(x(l));var Y=j(U);zc(Y,{class:"w-4 h-4"}),H(U);var q=K(U,2);q.__click=()=>a(x(l));var Q=j(q);gr(Q,{class:"w-4 h-4"}),H(q),H(V),H(y),Oe(M=>{lt(y,1,`flex items-center justify-between p-2 cursor-pointer ${n()===x(l)?"bg-blue-100":"hover:bg-gray-100"}`),Qt(k,`background-image: url(${M??""});`),st(P,x(l).name),st(R,`${x(l).opacity??""}%`)},[()=>x(l).canvas.toDataURL("image/png")]),J(h,y)}),J(p,f)}),H(g),H(c),J(e,c),we()}ft(["click","keydown"]);var o0=de('<header class="flex justify-between"><p class="font-bold text-xl">自動操作</p> <button class="btn-icon hover:preset-tonal"><!></button></header> <article class="space-y-4"><p class="opacity-60">自動お絵描き</p> <div class="pt-2"><button type="button" class="w-full px-4 py-2 rounded-lg bg-gray-500 text-white hover:bg-gray-600 transition" aria-label="submit">左右反転</button></div> <div class="pt-2"><button type="button" class="w-full px-4 py-2 rounded-lg bg-gray-500 text-white hover:bg-gray-600 transition" aria-label="submit">輪郭塗り</button></div></article>',1);function l0(e,t){ye(t,!0);let n=me(!1);const r=async()=>{for(const a of kr()){const{canvas:s,ctx:o}=a,c=o.getImageData(0,0,s.width,s.height),u=await createImageBitmap(c);a.clear(),o.save(),o.scale(-1,1),o.drawImage(u,-s.width,0),o.restore(),a.trace()}},i=()=>{const s=Er().getContext("2d",{willReadFrequently:!0});if(!s)return;const{width:o,height:c}=Rn,u=Bi(),{data:d}=s.getImageData(0,0,o*u,c*u);for(let g=0;g<c;g++)for(let p=0;p<o;p++){const l=(p+o*g*u)*u*4,[v,f,m,h]=d.subarray(l,l+4);if(!h)for(let y=0;y<9;y++){if(y===4)continue;const _=p+y%3-1,E=g+(y/3|0)-1;if(_<0||_>=o||E<0||E>=c)continue;const k=(_+o*E*u)*u*4,[T,I,P,O]=d.subarray(k,k+4);if(O){t.activeLayer.drawByDot(p*u,g*u);break}}}t.activeLayer.trace()};Ur(e,{get open(){return x(n)},onOpenChange:o=>te(n,o.open,!0),positioning:{placement:"top"},triggerBase:"btn preset-tonal",contentBase:"card bg-surface-300 p-4 space-y-4 max-w-[320px]",arrow:!0,arrowBackground:"!bg-surface-300 dark:!bg-surface-800",trigger:o=>{pt();var c=nr("マクロ");J(o,c)},content:o=>{var c=o0(),u=ue(c),d=K(j(u),2);d.__click=()=>{te(n,!1)};var g=j(d);Br(g,{}),H(d),H(u);var p=K(u,2),l=K(j(p),2),v=j(l);v.__click=r,H(l);var f=K(l,2),m=j(f);m.__click=i,H(f),H(p),J(o,c)},$$slots:{trigger:!0,content:!0}}),we()}ft(["click"]);var c0=de('<header class="flex justify-between"><p class="font-bold text-xl">操作方法</p> <button class="btn-icon hover:preset-tonal"><!></button></header> <article class="opacity-60"><p>右クリック：カラーピッカー</p> <p>Ctrl + 1：ペン</p> <p>Ctrl + 2：消しゴム</p> <p>Ctrl + 3：カラーピッカー</p> <p>Ctrl + 4：塗りつぶし</p> <p>Ctrl + 5：ハンドツール</p> <p>Ctrl + E：常に消しゴム</p> <p>Ctrl + F：左右反転</p> <p>Ctrl + G：グリッド表示</p> <p>Ctrl + D：ダークモード</p> <p>Ctrl + O：オニオンスキン</p> <p>Ctrl + Z：戻す</p> <p>Ctrl + Shift + Z：やり直す</p> <p>Ctrl + S：保存</p> <p>Ctrl + C：コピー</p> <p>Ctrl + V：貼り付け</p> <p>画像ドロップ：貼り付け</p> <p>モニターサイズは24インチ以上推奨</p></article>',1);function u0(e){let t=me(!1);Ur(e,{get open(){return x(t)},onOpenChange:i=>te(t,i.open,!0),positioning:{placement:"top"},triggerBase:"btn preset-tonal",contentBase:"card bg-surface-300 p-4 space-y-4 max-w-[320px]",arrow:!0,arrowBackground:"!bg-surface-300 dark:!bg-surface-800",trigger:i=>{pt();var a=nr("説明書");J(i,a)},content:i=>{var a=c0(),s=ue(a),o=K(j(s),2);o.__click=()=>{te(t,!1)};var c=j(o);Br(c,{}),H(o),H(s),pt(2),J(i,a)},$$slots:{trigger:!0,content:!0}})}ft(["click"]);var d0=de('<canvas class="border border-gray-300 gimp-checkered-background"></canvas>');function f0(e,t){ye(t,!0);const n=()=>Qe(Yn,"$activeIndex",i),r=()=>Qe(Fn,"$fps",i),[i,a]=rn(),s=192;let o=me(0);Me(()=>{t.initTimestamp&&te(o,Math.floor(s*ir/rr),!0)});const c=p=>{u=requestAnimationFrame(c);const{frames:l}=Rn,v=Math.floor(n()/l)*l,f=Ft,y=(p/1e3*r()|0)%f;if(!v&&v!==0||!x(d))return;const _=x(d).getContext("2d",{willReadFrequently:!0});if(!_)return;_.clearRect(0,0,x(d).width,x(d).height);const E=Ut.get(v+y);E&&_.drawImage(E,0,0,x(d).width,x(d).height)};Me(()=>{if(x(d))return c(0),()=>cancelAnimationFrame(u)});let u,d=me(void 0);var g=d0();Ve(g,"width",s),Ct(g,p=>te(d,p),()=>x(d)),Oe(()=>Ve(g,"height",x(o))),J(e,g),we(),a()}var h0=de('<canvas class="border border-gray-300 gimp-checkered-background"></canvas>'),v0=de('<div class="grid grid-cols-3 gap-2"></div>');function p0(e,t){ye(t,!0);const n=()=>Qe(Fn,"$fps",r),[r,i]=rn(),a=48;let s=me(0);Me(()=>{t.initTimestamp&&te(s,Math.floor(a*ir/rr),!0)});const o=[ke.q,ke.w,ke.e,ke.a,null,ke.d,ke.z,ke.s,ke.c],c=[ke.s,ke.a,ke.w,ke.d],u=[ke.s,ke.z,ke.a,ke.q,ke.w,ke.e,ke.d,ke.c],d=v=>{g=requestAnimationFrame(d);const f=Ft,h=v/1e3*n()|0,y=f!==3?h%f:2-Math.abs(2-h%4),_=h/(8/f)|0;for(const[E,k]of o.entries())if(k===null){const T=ia;if(T!==4&&T!==8)continue;const P=(T===4?c:u)[_%T],O=ri.get(P);if(!O&&O!==0)continue;const D=Ut.get(O+y);if(!D)continue;const N=p[E];if(!N)continue;const C=N.getContext("2d",{willReadFrequently:!0});if(!C)continue;C.clearRect(0,0,N.width,N.height),C.drawImage(D,0,0,N.width,N.height)}else{const T=ri.get(k);if(!T&&T!==0)continue;const I=p[E];if(!I)continue;const P=I.getContext("2d",{willReadFrequently:!0});if(!P)continue;P.clearRect(0,0,I.width,I.height);const O=Ut.get(T+y);if(!O)continue;P.drawImage(O,0,0,I.width,I.height)}};Me(()=>{if(p)return d(0),()=>cancelAnimationFrame(g)});let g,p=dt(Array(o.length));var l=v0();mt(l,21,()=>p,gt,(v,f,m)=>{var h=h0();Ve(h,"width",a),Ct(h,(y,_)=>p[_]=y,y=>p==null?void 0:p[y],()=>[m]),Oe(()=>Ve(h,"height",x(s))),J(v,h)}),H(l),J(e,l),we(),i()}var g0=de("<option> </option>"),m0=de("<option> </option>"),b0=de('<div class="max-w-xs flex flex-col gap-4"><label class="flex flex-col"><select class="select select-bordered w-full bg-white"></select></label> <label class="flex flex-col"><select class="select select-bordered w-full bg-white"></select></label> <!></div>');function y0(e,t){ye(t,!0);const n=()=>Qe(Fn,"$fps",i),r=()=>Qe(zi,"$preview",i),[i,a]=rn(),s=[{value:0,label:"歩行グラ"},{value:1,label:"シンプル"}];var o=b0(),c=j(o),u=j(c);u.__change=h=>{const{value:y}=h.currentTarget,_=Number(y);He(Fn,_),yc.value=String(_)},mt(u,20,()=>[2,3,4,5,6,7,8],gt,(h,y)=>{var _=g0(),E=j(_);H(_);var k={};Oe(()=>{st(E,`${y??""}fps`),k!==(k=y)&&(_.value=(_.__value=y)??"")}),J(h,_)}),H(u);var d;as(u),H(c);var g=K(c,2),p=j(g);p.__change=h=>{const{value:y}=h.currentTarget,_=Number(y);He(zi,_),wc.value=y},mt(p,21,()=>s,gt,(h,y)=>{var _=m0(),E=j(_,!0);H(_);var k={};Oe(()=>{st(E,x(y).label),k!==(k=x(y).value)&&(_.value=(_.__value=x(y).value)??"")}),J(h,_)}),H(p);var l;as(p),H(g);var v=K(g,2);{var f=h=>{p0(h,{get initTimestamp(){return t.initTimestamp}})},m=h=>{var y=be(),_=ue(y);{var E=k=>{f0(k,{get initTimestamp(){return t.initTimestamp}})};De(_,k=>{r()===1&&k(E)},!0)}J(h,y)};De(v,h=>{r()===0?h(f):h(m,!1)})}H(o),Oe(()=>{d!==(d=n())&&(u.value=(u.__value=n())??"",ss(u,n())),l!==(l=r())&&(p.value=(p.__value=r())??"",ss(p,r()))}),J(e,o),we(),a()}ft(["change"]);var w0=de("<option> </option>"),_0=de('<header class="flex justify-between"><p class="font-bold text-xl">コマ数 / サイズ変更</p> <button class="btn-icon hover:preset-tonal"><!></button></header> <article class="space-y-4"><p class="opacity-60">ツクールの規格に対応できます</p> <label class="flex flex-col"><span class="label-text font-medium">テンプレ</span> <select class="select select-bordered w-full bg-white"><option>自動入力</option><!></select></label> <label class="flex flex-col gap-1"><span class="label-text font-medium">幅</span> <input type="number" placeholder="例: 48"/></label> <label class="flex flex-col gap-1"><span class="label-text font-medium">高さ</span> <input type="number" placeholder="例: 48"/></label> <label class="flex flex-col gap-1"><span class="label-text font-medium">コマ数</span> <input type="number" placeholder="例: 3"/></label> <label class="flex flex-col gap-1"><span class="label-text font-medium">方向転換</span> <input type="text" placeholder="例: wasdqezc"/> <p class="opacity-60 text-xs">wasd(前後左右)+qezc(ナナメ)</p></label> <div class="pt-2"><button type="button" class="btn btn-primary w-full bg-blue-500 text-white rounded hover:bg-blue-600" aria-label="submit">初期化の実行</button></div></article>',1);function x0(e,t){ye(t,!0);const[n,r]=rn();let i=$(t,"activeLayer",15),a=$(t,"initTimestamp",15),s=me(!1),o=me(void 0),c=me(0),u=me(0),d=me(0),g=me(""),p=me(dt(new Set));Me(()=>{const v=In(l,{width:jt.url.searchParams.get("w"),height:jt.url.searchParams.get("h"),frames:jt.url.searchParams.get("frames"),ways:jt.url.searchParams.get("ways")});v.success?Pi(v.output.width,v.output.height,v.output.frames,v.output.ways):Pi(Tn.w,Tn.h,Tn.frames,Kr(Tn.ways)),t.init(),te(c,rr,!0),te(u,ir,!0),te(d,Ft,!0),te(g,Kr(Ot),!0);const f=jt.url.searchParams.get("opacity");f!==null&&He(Qn,Number(f)),He(Ir,jt.url.searchParams.get("trace")==="1"),He(Yt,jt.url.searchParams.get("anime")==="0");const m=In(Nc,decodeURIComponent(jt.url.searchParams.get("url")??""));m.success&&(async()=>{const _=await new Promise(k=>{const T=new Image;T.onload=()=>k(T),T.crossOrigin="anonymous",T.src=uo(m.output)});He(Kt,m.output),Hu(_);const E=Jn.get(0);E&&(Ar(E),i(E[E.length-1]),a(performance.now()))})();const h=In(Lc,jt.url.searchParams.get("fps"));h.success&&He(Fn,h.output);const y=In(Dc,jt.url.searchParams.get("preview"));y.success&&He(zi,y.output)});const l=Pc({width:nf,height:rf,frames:af,ways:sf});Ur(e,{get open(){return x(s)},onOpenChange:m=>te(s,m.open,!0),positioning:{placement:"top"},triggerBase:"btn preset-tonal",contentBase:"card bg-surface-300 p-4 space-y-4 max-w-[320px]",arrow:!0,arrowBackground:"!bg-surface-300 dark:!bg-surface-800",trigger:m=>{pt();var h=nr("リサイズ");J(m,h)},content:m=>{var h=_0(),y=ue(h),_=K(j(y),2);_.__click=()=>{te(s,!1)};var E=j(_);Br(E,{}),H(_),H(y);var k=K(y,2),T=K(j(k),2),I=K(j(T),2);I.__change=Z=>{const fe=Ni.find(_e=>_e.label===Z.currentTarget.value);fe&&(te(c,fe.w,!0),te(u,fe.h,!0),te(d,fe.frames,!0),te(g,Kr(fe.ways),!0),te(o,fe.label,!0))};var P=j(I);P.value=P.__value="";var O=K(P);mt(O,17,()=>Ni,gt,(Z,fe)=>{var _e=w0(),ve=j(_e,!0);H(_e);var Ee={};Oe(()=>{st(ve,x(fe).label),Ee!==(Ee=x(fe).label)&&(_e.value=(_e.__value=x(fe).label)??"")}),J(Z,_e)}),H(I);var D;as(I),H(T);var N=K(T,2),C=K(j(N),2);Ze(C);let L;H(N);var b=K(N,2),R=K(j(b),2);Ze(R);let V;H(b);var U=K(b,2),Y=K(j(U),2);Ze(Y);let q;H(U);var Q=K(U,2),M=K(j(Q),2);Ze(M);let B;pt(2),H(Q);var re=K(Q,2),oe=j(re);oe.__click=()=>{const Z=In(l,{width:x(c),height:x(u),frames:x(d),ways:x(g)});if(!Z.success){te(p,new Set(Z.issues.map(fe=>{var _e;return((_e=fe.path)==null?void 0:_e[0].key)??""}).map(String)),!0);return}te(p,new Set,!0),confirm("初期化しますか？（※全てのデータは失われます）")&&(Pi(Z.output.width,Z.output.height,Z.output.frames,Z.output.ways),t.init(),x(o)&&(bc.value=x(o)))},H(re),H(k),Oe((Z,fe,_e,ve)=>{D!==(D=x(o)??Tn.label)&&(I.value=(I.__value=x(o)??Tn.label)??"",ss(I,x(o)??Tn.label)),L=lt(C,1,"input input-bordered w-full placeholder:opacity-40",null,L,Z),V=lt(R,1,"input input-bordered w-full bg-white placeholder:opacity-40",null,V,fe),q=lt(Y,1,"input input-bordered w-full bg-white placeholder:opacity-40",null,q,_e),B=lt(M,1,"input input-bordered w-full bg-white placeholder:opacity-40",null,B,ve)},[()=>({"bg-error-50":x(p).has("width"),"bg-white":!x(p).has("width")}),()=>({"bg-error-50":x(p).has("height"),"bg-white":!x(p).has("height")}),()=>({"bg-error-50":x(p).has("frames"),"bg-white":!x(p).has("frames")}),()=>({"bg-error-50":x(p).has("ways"),"bg-white":!x(p).has("ways")})]),vn(C,()=>x(c),Z=>te(c,Z)),vn(R,()=>x(u),Z=>te(u,Z)),vn(Y,()=>x(d),Z=>te(d,Z)),vn(M,()=>x(g),Z=>te(g,Z)),J(m,h)},$$slots:{trigger:!0,content:!0}}),we(),r()}ft(["click","change"]);var k0=de('<div class="mt-4 max-h-32 overflow-auto border rounded p-2"><img alt="インポート画像" class="max-w-96 object-contain rounded border" crossorigin="anonymous"/></div>'),E0=de('<header class="flex justify-between"><p class="font-bold text-xl">共同編集用</p> <button class="btn-icon hover:preset-tonal"><!></button></header> <article class="space-y-4"><div><p class="opacity-60">画像URL無しの場合</p> <p class="opacity-60">キャンバスサイズだけが共有されます。</p></div> <div><b>使用可能な画像URL</b> <p class="opacity-60">右クリック、画像リンクをコピー</p> <p class="opacity-60">※レイヤー情報は共有できません。</p></div> <a href="https://imgur.com/upload" target="_blank" rel="noopener noreferrer" class="text-blue-800 hover:underline">画像アップローダー</a> <div class="relative flex-1"><input name="url" type="url" placeholder="画像のURLを入力" class="input input-bordered w-full pr-8 bg-white"/> <!></div> <!> <div class="space-y-0"><div class="flex items-center gap-4 max-w-[360px]"><div class="w-[20ch] flex justify-between font-mono text-sm tabular-nums"><span class="text-left">不透明度</span> <span class="text-right"> </span></div> <!></div> <label class="flex items-center space-x-2"><input class="checkbox" type="checkbox"/> <p>トレース台を追加する</p></label> <label class="flex items-center space-x-2"><input class="checkbox" type="checkbox"/> <p>1枚絵として読み込む</p></label></div> <div class="pt-2"><button type="button" class="btn btn-primary w-full bg-blue-500 text-white rounded hover:bg-blue-600" aria-label="submit">共有リンク生成</button></div> <a target="_blank" rel="noopener noreferrer" class="block min-h-[2rem] max-w-full truncate text-blue-800 hover:underline"> </a></article>',1);function C0(e,t){ye(t,!0);const n=()=>Qe(Kt,"$imageUrl",c),r=()=>Qe(Fn,"$fps",c),i=()=>Qe(zi,"$preview",c),a=()=>Qe(Qn,"$opacity",c),s=()=>Qe(Ir,"$isAddEmptyLayer",c),o=()=>Qe(Yt,"$isSimpleImport",c),[c,u]=rn();let d=me(!1),g=me(void 0),p=me("");const l=()=>{if(n()&&(!x(g)||x(g).naturalWidth===0))return;const v=new URLSearchParams;v.set("w",String(rr)),v.set("h",String(ir)),v.set("frames",String(Ft)),v.set("ways",Kr(Ot)),v.set("fps",String(r())),v.set("preview",String(i())),a()!==100&&v.set("opacity",String(a()|0)),s()&&v.set("trace","1"),o()&&v.set("anime","0"),n()&&v.set("url",encodeURIComponent(n())),te(p,`${window.location.origin}${dc}/?${v.toString()}`)};Ur(e,{get open(){return x(d)},onOpenChange:m=>te(d,m.open,!0),positioning:{placement:"top"},triggerBase:"btn preset-tonal",contentBase:"card bg-surface-300 p-4 space-y-4 max-w-[320px] w-[320px]",arrow:!0,arrowBackground:"!bg-surface-300 dark:!bg-surface-800",trigger:m=>{pt();var h=nr("共有");J(m,h)},content:m=>{var h=E0(),y=ue(h),_=K(j(y),2);_.__click=()=>{te(d,!1)};var E=j(_);Br(E,{}),H(_),H(y);var k=K(y,2),T=K(j(k),6),I=j(T);Ze(I);var P=K(I,2);Or(P,{class:"absolute right-2 top-2.5 text-gray-400",size:16,onclick:()=>{He(Kt,"")}}),H(T);var O=K(T,2);{var D=Z=>{var fe=k0(),_e=j(fe);Ct(_e,ve=>te(g,ve),()=>x(g)),H(fe),Oe(ve=>Ve(_e,"src",ve),[()=>uo(n())]),J(Z,fe)};De(O,Z=>{n()&&Z(D)})}var N=K(O,2),C=j(N),L=j(C),b=K(j(L),2),R=j(b);H(b),H(L);var V=K(L,2);{let Z=ce(()=>[a()]);no(V,{get value(){return x(Z)},onValueChange:fe=>He(Qn,fe.value[0]),markers:[25,50,75]})}H(C);var U=K(C,2),Y=j(U);Ze(Y),pt(2),H(U);var q=K(U,2),Q=j(q);Ze(Q),pt(2),H(q),H(N);var M=K(N,2),B=j(M);B.__click=l,H(M);var re=K(M,2),oe=j(re,!0);H(re),H(k),Oe(()=>{st(R,`${a()??""}%`),Ve(re,"href",x(p)),st(oe,x(p))}),vn(I,n,Z=>He(Kt,Z)),ni(Y,s,Z=>He(Ir,Z)),ni(Q,o,Z=>He(Yt,Z)),J(m,h)},$$slots:{trigger:!0,content:!0}}),we(),u()}ft(["click"]);const ei=wn(!1),$u=()=>{const e=Gs.value;if(e&&(e.clear(),Vt(ei))){const t=Vt(Yn),[n,r]=_c(t);let i=n-1;i===-1&&(i=Ft-1);const a=Xt(i,r),s=Ut.get(a);if(!s)return;e.ctx.globalAlpha=.4,e.ctx.drawImage(s,0,0)}};Yn.subscribe($u);ei.subscribe($u);var S0="M17 3H5C3.89 3 3 3.9 3 5V19C3 20.1 3.89 21 5 21H19C20.1 21 21 20.1 21 19V7L17 3M19 19H5V5H16.17L19 7.83V19M12 12C10.34 12 9 13.34 9 15S10.34 18 12 18 15 16.66 15 15 13.66 12 12 12M6 6H15V10H6V6Z",T0="M16.24,3.56L21.19,8.5C21.97,9.29 21.97,10.55 21.19,11.34L12,20.53C10.44,22.09 7.91,22.09 6.34,20.53L2.81,17C2.03,16.21 2.03,14.95 2.81,14.16L13.41,3.56C14.2,2.78 15.46,2.78 16.24,3.56M4.22,15.58L7.76,19.11C8.54,19.9 9.8,19.9 10.59,19.11L14.12,15.58L9.17,10.63L4.22,15.58Z",A0="M19.35,11.72L17.22,13.85L15.81,12.43L8.1,20.14L3.5,22L2,20.5L3.86,15.9L11.57,8.19L10.15,6.78L12.28,4.65L19.35,11.72M16.76,3C17.93,1.83 19.83,1.83 21,3C22.17,4.17 22.17,6.07 21,7.24L19.08,9.16L14.84,4.92L16.76,3M5.56,17.03L4.5,19.5L6.97,18.44L14.4,11L13,9.6L5.56,17.03Z",I0="M19,11.5C19,11.5 17,13.67 17,15A2,2 0 0,0 19,17A2,2 0 0,0 21,15C21,13.67 19,11.5 19,11.5M5.21,10L10,5.21L14.79,10M16.56,8.94L7.62,0L6.21,1.41L8.59,3.79L3.44,8.94C2.85,9.5 2.85,10.47 3.44,11.06L8.94,16.56C9.23,16.85 9.62,17 10,17C10.38,17 10.77,16.85 11.06,16.56L16.56,11.06C17.15,10.47 17.15,9.5 16.56,8.94Z",O0="M13 24C9.74 24 6.81 22 5.6 19L2.57 11.37C2.26 10.58 3 9.79 3.81 10.05L4.6 10.31C5.16 10.5 5.62 10.92 5.84 11.47L7.25 15H8V3.25C8 2.56 8.56 2 9.25 2S10.5 2.56 10.5 3.25V12H11.5V1.25C11.5 .56 12.06 0 12.75 0S14 .56 14 1.25V12H15V2.75C15 2.06 15.56 1.5 16.25 1.5C16.94 1.5 17.5 2.06 17.5 2.75V12H18.5V5.75C18.5 5.06 19.06 4.5 19.75 4.5S21 5.06 21 5.75V16C21 20.42 17.42 24 13 24Z",R0="M20.71,7.04C20.37,7.38 20.04,7.71 20.03,8.04C20,8.36 20.34,8.69 20.66,9C21.14,9.5 21.61,9.95 21.59,10.44C21.57,10.93 21.06,11.44 20.55,11.94L16.42,16.08L15,14.66L19.25,10.42L18.29,9.46L16.87,10.87L13.12,7.12L16.96,3.29C17.35,2.9 18,2.9 18.37,3.29L20.71,5.63C21.1,6 21.1,6.65 20.71,7.04M3,17.25L12.56,7.68L16.31,11.43L6.75,21H3V17.25Z",P0="M18.4,10.6C16.55,9 14.15,8 11.5,8C6.85,8 2.92,11.03 1.54,15.22L3.9,16C4.95,12.81 7.95,10.5 11.5,10.5C13.45,10.5 15.23,11.22 16.62,12.38L13,16H22V7L18.4,10.6Z",L0="M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M7,6H17V19H7V6M9,8V17H11V8H9M13,8V17H15V8H13Z",D0="M12.5,8C9.85,8 7.45,9 5.6,10.6L2,7V16H11L7.38,12.38C8.77,11.22 10.54,10.5 12.5,10.5C16.04,10.5 19.05,12.81 20.1,16L22.47,15.22C21.08,11.03 17.15,8 12.5,8Z",N0={grad:.9,turn:360,rad:360/(2*Math.PI)},dn=function(e){return typeof e=="string"?e.length>0:typeof e=="number"},at=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},Dt=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e>t?e:t},ju=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},Wl=function(e){return{r:Dt(e.r,0,255),g:Dt(e.g,0,255),b:Dt(e.b,0,255),a:Dt(e.a)}},Qa=function(e){return{r:at(e.r),g:at(e.g),b:at(e.b),a:at(e.a,3)}},F0=/^#([0-9a-f]{3,8})$/i,Ii=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},qu=function(e){var t=e.r,n=e.g,r=e.b,i=e.a,a=Math.max(t,n,r),s=a-Math.min(t,n,r),o=s?a===t?(n-r)/s:a===n?2+(r-t)/s:4+(t-n)/s:0;return{h:60*(o<0?o+6:o),s:a?s/a*100:0,v:a/255*100,a:i}},Gu=function(e){var t=e.h,n=e.s,r=e.v,i=e.a;t=t/360*6,n/=100,r/=100;var a=Math.floor(t),s=r*(1-n),o=r*(1-(t-a)*n),c=r*(1-(1-t+a)*n),u=a%6;return{r:255*[r,o,s,s,c,r][u],g:255*[c,r,r,o,s,s][u],b:255*[s,s,c,r,r,o][u],a:i}},Hl=function(e){return{h:ju(e.h),s:Dt(e.s,0,100),l:Dt(e.l,0,100),a:Dt(e.a)}},$l=function(e){return{h:at(e.h),s:at(e.s),l:at(e.l),a:at(e.a,3)}},jl=function(e){return Gu((n=(t=e).s,{h:t.h,s:(n*=((r=t.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:t.a}));var t,n,r},ti=function(e){return{h:(t=qu(e)).h,s:(i=(200-(n=t.s))*(r=t.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a};var t,n,r,i},B0=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,z0=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,M0=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,V0=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ql={string:[[function(e){var t=F0.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?at(parseInt(e[3]+e[3],16)/255,2):1}:e.length===6||e.length===8?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:e.length===8?at(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=M0.exec(e)||V0.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:Wl({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=B0.exec(e)||z0.exec(e);if(!t)return null;var n,r,i=Hl({h:(n=t[1],r=t[2],r===void 0&&(r="deg"),Number(n)*(N0[r]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return jl(i)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,r=e.b,i=e.a,a=i===void 0?1:i;return dn(t)&&dn(n)&&dn(r)?Wl({r:Number(t),g:Number(n),b:Number(r),a:Number(a)}):null},"rgb"],[function(e){var t=e.h,n=e.s,r=e.l,i=e.a,a=i===void 0?1:i;if(!dn(t)||!dn(n)||!dn(r))return null;var s=Hl({h:Number(t),s:Number(n),l:Number(r),a:Number(a)});return jl(s)},"hsl"],[function(e){var t=e.h,n=e.s,r=e.v,i=e.a,a=i===void 0?1:i;if(!dn(t)||!dn(n)||!dn(r))return null;var s=(function(o){return{h:ju(o.h),s:Dt(o.s,0,100),v:Dt(o.v,0,100),a:Dt(o.a)}})({h:Number(t),s:Number(n),v:Number(r),a:Number(a)});return Gu(s)},"hsv"]]},Gl=function(e,t){for(var n=0;n<t.length;n++){var r=t[n][0](e);if(r)return[r,t[n][1]]}return[null,void 0]},U0=function(e){return typeof e=="string"?Gl(e.trim(),ql.string):typeof e=="object"&&e!==null?Gl(e,ql.object):[null,void 0]},es=function(e,t){var n=ti(e);return{h:n.h,s:Dt(n.s+100*t,0,100),l:n.l,a:n.a}},ts=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},Zl=function(e,t){var n=ti(e);return{h:n.h,s:n.s,l:Dt(n.l+100*t,0,100),a:n.a}},Kl=(function(){function e(t){this.parsed=U0(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return this.parsed!==null},e.prototype.brightness=function(){return at(ts(this.rgba),2)},e.prototype.isDark=function(){return ts(this.rgba)<.5},e.prototype.isLight=function(){return ts(this.rgba)>=.5},e.prototype.toHex=function(){return t=Qa(this.rgba),n=t.r,r=t.g,i=t.b,s=(a=t.a)<1?Ii(at(255*a)):"","#"+Ii(n)+Ii(r)+Ii(i)+s;var t,n,r,i,a,s},e.prototype.toRgb=function(){return Qa(this.rgba)},e.prototype.toRgbString=function(){return t=Qa(this.rgba),n=t.r,r=t.g,i=t.b,(a=t.a)<1?"rgba("+n+", "+r+", "+i+", "+a+")":"rgb("+n+", "+r+", "+i+")";var t,n,r,i,a},e.prototype.toHsl=function(){return $l(ti(this.rgba))},e.prototype.toHslString=function(){return t=$l(ti(this.rgba)),n=t.h,r=t.s,i=t.l,(a=t.a)<1?"hsla("+n+", "+r+"%, "+i+"%, "+a+")":"hsl("+n+", "+r+"%, "+i+"%)";var t,n,r,i,a},e.prototype.toHsv=function(){return t=qu(this.rgba),{h:at(t.h),s:at(t.s),v:at(t.v),a:at(t.a,3)};var t},e.prototype.invert=function(){return _t({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},e.prototype.saturate=function(t){return t===void 0&&(t=.1),_t(es(this.rgba,t))},e.prototype.desaturate=function(t){return t===void 0&&(t=.1),_t(es(this.rgba,-t))},e.prototype.grayscale=function(){return _t(es(this.rgba,-1))},e.prototype.lighten=function(t){return t===void 0&&(t=.1),_t(Zl(this.rgba,t))},e.prototype.darken=function(t){return t===void 0&&(t=.1),_t(Zl(this.rgba,-t))},e.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},e.prototype.alpha=function(t){return typeof t=="number"?_t({r:(n=this.rgba).r,g:n.g,b:n.b,a:t}):at(this.rgba.a,3);var n},e.prototype.hue=function(t){var n=ti(this.rgba);return typeof t=="number"?_t({h:t,s:n.s,l:n.l,a:n.a}):at(n.h)},e.prototype.isEqual=function(t){return this.toHex()===_t(t).toHex()},e})(),_t=function(e){return e instanceof Kl?e:new Kl(e)},W0=de('<input type="hidden"/>'),H0=de('<div role="slider" tabindex="0"><div class="track svelte-1cl24h5"></div> <div class="thumb svelte-1cl24h5"></div></div> <!>',1);function ea(e,t){ye(t,!0);let n=$(t,"min",3,0),r=$(t,"max",3,100),i=$(t,"step",3,1),a=$(t,"value",15,50),s=$(t,"ariaValueText",3,b=>b.toString()),o=$(t,"direction",3,"horizontal"),c=$(t,"reverse",3,!1),u=$(t,"keyboardOnly",3,!1),d=$(t,"slider",7),g=$(t,"isDragging",7,!1);const p=ce(()=>typeof n()=="string"?parseFloat(n()):n()),l=ce(()=>typeof r()=="string"?parseFloat(r()):r()),v=ce(()=>typeof i()=="string"?parseFloat(i()):i());function f(b){const R=1/x(v),V=Math.round(b*R)/R;return Math.max(x(p),Math.min(x(l),V))}function m(b){var V;const R=b.shiftKey?x(v)*10:x(v);b.key==="ArrowUp"||b.key==="ArrowRight"?(a(a()+R),b.preventDefault()):b.key==="ArrowDown"||b.key==="ArrowLeft"?(a(a()-R),b.preventDefault()):b.key==="Home"?(a(x(p)),b.preventDefault()):b.key==="End"?(a(x(l)),b.preventDefault()):b.key==="PageUp"?(a(a()+x(v)*10),b.preventDefault()):b.key==="PageDown"&&(a(a()-x(v)*10),b.preventDefault()),a(f(a())),(V=t.onInput)==null||V.call(t,a())}const h={horizontal:{clientSize:"clientWidth",offset:"left",client:"clientX"},vertical:{clientSize:"clientHeight",offset:"top",client:"clientY"}};function y(b){var Y,q,Q;const R=((Y=d())==null?void 0:Y[h[o()].clientSize])||120,V=((q=d())==null?void 0:q.getBoundingClientRect()[h[o()].offset])||0;let U=b[h[o()].client]-V;o()==="vertical"&&(U=-1*U+R),c()?a(x(l)-U/R*(x(l)-x(p))):a(U/R*(x(l)-x(p))+x(p)),a(f(a())),(Q=t.onInput)==null||Q.call(t,a())}function _(b){y(b),g(!0)}function E(b){g()&&y(b)}function k(){g(!1)}function T(b){b.preventDefault(),y({clientX:b.changedTouches[0].clientX,clientY:b.changedTouches[0].clientY})}const I=ce(()=>((a()-x(p))/(x(l)-x(p))*1).toFixed(4));var P=H0();Zn("mousemove",Kn,E),Zn("mouseup",Kn,k);var O=ue(P);let D;O.__keydown=m,O.__mousedown=function(...b){var R;(R=u()?void 0:_)==null||R.apply(this,b)},O.__touchstart=function(...b){var R;(R=u()?void 0:T)==null||R.apply(this,b)},O.__touchmove=function(...b){var R;(R=u()?void 0:T)==null||R.apply(this,b)},O.__touchend=function(...b){var R;(R=u()?void 0:T)==null||R.apply(this,b)};let N;Ct(O,b=>d(b),()=>d());var C=K(O,2);{var L=b=>{var R=W0();Ze(R),Oe(()=>{Ve(R,"name",t.name),Mt(R,a())}),J(b,R)};De(C,b=>{t.name&&b(L)})}Oe(b=>{D=lt(O,1,"slider svelte-1cl24h5",null,D,{reverse:c()}),Ve(O,"aria-orientation",o()),Ve(O,"aria-valuemax",x(l)),Ve(O,"aria-valuemin",x(p)),Ve(O,"aria-valuenow",a()),Ve(O,"aria-valuetext",b),Ve(O,"aria-label",t.ariaLabel),Ve(O,"aria-labelledby",t.ariaLabelledBy),Ve(O,"aria-controls",t.ariaControls),N=Qt(O,"",N,{"--position":x(I)})},[()=>s()(a())]),J(e,P),we()}ft(["keydown","mousedown","touchstart","touchmove","touchend"]);var $0=de('<div class="picker svelte-jih37z"><!> <div class="s svelte-jih37z"><!></div> <div class="v svelte-jih37z"><!></div></div>');function j0(e,t){ye(t,!0);let n=$(t,"s",15),r=$(t,"v",15),i=me(void 0),a=!1,s=me(dt({x:100,y:0})),o=ce(()=>_t({h:t.h,s:100,v:100,a:1}).toHex());function c(P,O,D){return Math.min(Math.max(O,P),D)}function u(P){if(!x(i))return;const{width:O,left:D,height:N,top:C}=x(i).getBoundingClientRect(),L={x:c(P.clientX-D,0,O),y:c(P.clientY-C,0,N)};n(c(L.x/O,0,1)*100),r(c((N-L.y)/N,0,1)*100),v()}function d(P){P.preventDefault(),P.button===0&&(a=!0,u(P))}function g(){a=!1}function p(P){a&&u(P)}function l(P){P.preventDefault(),u(P.changedTouches[0])}Me(()=>{typeof n()=="number"&&typeof r()=="number"&&x(i)&&te(s,{x:n(),y:100-r()},!0)});function v(P={}){t.onInput({s:n(),v:r(),...P})}var f=$0();Zn("mouseup",Kn,g),Zn("mousemove",Kn,p),f.__mousedown=d,f.__touchstart=l,f.__touchmove=l,f.__touchend=l;let m;var h=j(f);vt(h,()=>t.components.pickerIndicator,(P,O)=>{O(P,{get pos(){return x(s)},get isDark(){return t.isDark}})});var y=K(h,2);let _;var E=j(y);ea(E,{get value(){return n()},onInput:P=>v({s:P}),keyboardOnly:!0,ariaValueText:P=>`${P}%`,get ariaLabel(){return t.texts.label.s}}),H(y);var k=K(y,2);let T;var I=j(k);ea(I,{get value(){return r()},onInput:P=>v({v:P}),keyboardOnly:!0,ariaValueText:P=>`${P}%`,direction:"vertical",get ariaLabel(){return t.texts.label.v}}),H(k),H(f),Ct(f,P=>te(i,P),()=>x(i)),Oe(()=>{m=Qt(f,"",m,{"--picker-color-bg":x(o)}),_=Qt(y,"",_,{"--pos-y":x(s).y}),T=Qt(k,"",T,{"--pos-x":x(s).x})}),J(e,f),we()}ft(["mousedown","touchstart","touchmove","touchend"]);var q0=de('<div class="picker-indicator svelte-q7rtlo"></div>');function G0(e,t){ye(t,!0);var n=q0();let r;Oe(()=>r=Qt(n,"",r,{"--pos-x":t.pos.x,"--pos-y":t.pos.y})),J(e,n),we()}var Z0=de('<input class="svelte-1e88lw6"/>'),K0=de('<input type="number" min="0" max="255" class="svelte-1e88lw6"/> <input type="number" min="0" max="255" class="svelte-1e88lw6"/> <input type="number" min="0" max="255" class="svelte-1e88lw6"/>',1),X0=de('<input type="number" min="0" max="360" class="svelte-1e88lw6"/> <input type="number" min="0" max="100" class="svelte-1e88lw6"/> <input type="number" min="0" max="100" class="svelte-1e88lw6"/>',1),Y0=de('<input type="number" min="0" max="1" step="0.01" class="svelte-1e88lw6"/>'),J0=de('<button type="button" class="svelte-1e88lw6"><span class="disappear svelte-1e88lw6" aria-hidden="true"> </span> <span class="appear svelte-1e88lw6"> </span></button>'),Q0=de('<div class="button-like svelte-1e88lw6"> </div>'),e1=de('<div class="text-input svelte-1e88lw6"><div class="input-container svelte-1e88lw6"><!> <!></div> <!></div>');function t1(e,t){ye(t,!0);let n=$(t,"rgb",15),r=$(t,"hsv",15),i=$(t,"hex",15);const a=/^#?([A-F0-9]{6}|[A-F0-9]{8})$/i;let s=me(dt(t.textInputModes[0]||"hex")),o=ce(()=>t.textInputModes[(t.textInputModes.indexOf(x(s))+1)%t.textInputModes.length]),c=ce(()=>Math.round(r().h)),u=ce(()=>Math.round(r().s)),d=ce(()=>Math.round(r().v)),g=ce(()=>r().a===void 0?1:Math.round(r().a*100)/100);function p(O){const D=O.target;a.test(D.value)&&(i(D.value),t.onInput({hex:i()}))}function l(O){return function(D){n({...n(),[O]:parseFloat(D.target.value)}),t.onInput({rgb:n()})}}function v(O){return function(D){r({...r(),[O]:parseFloat(D.target.value)}),t.onInput({hsv:r()})}}var f=e1(),m=j(f),h=j(m);{var y=O=>{var D=Z0();Ze(D),D.__input=p,Qt(D,"",{},{flex:3}),Oe(()=>{Ve(D,"aria-label",t.texts.label.hex),Mt(D,i())}),J(O,D)},_=O=>{var D=be(),N=ue(D);{var C=b=>{var R=K0(),V=ue(R);Ze(V);var U=ce(()=>l("r"));V.__input=function(...B){var re;(re=x(U))==null||re.apply(this,B)};var Y=K(V,2);Ze(Y);var q=ce(()=>l("g"));Y.__input=function(...B){var re;(re=x(q))==null||re.apply(this,B)};var Q=K(Y,2);Ze(Q);var M=ce(()=>l("b"));Q.__input=function(...B){var re;(re=x(M))==null||re.apply(this,B)},Oe(()=>{Ve(V,"aria-label",t.texts.label.r),Mt(V,n().r),Ve(Y,"aria-label",t.texts.label.g),Mt(Y,n().g),Ve(Q,"aria-label",t.texts.label.b),Mt(Q,n().b)}),J(b,R)},L=b=>{var R=X0(),V=ue(R);Ze(V);var U=ce(()=>v("h"));V.__input=function(...B){var re;(re=x(U))==null||re.apply(this,B)};var Y=K(V,2);Ze(Y);var q=ce(()=>v("s"));Y.__input=function(...B){var re;(re=x(q))==null||re.apply(this,B)};var Q=K(Y,2);Ze(Q);var M=ce(()=>v("v"));Q.__input=function(...B){var re;(re=x(M))==null||re.apply(this,B)},Oe(()=>{Ve(V,"aria-label",t.texts.label.h),Mt(V,x(c)),Ve(Y,"aria-label",t.texts.label.s),Mt(Y,x(u)),Ve(Q,"aria-label",t.texts.label.v),Mt(Q,x(d))}),J(b,R)};De(N,b=>{x(s)==="rgb"?b(C):b(L,!1)},!0)}J(O,D)};De(h,O=>{x(s)==="hex"?O(y):O(_,!1)})}var E=K(h,2);{var k=O=>{var D=Y0();Ze(D);var N=ce(()=>x(s)==="hsv"?v("a"):l("a"));D.__input=function(...C){var L;(L=x(N))==null||L.apply(this,C)},Oe(()=>{Ve(D,"aria-label",t.texts.label.a),Mt(D,x(g))}),J(O,D)};De(E,O=>{t.isAlpha&&O(k)})}H(m);var T=K(m,2);{var I=O=>{var D=J0();D.__click=()=>te(s,x(o),!0);var N=j(D),C=j(N,!0);H(N);var L=K(N,2),b=j(L);H(L),H(D),Oe(()=>{st(C,t.texts.color[x(s)]),st(b,`${t.texts.changeTo??""} ${t.texts.color[x(o)]??""}`)}),J(O,D)},P=O=>{var D=Q0(),N=j(D,!0);H(D),Oe(()=>st(N,t.texts.color[x(s)])),J(O,D)};De(T,O=>{t.textInputModes.length>1?O(I):O(P,!1)})}H(f),J(e,f),we()}ft(["input","click"]);var n1=de('<label class="svelte-3nyzvd"><div class="container svelte-3nyzvd"><input type="color" aria-haspopup="dialog" class="svelte-3nyzvd"/> <div class="alpha svelte-3nyzvd"></div> <div class="color svelte-3nyzvd"></div></div> </label>');function r1(e,t){ye(t,!0);let n=$(t,"labelElement",15),r=$(t,"name",3,void 0);function i(g){g.preventDefault()}var a=n1();a.__click=i,a.__mousedown=i;var s=j(a),o=j(s);Ze(o),o.__click=i,o.__mousedown=i;var c=K(o,4);let u;H(s);var d=K(s);H(a),Ct(a,g=>n(g),()=>n()),Oe(()=>{Ve(a,"dir",t.dir),Ve(o,"name",r()),Mt(o,t.hex),u=Qt(c,"",u,{background:t.hex}),st(d,` ${t.label??""}`),a.dir=a.dir}),J(e,a),we()}ft(["click","mousedown"]);var i1=de('<div aria-label="color picker"><!></div>');function a1(e,t){ye(t,!0);let n=$(t,"wrapper",15);var r=i1();let i;var a=j(r);Ne(a,()=>t.children),H(r),Ct(r,s=>n(s),()=>n()),Oe(()=>{i=lt(r,1,"wrapper svelte-140f8do",null,i,{"is-open":t.isOpen}),Ve(r,"role",t.isDialog?"dialog":void 0)}),J(e,r),we()}const ns={label:{h:"hue channel",s:"saturation channel",v:"brightness channel",r:"red channel",g:"green channel",b:"blue channel",a:"alpha channel",hex:"hex color",withoutColor:"without color"},color:{rgb:"rgb",hsv:"hsv",hex:"hex"},changeTo:"change to "},Zu="a[href], area[href], input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]";function s1(e){return function(t){if(t.target===window)return;const n=t.target;if(!e.contains(n))return;const r=e.querySelectorAll(Zu),i=r[0],a=r[r.length-1];function s(c){return c.code==="Tab"&&!c.shiftKey}function o(c){return c.code==="Tab"&&c.shiftKey}s(t)&&t.target===a?(t.preventDefault(),i.focus()):o(t)&&t.target===i&&(t.preventDefault(),a.focus())}}const o1=e=>{const t=e.querySelector(Zu);t&&t.focus();const n=s1(e);return document.addEventListener("keydown",n),{destroy(){document.removeEventListener("keydown",n)}}};var l1=de('<label class="nullability-checkbox svelte-15kfq5d"><div class="svelte-15kfq5d"><input type="checkbox" class="svelte-15kfq5d"/> <span class="svelte-15kfq5d"></span></div> </label>');function c1(e,t){ye(t,!0);let n=$(t,"isUndefined",15);var r=l1(),i=j(r),a=j(i);Ze(a),pt(2),H(i);var s=K(i);H(r),Oe(()=>st(s,` ${t.texts.label.withoutColor??""}`)),ni(a,n),J(e,r),we()}var u1=de('<input type="hidden"/>'),d1=de('<div class="a svelte-1r4n3pu"><!></div>'),f1=de('<!> <!> <div class="h svelte-1r4n3pu"><!></div> <!> <!> <!>',1),h1=de("<span><!> <!></span>");function v1(e,t){ye(t,!0);let n=$(t,"components",19,()=>({})),r=$(t,"label",3,"Choose a color"),i=$(t,"name",3,void 0),a=$(t,"nullable",3,!1),s=$(t,"rgb",31,()=>dt(a()?null:{r:255,g:0,b:0,a:1})),o=$(t,"hsv",31,()=>dt(a()?null:{h:0,s:100,v:100,a:1})),c=$(t,"hex",31,()=>dt(a()?null:"#ff0000")),u=$(t,"color",15,null),d=$(t,"isDark",15,!1),g=$(t,"isAlpha",3,!0),p=$(t,"isDialog",3,!0),l=$(t,"isOpen",31,()=>!p()),v=$(t,"position",3,"responsive"),f=$(t,"dir",3,"ltr"),m=$(t,"isTextInput",3,!0),h=$(t,"textInputModes",19,()=>["hex","rgb","hsv"]),y=$(t,"sliderDirection",3,"vertical"),_=$(t,"disableCloseClickOutside",3,!1),E=$(t,"a11yColors",19,()=>[{bgHex:"#ffffff"}]),k=$(t,"a11yLevel",3,"AA"),T=$(t,"texts",3,void 0),I=$(t,"a11yTexts",3,void 0),P=me(dt({r:255,g:0,b:0,a:1})),O=me(dt({h:0,s:100,v:100,a:1})),D=me("#ff0000"),N=me(!1),C=me(dt(x(N))),L=me(void 0),b=me(void 0),R=me(void 0),V,U=me(1080),Y=me(720);const q=12,Q={pickerIndicator:G0,textInput:t1,input:r1,nullabilityCheckbox:c1,wrapper:a1};function M(){return{...Q,...n()}}function B(){var z,A,S;return{label:{...ns.label,...(z=T())==null?void 0:z.label},color:{...ns.color,...(A=T())==null?void 0:A.color},changeTo:((S=T())==null?void 0:S.changeTo)??ns.changeTo}}function re({target:z}){var A,S,F;p()&&((A=x(b))!=null&&A.contains(z)||(S=x(b))!=null&&S.isSameNode(z)?l(!l()):l()&&!((F=x(R))!=null&&F.contains(z))&&!_()&&l(!1))}function oe({key:z,target:A}){var S;!p()||!x(b)||!x(L)||(z==="Enter"&&x(b).contains(A)?(l(!l()),setTimeout(()=>{x(R)&&(V=o1(x(R)))})):z==="Escape"&&l()&&(l(!1),x(L).contains(A)&&((S=x(b))==null||S.focus(),V==null||V.destroy())))}function Z(){return!(o()&&s()&&o().h===x(O).h&&o().s===x(O).s&&o().v===x(O).v&&o().a===x(O).a&&s().r===x(P).r&&s().g===x(P).g&&s().b===x(P).b&&s().a===x(P).a&&c()===x(D))}function fe(){var z,A,S,F,X,ee;if(x(N)&&!x(C)){te(C,!0),o(null),s(null),c(null),(z=t.onInput)==null||z.call(t,{color:u(),hsv:o(),rgb:s(),hex:c()});return}else if(x(C)&&!x(N)){te(C,!1),o(Vn(x(O))),s(Vn(x(P))),c(Vn(x(D))),(A=t.onInput)==null||A.call(t,{color:u(),hsv:o(),rgb:s(),hex:c()});return}else if(!o()&&!s()&&!c()){te(N,te(C,!0),!0),(S=t.onInput)==null||S.call(t,{color:null,hsv:o(),rgb:s(),hex:c()});return}else if(!Z())return;te(N,!1),o()&&o().a===void 0&&o({...o(),a:1}),x(O).a===void 0&&te(O,{...x(O),a:1},!0),s()&&s().a===void 0&&s({...s(),a:1}),x(P).a===void 0&&te(P,{...x(P),a:1},!0),((F=c())==null?void 0:F.substring(7))==="ff"&&c(c().substring(0,7)),((X=x(D))==null?void 0:X.substring(7))==="ff"&&te(D,x(D).substring(0,7),!0),o()&&(o().h!==x(O).h||o().s!==x(O).s||o().v!==x(O).v||o().a!==x(O).a||!s()&&!c())?(u(_t(o())),s(u().toRgb()),c(u().toHex())):s()&&(s().r!==x(P).r||s().g!==x(P).g||s().b!==x(P).b||s().a!==x(P).a||!o()&&!c())?(u(_t(s())),c(u().toHex()),o(u().toHsv())):c()&&(c()!==x(D)||!o()&&!s())&&(u(_t(c())),s(u().toRgb()),o(u().toHsv())),u()&&d(u().isDark()),!(!c()||!o()||!s())&&(te(O,Vn(o()),!0),te(P,Vn(s()),!0),te(D,c(),!0),te(C,x(N),!0),(ee=t.onInput)==null||ee.call(t,{color:u(),hsv:o(),rgb:s(),hex:c()}))}Me(()=>{(o()||s()||c())&&fe()}),Me(()=>{x(N),fe()});function _e(z){return A=>{o()||(te(N,!1),te(C,!1),o(Vn(x(O)))),o({...o(),[z]:A})}}function ve(z){return A=>{o()||(te(N,!1),te(C,!1),o(Vn(x(O)))),o({...o(),...Object.fromEntries(z.map(S=>[S,A[S]]))})}}async function Ee(){if(await cc(),v()==="fixed"||!l()||!p()||!x(b)||!x(R))return;const z=x(R).getBoundingClientRect(),A=x(b).getBoundingClientRect();if((v()==="responsive"||v()==="responsive-y")&&(A.top+z.height+q>x(Y)?x(R).style.top=`-${z.height+q}px`:x(R).style.top=`${A.height+q}px`),v()==="responsive"||v()==="responsive-x")if(f()==="rtl"){const S=A.left+A.width-z.width<0;console.log(S,A.left-z.width,A.left,z.width),S?x(R).style.left="0px":x(R).style.left=`${A.width-z.width}px`}else A.left+z.width>x(U)?x(R).style.left=`${A.width-z.width}px`:x(R).style.left="0px"}Me(()=>{x(U)&&x(Y)&&l()&&Ee()});const ge=ce(M);var Ae=h1();Zn("mousedown",Kn,re),Zn("keyup",Kn,oe),Zn("scroll",Kn,Ee);var Te=j(Ae);{var Ie=z=>{var A=be(),S=ue(A);vt(S,()=>x(ge).input,(F,X)=>{X(F,{get hex(){return c()},get label(){return r()},get name(){return i()},get dir(){return f()},get labelElement(){return x(b)},set labelElement(ee){te(b,ee,!0)}})}),J(z,A)},w=z=>{var A=be(),S=ue(A);{var F=X=>{var ee=u1();Ze(ee),Oe(()=>{Mt(ee,c()),Ve(ee,"name",i())}),J(X,ee)};De(S,X=>{i()&&X(F)},!0)}J(z,A)};De(Te,z=>{p()?z(Ie):z(w,!1)})}var G=K(Te,2);vt(G,()=>x(ge).wrapper,(z,A)=>{A(z,{get isOpen(){return l()},get isDialog(){return p()},get wrapper(){return x(R)},set wrapper(S){te(R,S,!0)},children:(S,F)=>{var X=f1(),ee=ue(X);{var W=We=>{var Pe=be(),Ye=ue(Pe);{let rt=ce(B);vt(Ye,()=>x(ge).nullabilityCheckbox,(qe,bt)=>{bt(qe,{get texts(){return x(rt)},get isUndefined(){return x(N)},set isUndefined(Je){te(N,Je,!0)}})})}J(We,Pe)};De(ee,We=>{a()&&We(W)})}var ie=K(ee,2);{let We=ce(M),Pe=ce(()=>{var Je;return((Je=o())==null?void 0:Je.h)??x(O).h}),Ye=ce(()=>{var Je;return((Je=o())==null?void 0:Je.s)??x(O).s}),rt=ce(()=>{var Je;return((Je=o())==null?void 0:Je.v)??x(O).v}),qe=ce(()=>ve(["s","v"])),bt=ce(B);j0(ie,{get components(){return x(We)},get h(){return x(Pe)},get s(){return x(Ye)},get v(){return x(rt)},get onInput(){return x(qe)},get isDark(){return d()},get texts(){return x(bt)}})}var le=K(ie,2),ae=j(le);{let We=ce(()=>{var qe;return((qe=o())==null?void 0:qe.h)??x(O).h}),Pe=ce(()=>_e("h")),Ye=ce(()=>y()==="vertical"),rt=ce(()=>B().label.h);ea(ae,{min:0,max:360,step:1,get value(){return x(We)},get onInput(){return x(Pe)},get direction(){return y()},get reverse(){return x(Ye)},get ariaLabel(){return x(rt)}})}H(le);var pe=K(le,2);{var Ue=We=>{var Pe=d1();let Ye;var rt=j(Pe);{let qe=ce(()=>{var xn;return((xn=o())==null?void 0:xn.a)??x(O).a}),bt=ce(()=>_e("a")),Je=ce(()=>y()==="vertical"),_n=ce(()=>B().label.a);ea(rt,{min:0,max:1,step:.01,get value(){return x(qe)},get onInput(){return x(bt)},get direction(){return y()},get reverse(){return x(Je)},get ariaLabel(){return x(_n)}})}H(Pe),Oe(qe=>Ye=Qt(Pe,"",Ye,qe),[()=>({"--alphaless-color":(c()?c():x(D)).substring(0,7)})]),J(We,Pe)};De(pe,We=>{g()&&We(Ue)})}var Re=K(pe,2);{var nt=We=>{var Pe=be(),Ye=ue(Pe);{let rt=ce(()=>c()??x(D)),qe=ce(()=>s()??x(P)),bt=ce(()=>o()??x(O)),Je=ce(B);vt(Ye,()=>x(ge).textInput,(_n,xn)=>{xn(_n,{get hex(){return x(rt)},get rgb(){return x(qe)},get hsv(){return x(bt)},onInput:St=>{St.hsv?o(St.hsv):St.rgb?s(St.rgb):St.hex&&c(St.hex)},get isAlpha(){return g()},get textInputModes(){return h()},get texts(){return x(Je)}})})}J(We,Pe)};De(Re,We=>{m()&&We(nt)})}var sn=K(Re,2);{var ut=We=>{var Pe=be(),Ye=ue(Pe);{let rt=ce(M),qe=ce(()=>c()||"#00000000");vt(Ye,()=>x(ge).a11yNotice,(bt,Je)=>{Je(bt,{get components(){return x(rt)},get a11yColors(){return E()},get hex(){return x(qe)},get a11yTexts(){return I()},get a11yLevel(){return k()}})})}J(We,Pe)};De(sn,We=>{M().a11yNotice&&We(ut)})}J(S,X)},$$slots:{default:!0}})}),H(Ae),Ct(Ae,z=>te(L,z),()=>x(L)),Oe(()=>lt(Ae,1,`color-picker ${y()??""}`,"svelte-1r4n3pu")),Lo("innerWidth",z=>te(U,z,!0)),Lo("innerHeight",z=>te(Y,z,!0)),J(e,Ae),we()}var p1=de('<button type="button" class="btn-icond btn-lg"><!></button>'),g1=de('<button type="button" aria-label="Select color" class="w-8 h-8 rounded-full ring-2 ring-gray-200 hover:ring-primary-500 transition"></button>'),m1=de('<div class="grid h-screen grid-rows-[auto_1fr_auto]"><header class="bg-surface-100 shadow flex flex-wrap items-center gap-3"><div class="flex-none px-8 bg-primary rounded select-none text-left font-bold text-success-700 flex items-center gap-2" style="min-width: 180px;"><img alt="Midori Icon" class="w-16 h-16 object-contain"/> <span class="hidden sm:inline">HGペイント（歩行グラフィックペイント）</span> <span class="sm:hidden flex flex-col"><span>HGペイント</span> <span>（歩行グラフィックペイント）</span></span></div> <div class="flex flex-1 flex-wrap justify-center items-center gap-3"><!> <div class="input-group grid-cols-[1fr_auto]"><input class="ig-input" type="text" placeholder="レイヤー名" maxlength="32"/> <button title="レイヤー名の編集"><!></button></div> <button type="button" class="btn-icond btn-lg"><!></button> <button type="button" class="btn-icond btn-lg"><!></button></div> <!> <div class="w-[12ch] flex justify-between font-mono text-sm tabular-nums"><span class="text-left">不透明度</span> <span class="text-right"> </span></div> <div class="my-2 w-full basis-full max-w-[300px] mt-2"><!></div></header> <div class="grid grid-cols-1 md:grid-cols-[auto_1fr_auto]"><aside class="bg-surface-200 p-4 space-y-4"><!></aside> <main class="bg-white flex items-center justify-center gap-4 px-4"><!> <div></div> <!></main> <aside class="bg-surface-200 p-4 space-y-4"><!> <!></aside></div> <footer class="bg-surface-100 shadow p-2 flex flex-wrap items-center justify-center gap-2"><!> <nav class="btn-group preset-outlined-surface-200-800 flex gap-4"><!> <!> <!> <!> <!></nav> <nav class="btn-group preset-outlined-surface-200-800 flex gap-2"></nav> <!> <!> <!> <!> <!> <!> <div class="w-full text-left flex flex-wrap items-center gap-4"><div class="rounded-full ring-2 ring-black ring-offset-2 ring-offset-white"><!></div> <input type="color" class="w-10 h-10 rounded-full border-none p-0"/> <div class="flex gap-2"></div></div></footer></div>');function A1(e,t){ye(t,!0);const n=()=>Qe($n,"$color",i),r=()=>Qe(ei,"$isOnionSkin",i),[i,a]=rn(),s=globalThis.innerWidth<768;let o=me(0);const c=()=>{setTimeout(()=>{te(o,performance.now(),!0)})};Me(()=>(document.addEventListener("pointerup",c),()=>document.removeEventListener("pointerup",c)));const u=async ne=>{if(d(ne)||!ne.ctrlKey)return;let he=ne.key;switch(ne.getModifierState("CapsLock")&&(he=/[a-z]/.test(he)?he.toUpperCase():he.toLowerCase()),he){case"1":ne.preventDefault(),te(Y,V.pen.label,!0);break;case"2":ne.preventDefault(),te(Y,V.eraser.label,!0);break;case"3":ne.preventDefault(),te(Y,V.dropper.label,!0);break;case"4":ne.preventDefault(),te(Y,V.fill.label,!0);break;case"5":ne.preventDefault(),te(Y,V.translate.label,!0);break;case"e":ne.preventDefault(),te(Q,!x(Q));break;case"f":ne.preventDefault(),te(M,!x(M));break;case"g":ne.preventDefault(),te(B,!x(B));break;case"d":ne.preventDefault(),te(re,!x(re));break;case"o":ne.preventDefault(),ei.update(se=>!se);break;case"z":ne.preventDefault(),Z(V.undo.label);break;case"Z":ne.preventDefault(),Z(V.redo.label);break;case"s":ne.preventDefault(),Z(V.save.label);break;case"c":{ne.preventDefault();const se=await new Promise(Ce=>Er().toBlob(Ce));if(!se)return;const xe=new ClipboardItem({"image/png":se});await navigator.clipboard.write([xe])}break}};Me(()=>{if(x(y))return window.removeEventListener("keydown",u),window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)});const d=ne=>{var se;const he=ne.target;return!((se=getSelection())!=null&&se.isCollapsed)||he.tagName==="INPUT"||he.tagName==="TEXTAREA"||he.isContentEditable},g=async ne=>{var yi,Eo;if(!((yi=x(h))!=null&&yi.editable))return;const he=Bi(),{width:se,height:xe}=Rn,Ce=await createImageBitmap(ne),Le=document.createElement("canvas");Le.width=se,Le.height=xe;const ze=Le.getContext("2d",{willReadFrequently:!0});if(!ze)return;ze.imageSmoothingEnabled=!1;const ht=Ce.width,zt=Ce.height,on=Math.min(se/ht,xe/zt),ln=ht*on,cr=zt*on,cn=(se-ln)/2,Cn=(xe-cr)/2;ze.drawImage(Ce,cn,Cn,ln,cr);const{data:Ca}=ze.getImageData(0,0,se,xe);for(let wi=0;wi<xe;wi++)for(let _i=0;_i<se;_i++){const Co=(wi*se+_i)*4,[Yu,Ju,Qu,So]=Ca.subarray(Co,Co+4);So&&(Dn.value=`rgba(${Yu}, ${Ju}, ${Qu}, ${So/255})`,x(h).drawByDot(_i*he,wi*he),x(h).used=!0)}(Eo=x(h))==null||Eo.trace(),c()},p=ne=>{var xe,Ce;if(d(ne)||!((xe=x(h))!=null&&xe.editable))return;let he=null;for(const Le of((Ce=ne.clipboardData)==null?void 0:Ce.items)??[])Le.kind==="file"&&Le.type.startsWith("image/")&&(he=Le);if(!he)return;const se=he.getAsFile();se&&g(se)};Me(()=>{if(x(y))return window.removeEventListener("paste",p),window.addEventListener("paste",p),()=>window.removeEventListener("paste",p)});let l=me(!1);Me(()=>{x(m)&&(x(m).addEventListener("dragover",ne=>{ne.preventDefault(),te(l,!0)}),x(m).addEventListener("dragleave",()=>{te(l,!1)}),x(m).addEventListener("drop",ne=>{if(ne.preventDefault(),te(l,!1),!ne.dataTransfer)return;const[he]=ne.dataTransfer.files;(he.type.startsWith("image/")||he.name.endsWith(".cur"))&&g(he)}))});const v=(ne,he)=>{if(!x(h))return;const se=Er().getContext("2d",{willReadFrequently:!0});if(!se)return;const{data:xe}=se.getImageData(0,0,x(k),E),Ce=(he*x(k)+ne)*4,[Le,ze,ht,zt]=xe.subarray(Ce,Ce+4);if(zt){te(Q,!1);const on=`#${[Le,ze,ht].map(ln=>ln.toString(16).padStart(2,"0")).join("")}`;He($n,on)}else te(Q,!0)},f=async(ne,he)=>{var ht;if(!x(h))return;const se=(ht=n().slice(1).match(/.{2}/g))==null?void 0:ht.map(zt=>Number.parseInt(zt,16));if((se==null?void 0:se.length)!==3)return;const[xe,Ce,Le]=se,ze=of(x(h).data,x(k),E,ne,he,x(Q)?[0,0,0,0]:[xe,Ce,Le,255]);ze&&(x(h).data=ze)};let m=me(void 0),h=me(void 0),y=me(null),_=me(null);const E=s?Math.floor(globalThis.innerWidth*.9/48)*48:480;let k=me(dt(E)),T=me(0);Me(()=>{I()});const I=async()=>{if(!x(m))return;te(T,performance.now(),!0);const ne=rr,he=ir,se=Math.floor(E*(ne/he));vf(x(m),se,E),te(k,se,!0);const xe=Bc.value,Ce=Gs.value;xe==null||xe.canvas.classList.add("upper-canvas"),Ce==null||Ce.canvas.classList.add("gimp-checkered-background"),te(y,xe,!0),te(_,Ce,!0),xe&&(xe.opacity=32),ff(1,he),document.documentElement.style.setProperty("--grid-cell-size",`${Bi()}px`),te(h,new en("レイヤー #1"),!0)};Me(()=>{x(y)&&document.addEventListener("pointermove",ne=>{if(!x(y))return;const[he,se]=Xn(ne);x(y).clear(),x(y).drawByDot(he,se)},{passive:!0})}),Me(()=>{if(!x(y))return;let ne=null,he=null;gf((Ce,Le,ze)=>{var ht,zt,on,ln;if(ne===null&&(ne=Ce),he===null&&(he=Le),x(Y)===V.dropper.label||(ze&2)!==0)v(Ce,Le),xe=!0;else if(x(Y)===V.translate.label)(ht=x(h))==null||ht.translateByDot(Ce-ne,Le-he);else{const cr=yf(Ce,Le,ne,he);switch(x(Y)){case V.pen.label:for(const[cn,Cn]of cr)x(Q)?(zt=x(h))==null||zt.eraseByDot(cn,Cn):(on=x(h))==null||on.drawByDot(cn,Cn);break;case V.eraser.label:for(const[cn,Cn]of cr)(ln=x(h))==null||ln.eraseByDot(cn,Cn);break}}ne=Ce,he=Le});const se=()=>{var Ce;(Ce=x(h))!=null&&Ce.modified()&&(x(h).trace(),R())};let xe=!1;mf((Ce,Le,ze)=>{var ht;ne=null,he=null,(ht=x(h))!=null&&ht.editable&&(x(Y)===V.fill.label&&!xe&&f(Ce,Le),xe=!1,se())}),pf((Ce,Le,ze)=>{})}),Me(()=>{x(h)&&(te(P,[x(h).opacity],!0),te(O,x(h).visible,!0),te(D,x(h).name,!0),te(N,!0),te(C,x(h).locked,!0))});let P=me(dt([100])),O=me(!0),D=me(""),N=me(!0),C=me(!1);Me(()=>{x(h)&&(x(h).opacity=x(P)[0])}),Me(()=>{x(h)&&(x(h).visible=x(O))}),Me(()=>{x(h)&&(x(h).name=x(D))}),Me(()=>{x(h)&&(x(h).locked=x(C))}),Me(()=>{mc.value=n(),Dn.value=n()});let L=me(dt([]));const b=32,R=()=>{if(x(Y)===V.translate.label)return;const ne=x(L).indexOf(n());ne!==0&&(ne!==-1&&x(L).splice(ne,1),x(L).unshift(n()),x(L).length>b&&x(L).pop(),te(L,[...x(L)],!0))},V={pen:{label:"ペン",mdi:R0,icon:Lf},eraser:{label:"消しゴム",mdi:T0,icon:Vo},dropper:{label:"カラーピッカー",mdi:A0,icon:Df},fill:{label:"塗りつぶし",mdi:I0,icon:Pf},translate:{label:"ハンドツール",mdi:O0,icon:Rf},erasable:{icon:Vo},flip:{icon:Af},grid:{icon:If},undo:{label:"戻る",mdi:D0,icon:Vf},redo:{label:"進む",mdi:P0,icon:Ff},save:{label:"画像を保存",mdi:S0,icon:Bf},clear:{label:"全消し",mdi:L0,icon:Or}};let U=[V.pen,V.eraser,V.dropper,V.fill,V.translate],Y=me(dt(Fo.value??V.pen.label));const q=ne=>{const he=`fill="${x(re)?"white":"black"}" stroke="${x(re)?"black":"white"}" stroke-width="1"`,se=`<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><path d="${ne}" ${he}/></svg>`;return`data:image/svg+xml;base64,${btoa(se)}`};Me(()=>{var ne;if(Fo.value=x(Y),x(y)){const he=x(Y)===V.fill.label?"21 19":"3 21",se=(ne=U.find(xe=>xe.label===x(Y)))==null?void 0:ne.mdi;if(!se)return;x(y).canvas.style.cursor=`url('${q(se)}') ${he}, auto`}});let Q=me(!1),M=me(!1);Me(()=>{qs.value=x(M)});let B=me(!0),re=me(!1);Me(()=>{x(re)?document.body.classList.add("hg-paint-gimp-dark"):document.body.classList.remove("hg-paint-gimp-dark")});let oe=[V.undo,V.redo,V.save,V.clear];const Z=ne=>{var he,se,xe,Ce;switch(ne){case V.undo.label:(he=x(h))==null||he.undo(),c();break;case V.redo.label:(se=x(h))==null||se.redo(),c();break;case V.save.label:{const Le=Er().toDataURL("image/png"),ze=document.createElement("a");ze.href=Le,ze.download="drawing.png",ze.click()}break;case V.clear.label:(xe=x(h))==null||xe.clear(),(Ce=x(h))==null||Ce.trace();break}};var fe=m1(),_e=j(fe),ve=j(_e),Ee=j(ve);pt(4),H(ve);var ge=K(ve,2),Ae=j(ge);Wn(Ae,{controlActive:"bg-secondary-500",get checked(){return x(C)},onCheckedChange:se=>{te(C,se.checked,!0)},inactiveChild:se=>{Wo(se,{size:"14"})},activeChild:se=>{Wo(se,{size:"14"})},$$slots:{inactiveChild:!0,activeChild:!0}});var Te=K(Ae,2),Ie=j(Te);Ze(Ie);var w=K(Ie,2);w.__click=()=>te(N,!x(N));var G=j(w);{var z=ne=>{zf(ne,{size:18})},A=ne=>{Cf(ne,{size:18})};De(G,ne=>{x(N)?ne(z):ne(A,!1)})}H(w),H(Te);var S=K(Te,2);S.__click=()=>{if(x(C)||!x(h)||x(h).used&&!confirm(`${x(h).name}を削除しますか？`))return;x(h).delete();const{above:ne,below:he}=x(h);ne?te(h,ne,!0):he?te(h,he,!0):(ms(),te(h,new en("レイヤー #1"),!0))};var F=j(S);Or(F,{size:18}),H(S);var X=K(S,2);X.__click=async()=>{x(C)||!x(h)||!confirm("全レイヤーを削除しますか？")||(Ar([]),ms(),te(h,new en("レイヤー #1"),!0))};var ee=j(X);Ef(ee,{size:18}),H(X),H(ge);var W=K(ge,2);Wn(W,{controlActive:"bg-secondary-500",get checked(){return x(O)},onCheckedChange:se=>{te(O,se.checked,!0)},inactiveChild:se=>{bs(se,{size:"14"})},activeChild:se=>{bs(se,{size:"14"})},$$slots:{inactiveChild:!0,activeChild:!0}});var ie=K(W,2),le=K(j(ie),2),ae=j(le);H(le),H(ie);var pe=K(ie,2),Ue=j(pe);no(Ue,{get value(){return x(P)},onValueChange:ne=>te(P,ne.value,!0),markers:[25,50,75]}),H(pe),H(_e);var Re=K(_e,2),nt=j(Re),sn=j(nt);jf(sn,{get initTimestamp(){return x(T)},get pointerupTimestamp(){return x(o)},get activeLayer(){return x(h)},set activeLayer(ne){te(h,ne,!0)}}),H(nt);var ut=K(nt,2),We=j(ut);{var Pe=ne=>{y0(ne,{get initTimestamp(){return x(T)}})};De(We,ne=>{s||ne(Pe)})}var Ye=K(We,2);let rt;Ct(Ye,ne=>te(m,ne),()=>x(m));var qe=K(Ye,2);{var bt=ne=>{r0(ne,{})};De(qe,ne=>{s||ne(bt)})}H(ut);var Je=K(ut,2),_n=j(Je);uh(_n,{});var xn=K(_n,2);s0(xn,{get pointerupTimestamp(){return x(o)},get activeLayer(){return x(h)},set activeLayer(ne){te(h,ne,!0)}}),H(Je),H(Re);var St=K(Re,2),kn=j(St);ul(kn,{name:"tool",get value(){return x(Y)},onValueChange:ne=>{ne.value&&te(Y,ne.value,!0)},children:(ne,he)=>{var se=be(),xe=ue(se);mt(xe,17,()=>U,gt,(Ce,Le)=>{var ze=be(),ht=ue(ze);vt(ht,()=>ul.Item,(zt,on)=>{on(zt,{get value(){return x(Le).label},children:(ln,cr)=>{var cn=be(),Cn=ue(cn);vt(Cn,()=>x(Le).icon,(Ca,yi)=>{yi(Ca,{})}),J(ln,cn)},$$slots:{default:!0}})}),J(Ce,ze)}),J(ne,se)},$$slots:{default:!0}});var En=K(kn,2),fo=j(En);Wn(fo,{controlActive:"bg-secondary-500",get checked(){return x(Q)},onCheckedChange:se=>{te(Q,se.checked,!0)},inactiveChild:se=>{var xe=be(),Ce=ue(xe);vt(Ce,()=>V.erasable.icon,(Le,ze)=>{ze(Le,{size:"14"})}),J(se,xe)},activeChild:se=>{var xe=be(),Ce=ue(xe);vt(Ce,()=>V.erasable.icon,(Le,ze)=>{ze(Le,{size:"14"})}),J(se,xe)},$$slots:{inactiveChild:!0,activeChild:!0}});var ho=K(fo,2);Wn(ho,{controlActive:"bg-secondary-500",get checked(){return x(M)},onCheckedChange:se=>{te(M,se.checked,!0)},inactiveChild:se=>{var xe=be(),Ce=ue(xe);vt(Ce,()=>V.flip.icon,(Le,ze)=>{ze(Le,{size:"14"})}),J(se,xe)},activeChild:se=>{var xe=be(),Ce=ue(xe);vt(Ce,()=>V.flip.icon,(Le,ze)=>{ze(Le,{size:"14"})}),J(se,xe)},$$slots:{inactiveChild:!0,activeChild:!0}});var vo=K(ho,2);Wn(vo,{controlActive:"bg-secondary-500",get checked(){return x(B)},onCheckedChange:se=>{te(B,se.checked,!0)},inactiveChild:se=>{var xe=be(),Ce=ue(xe);vt(Ce,()=>V.grid.icon,(Le,ze)=>{ze(Le,{size:"14"})}),J(se,xe)},activeChild:se=>{var xe=be(),Ce=ue(xe);vt(Ce,()=>V.grid.icon,(Le,ze)=>{ze(Le,{size:"14"})}),J(se,xe)},$$slots:{inactiveChild:!0,activeChild:!0}});var po=K(vo,2);Wn(po,{controlActive:"bg-secondary-500",get checked(){return x(re)},onCheckedChange:se=>{te(re,se.checked,!0)},inactiveChild:se=>{Mf(se,{size:"14"})},activeChild:se=>{Of(se,{size:"14"})},$$slots:{inactiveChild:!0,activeChild:!0}});var Ku=K(po,2);Wn(Ku,{controlActive:"bg-secondary-500",get checked(){return r()},onCheckedChange:se=>{ei.set(se.checked)},inactiveChild:se=>{Uo(se,{size:"14"})},activeChild:se=>{Uo(se,{size:"14"})},$$slots:{inactiveChild:!0,activeChild:!0}}),H(En);var xa=K(En,2);mt(xa,21,()=>oe,gt,(ne,he)=>{var se=p1();se.__click=()=>Z(x(he).label);var xe=j(se);vt(xe,()=>x(he).icon,(Ce,Le)=>{Le(Ce,{size:18})}),H(se),J(ne,se)}),H(xa);var go=K(xa,2);u0(go);var mo=K(go,2);x0(mo,{init:I,get activeLayer(){return x(h)},set activeLayer(ne){te(h,ne,!0)},get initTimestamp(){return x(T)},set initTimestamp(ne){te(T,ne,!0)}});var bo=K(mo,2);Qb(bo,{init:I,get activeLayer(){return x(h)},set activeLayer(ne){te(h,ne,!0)},get initTimestamp(){return x(T)},set initTimestamp(ne){te(T,ne,!0)}});var yo=K(bo,2);Gb(yo,{get width(){return x(k)},get height(){return E}});var wo=K(yo,2);l0(wo,{get activeLayer(){return x(h)},set activeLayer(ne){te(h,ne,!0)}});var _o=K(wo,2);C0(_o,{});var xo=K(_o,2),ka=j(xo),Xu=j(ka);v1(Xu,{label:"",isAlpha:!1,get hex(){return zd(),n()},set hex(ne){He($n,ne)}}),H(ka);var Ea=K(ka,2);Ze(Ea);var ko=K(Ea,2);mt(ko,21,()=>x(L),gt,(ne,he)=>{var se=g1();se.__click=()=>He($n,x(he)),Oe(()=>Qt(se,`background-color:${x(he)??""};`)),J(ne,se)}),H(ko),H(xo),H(St),H(fe),Oe(()=>{Ve(Ee,"src",`${dc??""}/midori.png`),Ie.disabled=x(N),lt(w,1,`ig-btn ${x(N)?"":"preset-filled"}`),st(ae,`${x(P)??""}%`),rt=lt(Ye,1,"relative",null,rt,{"hg-paint-grid-mode":x(B),"hg-paint-dragover":x(l)})}),vn(Ie,()=>x(D),ne=>te(D,ne)),vn(Ea,n,ne=>He($n,ne)),J(e,fe),we(),a()}ft(["click"]);export{A1 as component};
